{"meta":{"title":"DD_XIEçš„å­¦ä¹ ç¬”è®°","subtitle":"^_^","description":"å‰ç«¯å­¦ä¹ ","author":"I'm xiedandan","url":"http://xdd7130.github.io","root":"/"},"pages":[{"title":"ä¹¦å•","date":"2022-11-02T11:15:20.839Z","updated":"2022-11-02T11:15:20.839Z","comments":false,"path":"books/index.html","permalink":"http://xdd7130.github.io/books/index.html","excerpt":"","text":"ä¹¦å•é“¾æ¥"},{"title":"åˆ†ç±»","date":"2018-12-26T09:25:11.000Z","updated":"2022-11-02T11:15:20.840Z","comments":true,"path":"categories/index.html","permalink":"http://xdd7130.github.io/categories/index.html","excerpt":"","text":""},{"title":"about","date":"2018-12-27T02:36:14.000Z","updated":"2022-11-02T11:15:20.838Z","comments":true,"path":"about/index.html","permalink":"http://xdd7130.github.io/about/index.html","excerpt":"","text":"1.Markdownå¼•ç”¨éŸ³é¢‘(è‡ªå®šä¹‰) ### 3.Markdownè§†é¢‘(å¼•ç”¨çˆ±å¥‡è‰º) 4.Markdownè§†é¢‘(å¼•ç”¨è…¾è®¯ï¼‰ 5.æ’å…¥Markdown gif"},{"title":"å‹æƒ…é“¾æ¥","date":"2022-11-02T11:15:20.842Z","updated":"2022-11-02T11:15:20.842Z","comments":true,"path":"links/index.html","permalink":"http://xdd7130.github.io/links/index.html","excerpt":"","text":"å‹æƒ…é“¾æ¥"},{"title":"Repositories","date":"2022-11-02T11:15:20.842Z","updated":"2022-11-02T11:15:20.842Z","comments":false,"path":"repository/index.html","permalink":"http://xdd7130.github.io/repository/index.html","excerpt":"","text":"å‹æƒ…é“¾æ¥"},{"title":"æ ‡ç­¾äº‘","date":"2018-12-26T09:28:15.000Z","updated":"2022-11-02T11:15:20.843Z","comments":true,"path":"tags/index.html","permalink":"http://xdd7130.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"JSON å’Œ excelä¹‹é—´çš„è½¬æ¢","slug":"JSONå’Œexcelä¹‹é—´çš„è½¬æ¢","date":"2025-02-08T06:34:15.000Z","updated":"2025-02-15T04:02:15.961Z","comments":true,"path":"2025/02/08/JSONå’Œexcelä¹‹é—´çš„è½¬æ¢/","link":"","permalink":"http://xdd7130.github.io/2025/02/08/JSONå’Œexcelä¹‹é—´çš„è½¬æ¢/","excerpt":"","text":"ä¾èµ–åŒ…å®‰è£…1yarn add fs xlsx jsonè½¬excel1234567891011121314151617const fs = require('fs')const XLSX = require('xlsx')// è¯»å–JSONæ–‡ä»¶const jsonData = JSON.parse(fs.readFileSync('public/static/i18n/zh_CN/index.json', 'utf-8'))const handleArr = Object.entries(jsonData).map(item =&gt; &#123; return &#123; key: item[0], value: item[1] &#125;&#125;)// è½¬æ¢ä¸ºå·¥ä½œè¡¨const worksheet = XLSX.utils.json_to_sheet(handleArr)// åˆ›å»ºå·¥ä½œç°¿å¹¶æ·»åŠ å·¥ä½œè¡¨const workbook = XLSX.utils.book_new()XLSX.utils.book_append_sheet(workbook, worksheet, 'Sheet1')// å†™å…¥æ–‡ä»¶XLSX.writeFile(workbook, 'hbmLang.xlsx') excelè½¬json123456789101112131415161718const XLSX = require('xlsx')const fs = require('fs')// è¯»å– Excel æ–‡ä»¶const workbook = XLSX.readFile('hbmLang.xlsx')// é€‰æ‹©è¦è½¬æ¢çš„å·¥ä½œè¡¨const sheetName = workbook.SheetNames[0] // å‡è®¾æˆ‘ä»¬åªè½¬æ¢ç¬¬ä¸€ä¸ªå·¥ä½œè¡¨const worksheet = workbook.Sheets[sheetName]// å°†å·¥ä½œè¡¨è½¬æ¢ä¸º JSONconst jsonData = XLSX.utils.sheet_to_json(worksheet)let objectData = jsonData.reduce((pre, cur) =&gt; &#123; return &#123; ...pre, [cur.key]: cur.value &#125;&#125;, &#123;&#125;)// å°† JSON æ•°æ®å†™å…¥æ–‡ä»¶æˆ–æ§åˆ¶å°è¾“å‡ºfs.writeFileSync('hbmLang.json', JSON.stringify(objectData, null, 2))","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://xdd7130.github.io/categories/ç¬”è®°/"}],"tags":[{"name":"node","slug":"node","permalink":"http://xdd7130.github.io/tags/node/"}]},{"title":"D3(1)","slug":"D3-1","date":"2025-02-08T03:35:15.000Z","updated":"2025-02-15T04:02:15.959Z","comments":true,"path":"2025/02/08/D3-1/","link":"","permalink":"http://xdd7130.github.io/2025/02/08/D3-1/","excerpt":"","text":"ç®€ä»‹ D3.js æ˜¯ä¸€ä¸ª JavaScript åº“ï¼Œç”¨äºåœ¨ Web ä¸Šåˆ›å»ºå›¾è¡¨ã€åœ°å›¾ç­‰å¯è§†åŒ–æ•ˆæœã€‚ D3 æ˜¯ Data-Driven Documents(æ•°æ®é©±åŠ¨æ–‡æ¡£) çš„ç®€ç§° å®ƒä½¿ç”¨å¯ç¼©æ”¾çŸ¢é‡å›¾å½¢ ï¼ˆSVGï¼‰ã€HTML5 å’Œçº§è”æ ·å¼è¡¨ï¼ˆCSSï¼‰ æ ‡å‡† ä¸è®¸å¤šå…¶ä»–æä¾›ç°æˆå›¾è¡¨çš„æ•°æ®å¯è§†åŒ–åº“ä¸åŒï¼ŒD3 ä¸ºæ‚¨æä¾›äº†å¾ˆå¤§çš„åˆ›ä½œè‡ªç”±ï¼Œå› ä¸ºæ‚¨å¯ä»¥å®Œå…¨æ§åˆ¶æ‚¨åˆ›å»ºçš„å¯è§†åŒ–ã€‚D3 è¿˜ä½¿ç”¨ HTMLã€CSSã€SVG å’Œ JavaScript ç­‰ Web æŠ€æœ¯ã€‚ æ•°æ®ç»‘å®š Data-Joinå°†æ•°æ®ä¸ DOM å…ƒç´ ï¼ˆå¦‚ SVG å…ƒç´ ï¼‰å…³è”èµ·æ¥ã€‚æ•°æ®ç»‘å®šæ˜¯ D3 å®ç°æ•°æ®é©±åŠ¨æ–‡æ¡£ï¼ˆData-Driven Documentsï¼‰çš„å…³é”®æœºåˆ¶æ•°æ®ç»‘å®šæ˜¯æŒ‡å°†æ•°æ®æ•°ç»„ä¸ DOM å…ƒç´ è¿›è¡Œå…³è”ï¼Œå¹¶æ ¹æ®æ•°æ®çš„é•¿åº¦å’Œå†…å®¹åŠ¨æ€åˆ›å»ºã€æ›´æ–°æˆ–åˆ é™¤ DOM å…ƒç´ ã€‚D3 é€šè¿‡ä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤å®ç°æ•°æ®ç»‘å®šï¼š Enterï¼šä¸ºæ–°å¢æ•°æ®åˆ›å»ºæ–°å…ƒç´ ã€‚ Updateï¼šæ›´æ–°ç°æœ‰å…ƒç´ ä»¥åæ˜ æ•°æ®çš„å˜åŒ–ã€‚ Exitï¼šç§»é™¤ä¸å†éœ€è¦çš„å…ƒç´ ã€‚ æ•°æ®ç»‘å®šçš„æ ¸å¿ƒæ–¹æ³•D3 æä¾›äº† .data() æ–¹æ³•æ¥å®ç°æ•°æ®ç»‘å®šï¼Œå¹¶ç»“åˆ .enter()ã€.exit() å’Œ .merge() æ¥å¤„ç†æ•°æ®çš„å¢åˆ æ”¹ã€‚ .data(data)å°†æ•°æ®æ•°ç»„ç»‘å®šåˆ°é€‰ä¸­çš„ DOM å…ƒç´ ã€‚ è¿”å›ä¸€ä¸ªç»‘å®šæ•°æ®çš„å¯¹è±¡ï¼ŒåŒ…å« enterã€exit å’Œ _groups ç­‰å±æ€§ã€‚ .enter()è¿”å›ä¸€ä¸ªâ€œå ä½ç¬¦â€é€‰æ‹©é›†ï¼Œè¡¨ç¤ºéœ€è¦æ–°å¢çš„å…ƒç´ ã€‚ é€šå¸¸ä¸ .append() ç»“åˆä½¿ç”¨ï¼Œä¸ºæ–°å¢æ•°æ®åˆ›å»º DOM å…ƒç´ ã€‚ .exit()è¿”å›ä¸€ä¸ªé€‰æ‹©é›†ï¼Œè¡¨ç¤ºéœ€è¦ç§»é™¤çš„å…ƒç´ ã€‚ é€šå¸¸ä¸ .remove() ç»“åˆä½¿ç”¨ï¼Œåˆ é™¤å¤šä½™çš„å…ƒç´ ã€‚ .merge(selection)å°† enter å’Œ update é€‰æ‹©é›†åˆå¹¶ï¼Œä»¥ä¾¿åŒæ—¶å¯¹æ–°å¢å’Œæ›´æ–°çš„å…ƒç´ è¿›è¡Œæ“ä½œã€‚ data().data(data, keyFunction)dataæ¥ç»‘å®šæ•°æ®ï¼ŒkeyFunctionå®šä¹‰æ•°æ®å¦‚ä½•å»ç´¢å¼•e.g d3.selectAll(â€˜rectâ€™).data(data, d =&gt; data.name).attr(â€˜widthâ€™, d =&gt; xScale(d.value)) ç†è§£Updateã€Enterã€Exit ä¸ æ·»åŠ ã€åˆ é™¤å…ƒç´ åœ¨ä½¿ç”¨data()ç»‘å®šæ•°æ®æ—¶ï¼Œä¾‹å¦‚ï¼šç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„[3,6,9,12,15],æˆ‘ä»¬å¯ä»¥å°†æ•°ç»„æ¯ä¸€é¡¹ä¸ä¸€ä¸ªç»‘å®šï¼Œä½†æ˜¯ï¼Œç°åœ¨å°±æœ‰ä¸€ä¸ªé—®é¢˜â€”â€”æ•°æ®é›†ä¸ªæ•°å’Œé€‰æ‹©é›†ä¸ªæ•°ä¸åŒ¹é…æ€ä¹ˆåŠï¼Ÿè¿™æ ·å°±éœ€è¦ç†è§£Updateã€Enterã€Exité€šè¿‡ä»¥ä¸‹å›¾å¯ä»¥ç†è§£ Updateã€Enterã€Exit æ•°ç»„[3,6,9,12,15]ç»‘å®šåˆ°ä¸‰ä¸ªä¸Šã€‚å¯ä»¥æƒ³è±¡åˆ°ï¼Œæ•°ç»„çš„æœ€åä¸¤ä¸ªå…ƒç´ æ²¡æœ‰å¯ä»¥ç»‘å®šçš„å…ƒç´ ï¼Œè¿™æ—¶D3ä¼šå»ºç«‹ä¸¤ä¸ªç©ºçš„å…ƒç´ ä¸æ•°ç»„æœ€åçš„ä¸¤ä¸ªæ•°æ®ç›¸å¯¹äºï¼Œé‚£ä¹ˆè¿™éƒ¨åˆ†å°±ç§°ä¸ºEnterã€‚è€Œæœ‰å…ƒç´ ä¸æ•°æ®å¯¹åº”çš„éƒ¨åˆ†å°±ç§°ä¸ºUpdate å¦‚æœæ•°ç»„[3]ç»‘å®šåˆ°ä¸‰ä¸ªä¸Šï¼Œå¯ä»¥æƒ³è±¡ï¼Œæœ€åä¸¤ä¸ªæ²¡æœ‰å¯ç»‘å®šçš„æ•°æ®ï¼Œé‚£ä¹ˆæ²¡æœ‰æ•°æ®ç»‘å®šçš„éƒ¨åˆ†å°±ç§°ä¸ºExit Updateä¸Enterçš„ä½¿ç”¨12345678910111213141516171819202122232425262728293031323334&lt;body&gt; &lt;p&gt;name1&lt;/p&gt; &lt;p&gt;name2&lt;/p&gt; &lt;p&gt;name3&lt;/p&gt; &lt;script&gt; var dataset = [3,6,9,12,15]; var p = d3.selectAll(\"p\"); var update = p.data(dataset)//ç»‘å®šæ•°æ®,å¹¶å¾—åˆ°updateéƒ¨åˆ† var enter = update.enter();//å¾—åˆ°enteréƒ¨åˆ† //ä¸‹é¢æ£€éªŒæ˜¯å¦çœŸçš„å¾—åˆ° //å¯¹äºupdateçš„å¤„ç† // åŒ¿åå‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•° d ä¸ºæ¯ä¸ªå…ƒç´ æ‰€ç»‘å®šçš„å¯¹åº”æ•°æ® data // åŒ¿åå‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•° i ä¸ºæ¯ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œä» 0 å¼€å§‹é€’å¢ update.text(function(d,i)&#123; return \"update: \"+d+\",index: \"+i; &#125;) //å¯¹äºenterçš„å¤„ç† //æ³¨æ„ï¼Œè¿™é‡Œéœ€è¦å…ˆæ·»åŠ è¶³å¤Ÿå¤šçš„&lt;p&gt;ï¼Œç„¶ååœ¨æ·»åŠ æ–‡æœ¬ var pEnter = enter.append(\"p\")//æ·»åŠ è¶³å¤Ÿå¤šçš„&lt;p&gt; pEnter.text(function(d,i)&#123; return \"enter: \"+d+\",index: \"+i; &#125;) /* è¿è¡Œç»“æœå¦‚ä¸‹ï¼š update: 3,index: 0 update: 6,index: 1 update: 9,index: 2 enter: 12,index: 3 enter: 15,index: 4 */ &lt;/script&gt; &lt;/body&gt; Updateä¸Exitçš„ä½¿ç”¨ 123456789101112131415161718192021222324252627282930 &lt;body&gt;&lt;p&gt;name1&lt;/p&gt; &lt;p&gt;name2&lt;/p&gt; &lt;p&gt;name3&lt;/p&gt; &lt;script&gt; var dataset = [3,6]; var p = d3.select(\"body\") .selectAll(\"p\"); var update = p.data(dataset)//ç»‘å®šæ•°æ®,å¹¶å¾—åˆ°updateéƒ¨åˆ† var exit = update.exit();//å¾—åˆ°exitéƒ¨åˆ† //ä¸‹é¢æ£€éªŒæ˜¯å¦çœŸçš„å¾—åˆ° //å¯¹äºupdateçš„å¤„ç† update.text(function(d,i)&#123; return \"update: \"+d+\",index: \"+i; &#125;) //å¯¹äºexitçš„å¤„ç†é€šå¸¸æ˜¯åˆ é™¤ ï¼Œä½†åœ¨è¿™é‡Œæˆ‘å¹¶æ²¡æœ‰è¿™ä¹ˆåš // åˆ é™¤æ“ä½œä¸º exit.remove() exit.text(function(d,i)&#123; return \"exit\"; &#125;) /* è¿è¡Œç»“æœå¦‚ä¸‹ï¼š update: 3,index: 0 update: 6,index: 1 exit */ &lt;/script&gt;&lt;/body&gt; selection.join(enter[, update][, exit])1234567è¿™æ˜¯V5ç‰ˆæœ¬çš„æ–°ç‰¹æ€§ï¼Œè¿™ç§æ–¹æ³•å¾ˆæ–¹ä¾¿ï¼Œå¯ä»¥ä»£æ›¿selection.enter, selection.exit, selection.append, selection.remove, selection.order.svg.selectAll(\"circle\") .data(data) .join(\"circle\") .attr(\"fill\", \"none\") .attr(\"stroke\", \"black\"); 1234567891011ç®€å†™ç›¸å½“äº:svg.selectAll(\"circle\") .data(data) .join( enter =&gt; enter.append(\"circle\"), update =&gt; update, exit =&gt; exit.remove() ) .attr(\"fill\", \"none\") .attr(\"stroke\", \"black\"); é€šè¿‡åœ¨è¿›å…¥ã€æ›´æ–°å’Œé€€å‡ºä¸Šä¼ é€’å•ç‹¬çš„å‡½æ•°ï¼Œæ‚¨å¯ä»¥æ›´å¥½åœ°æ§åˆ¶å‘ç”Ÿçš„äº‹æƒ…ã€‚é€šè¿‡æŒ‡å®šé€‰æ‹©çš„å…³é”®å‡½æ•°ã€æ•°æ®ï¼Œæ‚¨å¯ä»¥å°½é‡å‡å°‘å¯¹DOMçš„æ›´æ”¹ä»¥ä¼˜åŒ–æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œä¸ºè¾“å…¥å’Œæ›´æ–°è®¾ç½®ä¸åŒçš„å¡«å……é¢œè‰²: 1234567svg.selectAll(\"circle\") .data(data) .join( enter =&gt; enter.append(\"circle\").attr(\"fill\", \"green\"), update =&gt; update.attr(\"fill\", \"blue\") ) .attr(\"stroke\", \"black\"); dataå’Œdatum æ•°æ®ç»‘å®šå¯¹è±¡ï¼šdata() ç”¨äºå°†ä¸€ä¸ªæ•°ç»„ç»‘å®šåˆ°å¤šä¸ª DOM å…ƒç´ ã€‚datum() ç”¨äºå°†å•ä¸ªæ•°æ®é¡¹ç»‘å®šåˆ°å•ä¸ª DOM å…ƒç´ ã€‚ è¿”å›å€¼ï¼šdata() è¿”å›ä¸€ä¸ªæ›´æ–°çš„é€‰æ‹©é›†ï¼Œå¯ä»¥ç”¨äºè¿›ä¸€æ­¥çš„æ“ä½œï¼ˆå¦‚è¿›å…¥ã€æ›´æ–°ã€é€€å‡ºï¼‰ã€‚datum() ä¸è¿”å›æ›´æ–°çš„é€‰æ‹©é›†ï¼Œè€Œæ˜¯ç›´æ¥å°†æ•°æ®ç»‘å®šåˆ°å½“å‰é€‰æ‹©çš„å…ƒç´ ã€‚ åº”ç”¨åœºæ™¯data()ï¼šé€‚ç”¨äºéœ€è¦å°†å¤šä¸ªæ•°æ®é¡¹ç»‘å®šåˆ°å¤šä¸ª DOM å…ƒç´ çš„åœºæ™¯ï¼Œå¦‚ç»˜åˆ¶å¤šä¸ªåœ†åœˆã€æŸ±çŠ¶å›¾ç­‰ã€‚datum()ï¼šé€‚ç”¨äºéœ€è¦å°†å•ä¸ªæ•°æ®é¡¹ç»‘å®šåˆ°å•ä¸ª DOM å…ƒç´ çš„åœºæ™¯ï¼Œå¦‚ç»˜åˆ¶å•ä¸ªçŸ©å½¢ã€æ–‡æœ¬ç­‰ã€‚ extentå’Œmaxï¼Œmind3.extent ç”¨äºè®¡ç®—æ•°æ®é›†çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«è¿™ä¸¤ä¸ªå€¼çš„æ•°ç»„ã€‚d3.max ç”¨äºè®¡ç®—æ•°æ®é›†ä¸­çš„æœ€å¤§å€¼ï¼Œè¿”å›ä¸€ä¸ªå•ä¸ªå€¼ã€‚d3.min ç”¨äºè®¡ç®—æ•°æ®é›†ä¸­çš„æœ€å°å€¼ï¼Œè¿”å›ä¸€ä¸ªå•ä¸ªå€¼ã€‚1234const data = [4, 8, 15, 16, 23, 42];const extent = d3.extent(data);console.log(extent); // è¾“å‡º: [4, 42] d3.pathSVG åŸºæœ¬å½¢çŠ¶ä¸­æœ€å¼ºå¤§çš„ä¸€ä¸ªï¼Œæ˜¯ä¸€ä¸ªç”¨äºç”Ÿæˆ SVG è·¯å¾„æ•°æ®å­—ç¬¦ä¸²çš„å·¥å…·ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•æ¥ç»˜åˆ¶çº¿æ¡ã€æ›²çº¿ç­‰ã€‚123456789101112131415161718const pathGenerator = d3.path();// ç§»åŠ¨åˆ°èµ·å§‹ç‚¹pathGenerator.moveTo(10, 10);// ç”»ä¸€æ¡çº¿åˆ° (100, 100)pathGenerator.lineTo(100, 100);// ç”»ä¸€æ¡æ›²çº¿åˆ° (150, 50)pathGenerator.quadraticCurveTo(125, 75, 150, 50);// å…³é—­è·¯å¾„pathGenerator.closePath();// è·å–ç”Ÿæˆçš„è·¯å¾„æ•°æ®å­—ç¬¦ä¸²const pathData = pathGenerator.toString();console.log(pathData); // è¾“å‡º: \"M10,10L100,100Q125,75,150,50Z\" d3.lined3.line æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œç”¨äºåˆ›å»ºçº¿æ¡è·¯å¾„ã€‚å®ƒå¯ä»¥å¤„ç†å¤šä¸ªæ•°æ®ç‚¹ï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„è·¯å¾„æ•°æ®å­—ç¬¦ä¸²ã€‚12345678910111213const data = [ &#123; x: 10, y: 10 &#125;, &#123; x: 100, y: 100 &#125;, &#123; x: 150, y: 50 &#125;];const lineGenerator = d3.line() .x(d =&gt; d.x) .y(d =&gt; d.y);const pathData = lineGenerator(data);console.log(pathData); // è¾“å‡º: \"M10,10L100,100L150,50\" d3.aread3.area æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œç”¨äºåˆ›å»ºåŒºåŸŸè·¯å¾„ã€‚å®ƒå¯ä»¥å¤„ç†å¤šä¸ªæ•°æ®ç‚¹ï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„è·¯å¾„æ•°æ®å­—ç¬¦ä¸²ï¼Œç”¨äºç»˜åˆ¶åŒºåŸŸå›¾ã€‚1234567891011121314const data = [ &#123; x: 10, y: 10 &#125;, &#123; x: 100, y: 100 &#125;, &#123; x: 150, y: 50 &#125;];const areaGenerator = d3.area() .x(d =&gt; d.x) .y0(0) .y1(d =&gt; d.y);const pathData = areaGenerator(data);console.log(pathData); // è¾“å‡º: \"M10,10L100,100L150,50L150,0L10,0Z\" d3.arc().innerRadius().outerRadius()ç”¨äºé¥¼å›¾ interactionåœ¨ D3.js ä¸­ï¼Œäº¤äº’ï¼ˆinteractionï¼‰æ˜¯åˆ›å»ºåŠ¨æ€å’Œå“åº”å¼æ•°æ®å¯è§†åŒ–çš„é‡è¦éƒ¨åˆ†ã€‚D3.js æä¾›äº†å¤šç§æ–¹æ³•æ¥å¤„ç†ç”¨æˆ·äº¤äº’ï¼ŒåŒ…æ‹¬é¼ æ ‡äº‹ä»¶ã€è§¦æ‘¸äº‹ä»¶ã€é”®ç›˜äº‹ä»¶ç­‰. é¼ æ ‡äº‹ä»¶ï¼šmouseoverã€mouseoutã€clickã€dblclickã€mousemove ç­‰ã€‚ è§¦æ‘¸äº‹ä»¶ï¼štouchstartã€touchmoveã€touchend ç­‰ã€‚ é”®ç›˜äº‹ä»¶ï¼škeydownã€keyup ç­‰ã€‚ æ‹–åŠ¨äº‹ä»¶ï¼šd3.drag æ–¹æ³•","categories":[{"name":"D3","slug":"D3","permalink":"http://xdd7130.github.io/categories/D3/"}],"tags":[{"name":"D3","slug":"D3","permalink":"http://xdd7130.github.io/tags/D3/"}]},{"title":"hexoå­¦ä¹ ","slug":"hexo","date":"2022-11-02T11:15:20.551Z","updated":"2022-11-02T11:15:20.551Z","comments":true,"path":"2022/11/02/hexo/","link":"","permalink":"http://xdd7130.github.io/2022/11/02/hexo/","excerpt":"","text":"https://xdd7130.github.ioè‹¥å­˜å‚¨åœ¨masterä¸­,xdd7130ä¸å¯æ›´æ”¹,å¿…é¡»å’Œgithubçš„usernameä¸€è‡´. ä¸ºåšå®¢æ·»åŠ è®¿é—®é‡å‚è€ƒï¼šhttps://blog.csdn.net/qw8880000/article/details/80235391è¿™é‡Œä½¿ç”¨çš„æ˜¯ä¸è’œå­æä¾›çš„é˜…è¯»ç»Ÿè®¡åŠŸèƒ½ï¼Œä½¿ç”¨çš„hexoä¸»é¢˜æ˜¯stageã€‚ æ·»åŠ æ˜¯å¦å¼€å¯ç»Ÿè®¡åŠŸèƒ½çš„é…ç½®æ‰¾åˆ°stageä¸»é¢˜çš„é…ç½®æ–‡ä»¶themes/stage/_config.ymlï¼Œæ‰¾åˆ°åŸæ¥çš„footerå­—æ®µï¼ŒåŠ å…¥ä¸€ä¸ªé…ç½®ï¼Œè¿™é‡Œæˆ‘ä»¬å«å®ƒcounterå§ï¼Œå³1234footer: # ------------------------------------------------------------- # visitors count counter: true ä¿®æ”¹stageä¸»é¢˜çš„æ¨¡æ¿æ–‡ä»¶ç”±äºæ˜¯æŠŠè®¿é—®é‡ç»Ÿè®¡æ”¾åœ¨ç½‘é¡µçš„footerï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹çš„æ¨¡æ¿æ–‡ä»¶æ˜¯theme/stage/layout/_partials/footer.ejsã€‚æˆ‘ä»¬åœ¨åˆé€‚çš„ä½ç½®åŠ å…¥ï¼š123456789&#123;% if theme.footer.counter %&#125; &lt;script async src=\"//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\"&gt;&lt;/script&gt; &lt;span id=\"busuanzi_container_site_pv\"&gt;æ€»è®¿é—®é‡&lt;span id=\"busuanzi_value_site_pv\"&gt;&lt;/span&gt;æ¬¡&lt;/span&gt; &lt;span class=\"post-meta-divider\"&gt;|&lt;/span&gt; &lt;span id=\"busuanzi_container_site_uv\"&gt;æ€»è®¿å®¢&lt;span id=\"busuanzi_value_site_uv\"&gt;&lt;/span&gt;äºº&lt;/span&gt; &lt;span class=\"post-meta-divider\"&gt;|&lt;/span&gt;&#123;% endif %&#125; Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment Hexo+githubæ­å»ºåšå®¢1ã€ npm install -g hexoé”™è¯¯ï¼šnpm WARN deprecated titlecase@1.1.2: no longer maintainedè§£å†³ï¼šå®‰è£…æ·˜å®é•œåƒ12npm config set registry https://registry.npm.taobao.orgnpm install -g cnpm --registry=https://registry.npm.taobao.org 2ã€ åˆå§‹åŒ–(hexo init)Hexoæ–‡ä»¶å¤¹å¿…é¡»ä¸ºç©ºã€‚3ã€ hexo g ç”Ÿæˆé™æ€æ–‡ä»¶1hexo s æ­å»ºæœ¬åœ°æœåŠ¡æŸ¥çœ‹localhost:4000 4ã€ hexo dé—®é¢˜ï¼š$ hexo dï¼š ERROR Deployer not found: git1npm install --save hexo-deployer-git éƒ¨ç½²æœ¬åœ°æ–‡ä»¶åˆ°githubæ—¢ç„¶Repositoryå·²ç»åˆ›å»ºäº†ï¼Œå½“ç„¶æ˜¯å…ˆæŠŠåšå®¢æ”¾åˆ°Githubä¸Šå»çœ‹çœ‹æ•ˆæœã€‚ç¼–è¾‘Eï¼š\\hexoä¸‹çš„_config.ymlæ–‡ä»¶ï¼Œå»ºè®®ä½¿ç”¨Notepad++ã€‚åœ¨_config.ymlæœ€ä¸‹æ–¹ï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®(å‘½ä»¤ä¸­çš„ç¬¬ä¸€ä¸ªtengjä¸ºGithubçš„ç”¨æˆ·å,ç¬¬äºŒä¸ªtengjä¸ºä¹‹å‰Newçš„Repositoryçš„åå­—,è®°å¾—æ”¹æˆè‡ªå·±çš„ã€‚å¦å¤–è®°å¾—ä¸€ç‚¹ï¼Œhexoçš„é…ç½®æ–‡ä»¶ä¸­ä»»ä½•â€™:â€™åé¢éƒ½æ˜¯å¸¦ä¸€ä¸ªç©ºæ ¼çš„),å¦‚æœé…ç½®ä»¥ä¸‹å‘½ä»¤å‡ºç°ERROR Deployer not found : githubï¼Œåˆ™å‚è€ƒä¸Šæ–‡çš„è§£å†³æ–¹æ³•1234deploy: type: git repository: https://github.com/tengj/tengj.github.io.git branch: master é…ç½®_config.ymlå¹¶ä¿å­˜ã€‚å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨Githubæˆ–è€…æ˜¯å·²ç»ä½¿ç”¨è¿‡ï¼Œä½†æ²¡æœ‰é…ç½®è¿‡SSHï¼Œåˆ™å¯èƒ½éœ€è¦é…ç½®ä¸€ä¸‹:åœ¨Git Bashè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼ˆä»»æ„ä½ç½®ç‚¹å‡»é¼ æ ‡å³é”®ï¼‰ï¼Œæ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨äº†SSH keysã€‚ls -al ~/.sshå¦‚æœä¸å­˜åœ¨å°±æ²¡æœ‰å…³ç³»ï¼Œå¦‚æœå­˜åœ¨çš„è¯ï¼Œç›´æ¥åˆ é™¤.sshæ–‡ä»¶å¤¹é‡Œé¢æ‰€æœ‰æ–‡ä»¶ï¼šè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼ˆé‚®ç®±å°±æ˜¯ä½ æ³¨å†ŒGithubæ—¶å€™çš„é‚®ç®±ï¼‰åï¼Œå›è½¦ï¼Œå‡ºç°æç¤ºè®©ä½ è¾“å…¥çš„æ—¶å€™ç›´æ¥å…ˆå›è½¦ï¼Œå¥½åƒéœ€è¦3æ¬¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š1ssh-keygen -t rsa -C \"2621324849@qq.com\" ç„¶åé”®å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š1ssh-agent -s ç»§ç»­è¾“å…¥æŒ‡ä»¤ï¼š1ssh-add ~/.ssh/id_rsa è¾“å…¥ä¹‹åï¼Œåœ¨æˆ‘è¿™é‡Œæ˜¯å‡ºé”™äº†ï¼Œä¸çŸ¥é“ä½ çš„æœ‰æ²¡æœ‰å‡ºé”™ã€‚å¦‚æœä½ çš„ä¹Ÿæ˜¯è¿™æ ·å­å‡ºé”™äº†çš„è¯ï¼Œå°±è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š12eval `ssh-agent -s`ssh-add åˆ°äº†è¿™ä¸€æ­¥ï¼Œå°±å¯ä»¥æ·»åŠ SSH keyåˆ°ä½ çš„Githubè´¦æˆ·äº†ã€‚é”®å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼Œæ‹·è´Keyï¼ˆå…ˆæ‹·è´äº†ï¼Œç­‰ä¸€ä¸‹å¯ä»¥ç›´æ¥ç²˜è´´ï¼Œä¸æ”¾å¿ƒçš„åœ¨æ‰§è¡Œä¸‹é¢å‘½ä»¤åï¼Œå…ˆé»è´´åœ¨è®°äº‹æœ¬ä¸Šï¼‰ï¼š1clip &lt; ~/.ssh/id_rsa.pub ç„¶ååˆ°Githubé‡Œé¢ï¼Œç‚¹å‡»å³ä¸Šè§’çš„è®¾ç½®å›¾æ ‡Settings,æ‰¾åˆ°SSH keys,Ttileéšä¾¿ä½ å‘½åï¼ŒKeyå°±é»è´´ä¸Šä½ åˆšæ‰å¤åˆ¶çš„key,ç„¶åç‚¹Add SSH keyï¼Œæœ€åä¼šè®©ä½ é‡æ–°è¾“å…¥ä¸‹gitHubçš„å¯†ç æœ€åè¿˜æ˜¯æµ‹è¯•ä¸€ä¸‹å§ï¼Œé”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼š1ssh -T git@github.com ä½ å¯èƒ½ä¼šçœ‹åˆ°æœ‰è­¦å‘Šï¼Œæ²¡äº‹ï¼Œè¾“å…¥â€œyesâ€å°±å¥½ä»¥ä¸Šå°±è¡¨ç¤ºSSHé…ç½®å¥½äº†ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤éƒ¨ç½²åˆ°Githubä¸Šã€‚hexo ghexo då¦‚æœæ‰§è¡Œhexo då‘½ä»¤æŠ¥ä¸‹åé”™ï¼šå°±å…ˆå®‰è£…ä¸€ä¸‹hexo-deployer-gitè¿™ä¸ªæ¨¡å—ï¼šnpm install hexo-deployer-git â€“saveå®‰è£…å¥½äº†ç»§ç»­æ‰§è¡Œhexo déƒ¨ç½²å‘½ä»¤ï¼Œè¾“å…¥gitHubçš„è´¦å·å¯†ç ï¼Œå°±å¯ä»¥è®¿é—®äº†ã€‚ é—®é¢˜ï¼šåšå®¢å¼•å…¥å›¾ç‰‡è§£å†³åŠæ³•1.é¦–å…ˆæŠŠblogï¼ˆhexoï¼‰ç›®å½•ä¸‹çš„_config.ymlé‡Œçš„psot_asset_folder:è®¾ç½®ä¸ºtrue 2.åœ¨blogï¼ˆhexoï¼‰ç›®å½•ä¸‹æ‰§è¡Œ: npm install hexo-asset-image â€“save3.åœ¨blogï¼ˆhexoï¼‰ç›®å½•ä¸‹Git Bash Hereï¼Œè¿è¡Œhexo n â€œåšå®¢åâ€æ¥ç”Ÿæˆmdåšå®¢æ—¶ï¼Œä¼šåœ¨_postç›®å½•ä¸‹çœ‹åˆ°ä¸€ä¸ªä¸åšå®¢åŒåçš„æ–‡ä»¶å¤¹ã€‚ 4.å°†æƒ³è¦ä¸Šä¼ çš„å›¾ç‰‡å…ˆæ‰”åˆ°æ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶ååœ¨åšå®¢ä¸­ä½¿ç”¨markdownçš„æ ¼å¼å¼•å…¥å›¾ç‰‡ï¼š psï¼šå› ä¸ºåšå®¢åå’Œæ–‡ä»¶å¤¹åå­—ç›¸åŒï¼Œæ‰€ä»¥ä¸éœ€è¦ç»å¯¹è·¯å¾„ï¼Œåªè¦xxxxæ˜¯æ–‡ä»¶å¤¹çš„åå­—å°±å¯ä»¥äº†ã€‚ 5.ç„¶åï¼Œä½¿ç”¨hexo géƒ¨ç½²çš„æ—¶å€™ï¼Œè¿›å…¥public\\2018\\04\\19\\index.htmlæ–‡ä»¶ä¸­æŸ¥çœ‹ç›¸å…³å­—æ®µï¼Œå¯ä»¥å‘ç°htmlæ ‡ç­¾å†…çš„è¯­å¥æ˜¯img src = â€œ2018/04/19/xxxx/å›¾ç‰‡å.jpgâ€è€Œä¸æ˜¯img src=â€xxxx.å›¾ç‰‡å.jpgâ€ï¼Œè¿™å°±æˆåŠŸäº†ï¼Œå½“ç„¶å‰é¢æ­¥éª¤æ“ä½œæ­£ç¡®çš„è¯ï¼Œè¿™ä¸€æ­¥ä¹Ÿä¸ç”¨æ£€æŸ¥ã€‚","categories":[{"name":"hexo","slug":"hexo","permalink":"http://xdd7130.github.io/categories/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://xdd7130.github.io/tags/hexo/"}]},{"title":"Vue3å¼•å…¥element-plus","slug":"Vue3å¼•å…¥element-plus","date":"2022-10-20T12:33:12.000Z","updated":"2022-11-02T11:15:20.543Z","comments":true,"path":"2022/10/20/Vue3å¼•å…¥element-plus/","link":"","permalink":"http://xdd7130.github.io/2022/10/20/Vue3å¼•å…¥element-plus/","excerpt":"","text":"å®‰è£… element-plus1cnpm install element-plus --save é…ç½® main.ts123456import ElementPlus from &apos;element-plus&apos;;import &apos;element-plus/dist/index.css&apos;;import App from &apos;./App.vue&apos;createApp(App).use(ElementPlus).mount(&apos;#app&apos;); å®‰è£… @element-plus/icons-vue ä½¿ç”¨ icon1cnpm install @element-plus/icons-vue --save ç»„ä»¶å±€éƒ¨æŒ‰éœ€å¼•ç”¨123import &#123; Download &#125; from &apos;@element-plus/icons-vue&apos;;&lt;el-icon&gt;&lt;download /&gt;&lt;/el-icon&gt;","categories":[{"name":"Vue3","slug":"Vue3","permalink":"http://xdd7130.github.io/categories/Vue3/"}],"tags":[{"name":"Vue,Vue3,element-plus","slug":"Vue-Vue3-element-plus","permalink":"http://xdd7130.github.io/tags/Vue-Vue3-element-plus/"}]},{"title":"Cesiumä¹‹3D Tiles","slug":"Cesiumä¹‹3DTiles","date":"2022-10-20T12:22:12.000Z","updated":"2022-11-02T11:15:20.539Z","comments":true,"path":"2022/10/20/Cesiumä¹‹3DTiles/","link":"","permalink":"http://xdd7130.github.io/2022/10/20/Cesiumä¹‹3DTiles/","excerpt":"","text":"æ·»åŠ ç«‹æ–¹ä½“12345678910111213var viewer = new Cesium.Viewer(&apos;cesiumContainer&apos;);var redBox = viewer.entities.add(&#123; name : &apos;Red box with black outline&apos;, position: Cesium.Cartesian3.fromDegrees(-107.0, 40.0, 300000.0), box : &#123; dimensions : new Cesium.Cartesian3(400000.0, 300000.0, 500000.0), material : Cesium.Color.RED.withAlpha(0.5), outline : true, outlineColor : Cesium.Color.BLACK &#125;&#125;);viewer.zoomTo(viewer.entities); é€šè¿‡CZMLæ·»åŠ 1234567891011121314151617181920212223242526272829303132var czml = [&#123; &quot;id&quot; : &quot;document&quot;, &quot;name&quot; : &quot;box&quot;, &quot;version&quot; : &quot;1.0&quot;&#125;,&#123; &quot;id&quot; : &quot;shape2&quot;, &quot;name&quot; : &quot;Red box with black outline&quot;, &quot;position&quot; : &#123; &quot;cartographicDegrees&quot; : [-107.0, 40.0, 300000.0] &#125;, &quot;box&quot; : &#123; &quot;dimensions&quot; : &#123; &quot;cartesian&quot;: [400000.0, 300000.0, 500000.0] &#125;, &quot;material&quot; : &#123; &quot;solidColor&quot; : &#123; &quot;color&quot; : &#123; &quot;rgba&quot; : [255, 0, 0, 128] &#125; &#125; &#125;, &quot;outline&quot; : true, &quot;outlineColor&quot; : &#123; &quot;rgba&quot; : [0, 0, 0, 255] &#125; &#125;&#125;];var viewer = new Cesium.Viewer(&apos;cesiumContainer&apos;);var dataSourcePromise = Cesium.CzmlDataSource.load(czml);viewer.dataSources.add(dataSourcePromise);viewer.zoomTo(dataSourcePromise);","categories":[{"name":"Cesium","slug":"Cesium","permalink":"http://xdd7130.github.io/categories/Cesium/"}],"tags":[{"name":"Cesium","slug":"Cesium","permalink":"http://xdd7130.github.io/tags/Cesium/"}]},{"title":"Cesium+Vue3 æ­å»ºç¬¬ä¸€ä¸ªé¡¹ç›®","slug":"Cesium+Vue3","date":"2022-10-20T12:22:12.000Z","updated":"2022-11-02T11:15:20.538Z","comments":true,"path":"2022/10/20/Cesium+Vue3/","link":"","permalink":"http://xdd7130.github.io/2022/10/20/Cesium+Vue3/","excerpt":"","text":"æ­å»º Vite é¡¹ç›®1234# yarnyarn create vite my-vue-app --template vue-ts# npm npm init vite my-vue-app --template vue-ts å®‰è£… cesium123yarn add cesium # è¿™ä¸ªæ˜¯ç»™å¼€å‘æ—¶ vite çš„ esbuild æ‰¾æ¨¡å—ç”¨çš„yarn add @types/cesium -D # è¿™ä¸ªæ˜¯ç»™æ™ºèƒ½æç¤ºç”¨çš„ï¼Œä¾‹å¦‚ import &#123; Viewer &#125; from &apos;cesium&apos; yarn add -D vite-plugin-cesium # å®‰è£…vite-plugin-cesiumæ’ä»¶ é…ç½® vite.config.ts12345import cesium from &apos;vite-plugin-cesium&apos; // å¼•å…¥æ’ä»¶ // åœ¨plugin é‡Œå¢åŠ plugins: [ cesium()], å®Œæ•´ä»£ç å®ä¾‹1234567891011121314151617181920212223242526272829303132333435363738&lt;template&gt; &lt;div id=&quot;mainMap&quot;&gt;&lt;/div&gt;&lt;/template&gt;&lt;script lang=&quot;ts&quot; setup&gt;import &#123; onMounted &#125; from &apos;vue&apos;import * as Cesium from &apos;cesium&apos;onMounted(() =&gt; &#123; Cesium.Ion.defaultAccessToken = &apos;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIxNTFlNWVmMC1jOWRhLTQyMDktOTY4Ny02YTU5YWFlMGYwY2IiLCJpZCI6OTQzNDQsImlhdCI6MTY1Mjg4ODEyNn0.g2vq1qq_rdfZeRTy73nBkEDzhMIM4upkYcbIdFYnCiQ&apos; const viewer = new Cesium.Viewer(&apos;mainMap&apos;, &#123; infoBox: false, homeButton: false, timeline: false, navigationHelpButton: false, geocoder: false, sceneModePicker: false, animation: false, fullscreenButton: false &#125;) const buildingTileset = viewer.scene.primitives.add(Cesium.createOsmBuildings()) viewer.camera.flyTo(&#123; destination: Cesium.Cartesian3.fromDegrees(116.405419, 39.926666, 3000), orientation: &#123; heading: Cesium.Math.toRadians(0.0), pitch: Cesium.Math.toRadians(-25.0) &#125; &#125;) // viewer.cesiumWidget.creditContainer.style.display = &apos;none&apos;&#125;)&lt;/script&gt;&lt;style scoped&gt;#mainMap &#123; width: 800px; height: 800px; background: #aabbcc;&#125;&lt;/style&gt;","categories":[{"name":"Cesium","slug":"Cesium","permalink":"http://xdd7130.github.io/categories/Cesium/"}],"tags":[{"name":"Cesium,Vue,Vite","slug":"Cesium-Vue-Vite","permalink":"http://xdd7130.github.io/tags/Cesium-Vue-Vite/"}]},{"title":"Cesiumä¹‹ç»˜åˆ¶å½¢çŠ¶","slug":"Cesiumä¹‹ç»˜åˆ¶å½¢çŠ¶","date":"2022-10-20T12:22:12.000Z","updated":"2022-11-02T11:15:20.539Z","comments":true,"path":"2022/10/20/Cesiumä¹‹ç»˜åˆ¶å½¢çŠ¶/","link":"","permalink":"http://xdd7130.github.io/2022/10/20/Cesiumä¹‹ç»˜åˆ¶å½¢çŠ¶/","excerpt":"","text":"æ·»åŠ ç«‹æ–¹ä½“12345678910111213var viewer = new Cesium.Viewer(&apos;cesiumContainer&apos;);var redBox = viewer.entities.add(&#123; name : &apos;Red box with black outline&apos;, position: Cesium.Cartesian3.fromDegrees(-107.0, 40.0, 300000.0), box : &#123; dimensions : new Cesium.Cartesian3(400000.0, 300000.0, 500000.0), material : Cesium.Color.RED.withAlpha(0.5), outline : true, outlineColor : Cesium.Color.BLACK &#125;&#125;);viewer.zoomTo(viewer.entities); é€šè¿‡CZMLæ·»åŠ 1234567891011121314151617181920212223242526272829303132var czml = [&#123; &quot;id&quot; : &quot;document&quot;, &quot;name&quot; : &quot;box&quot;, &quot;version&quot; : &quot;1.0&quot;&#125;,&#123; &quot;id&quot; : &quot;shape2&quot;, &quot;name&quot; : &quot;Red box with black outline&quot;, &quot;position&quot; : &#123; &quot;cartographicDegrees&quot; : [-107.0, 40.0, 300000.0] &#125;, &quot;box&quot; : &#123; &quot;dimensions&quot; : &#123; &quot;cartesian&quot;: [400000.0, 300000.0, 500000.0] &#125;, &quot;material&quot; : &#123; &quot;solidColor&quot; : &#123; &quot;color&quot; : &#123; &quot;rgba&quot; : [255, 0, 0, 128] &#125; &#125; &#125;, &quot;outline&quot; : true, &quot;outlineColor&quot; : &#123; &quot;rgba&quot; : [0, 0, 0, 255] &#125; &#125;&#125;];var viewer = new Cesium.Viewer(&apos;cesiumContainer&apos;);var dataSourcePromise = Cesium.CzmlDataSource.load(czml);viewer.dataSources.add(dataSourcePromise);viewer.zoomTo(dataSourcePromise);","categories":[{"name":"Cesium","slug":"Cesium","permalink":"http://xdd7130.github.io/categories/Cesium/"}],"tags":[{"name":"Cesium","slug":"Cesium","permalink":"http://xdd7130.github.io/tags/Cesium/"}]},{"title":"Cesiumä¹‹é¹°çœ¼å›¾","slug":"Cesiumä¹‹é¹°çœ¼å›¾","date":"2022-10-20T12:22:12.000Z","updated":"2022-11-02T11:15:20.540Z","comments":true,"path":"2022/10/20/Cesiumä¹‹é¹°çœ¼å›¾/","link":"","permalink":"http://xdd7130.github.io/2022/10/20/Cesiumä¹‹é¹°çœ¼å›¾/","excerpt":"","text":"åœ°å›¾å³ä¸‹è§’æ”¾divå®¹å™¨1234567891011&lt;div id=&quot;eye&quot;&gt;&lt;/div&gt;#eye &#123; position: absolute; width: 20%; height:20%; bottom: 0; right: 0; z-index: 999; background: red; border: solid blue 1px;&#125; åˆ›å»º ä¸¤ä¸ªåœ°çƒ123//1.åˆ›å»ºåŒçƒvar viewer = new Cesium.Viewer(&apos;cesiumContainer&apos;, &#123;&#125;);var viewer1 = new Cesium.Viewer(&apos;eye&apos;, &#123;&#125;); è®¾ç½®é¹°çœ¼å›¾ä¸­çƒå±æ€§123456789101112131415161718//2.è®¾ç½®é¹°çœ¼å›¾ä¸­çƒå±æ€§let control = viewer1.scene.screenSpaceCameraController;control.enableRotate = false;control.enableTranslate = false;control.enableZoom = false;control.enableTilt = false;control.enableLook = false;let syncViewer = function() &#123; viewer1.camera.flyTo(&#123; destination: viewer.camera.position, orientation: &#123; heading: viewer.camera.heading, pitch: viewer.camera.pitch, roll: viewer.camera.roll &#125;, duration: 0.0 &#125;);&#125; åŒæ­¥é€šè¿‡æ·»åŠ äº†ä¸€ä¸ªç©ºå­—ç¬¦ä¸²çš„labelï¼Œåˆ©ç”¨å®ƒçš„CallbackPropertyå®ç°äº†æ¯æ—¶æ¯åˆ»è°ƒç”¨syncVieweræ–¹æ³•æ¥åŒæ­¥ä¸¤ä¸ªçƒçš„ç›¸æœºè§†è§’ 12345678910//3. åŒæ­¥viewer.entities.add(&#123; position : Cesium.Cartesian3.fromDegrees(0, 0), label : &#123; text : new Cesium.CallbackProperty(function()&#123; syncViewer(); return &quot;&quot;; &#125;, true) &#125;&#125;); ä»£ç åœ°å€ï¼šgitHub","categories":[{"name":"Cesium","slug":"Cesium","permalink":"http://xdd7130.github.io/categories/Cesium/"}],"tags":[{"name":"Cesium","slug":"Cesium","permalink":"http://xdd7130.github.io/tags/Cesium/"}]},{"title":"Vue3+Router4.X","slug":"Vue3é…ç½®è·¯ç”±","date":"2022-10-20T12:22:12.000Z","updated":"2022-11-02T11:15:20.544Z","comments":true,"path":"2022/10/20/Vue3é…ç½®è·¯ç”±/","link":"","permalink":"http://xdd7130.github.io/2022/10/20/Vue3é…ç½®è·¯ç”±/","excerpt":"","text":"å®‰è£… Vue Router1npm install vue-router@4 åˆ›å»ºrouteræ–‡ä»¶1234567891011121314151617// router.tsimport &#123; createRouter, createWebHistory &#125; from &quot;vue-router&quot;;import HelloWorld from &quot;./components/HelloWorld.vue&quot;;const routes = [ &#123; path: &quot;/&quot;, component: HelloWorld &#125;, &#123; path: &quot;/cesium&quot;, component: () =&gt; import(&quot;./components/Cesium.vue&quot;) &#125;];const router = createRouter(&#123; history: createWebHistory(), routes&#125;);export default router; App.vueé…ç½®èœå•123&lt;router-link to=&quot;/cesium&quot;&gt; ...&lt;/router-link&gt; é…ç½® main.ts1234import Router from &apos;./router&apos;createApp(App).use(Router).mount(&apos;#app&apos;);","categories":[{"name":"Cesium","slug":"Cesium","permalink":"http://xdd7130.github.io/categories/Cesium/"}],"tags":[{"name":"Vue Router4.X,Vue,Vue3","slug":"Vue-Router4-X-Vue-Vue3","permalink":"http://xdd7130.github.io/tags/Vue-Router4-X-Vue-Vue3/"}]},{"title":"nginxé…ç½®https","slug":"nginxé…ç½®https","date":"2022-10-17T12:22:12.000Z","updated":"2022-11-02T11:15:20.553Z","comments":true,"path":"2022/10/17/nginxé…ç½®https/","link":"","permalink":"http://xdd7130.github.io/2022/10/17/nginxé…ç½®https/","excerpt":"","text":"nginxå¼€å¯ SSLæ¨¡å—Nginxå¦‚æœæœªå¼€å¯SSLæ¨¡å—ï¼Œé…ç½®Httpsæ—¶æç¤ºé”™è¯¯ï¼š1nginx: [emerg] the â€œsslâ€œ parameter requires ngx_http_ssl_module in /usr/local/ å¼€å¯: åˆ‡æ¢åˆ°æºç åŒ…,é…ç½®httpsç¯å¢ƒ1.æ‰¾æ‰“nginxçš„å®‰è£…ç¯å¢ƒ ï¼Œå¦‚nginxçš„å®‰è£…ç›®å½•æ˜¯/usr/local/nginx,æºåŒ…åœ¨ /opt/nginx-1.22.0 ç›®å½•ä¸‹2.åˆ‡æ¢åˆ°æºç åŒ…ï¼š1cd /opt/nginx-1.22.0 3.è¿›è¡Œç¼–è¯‘1./configure --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_ssl_module 4.é…ç½®å®Œæˆåï¼Œè¿è¡Œå‘½ä»¤ï¼š1make 5.makeå‘½ä»¤æ‰§è¡Œåï¼Œä¸è¦è¿›è¡Œmake installï¼Œå¦åˆ™ä¼šè¦†ç›–å®‰è£…ã€‚6.å¤‡ä»½åŸæœ‰å·²å®‰è£…å¥½çš„nginxï¼š1cp /usr/local/nginx/sbin/nginx /usr/local/nginx/sbin/nginx.bak 7.åœæ­¢nginxçŠ¶æ€ï¼š1/usr/local/nginx/sbin/nginx -s stop 8.å°†ç¼–è¯‘å¥½çš„nginxè¦†ç›–æ‰åŸæœ‰çš„nginxï¼š123# cd /root/nginx-1.10.1/# cp ./objs/nginx /usr/local/nginx/sbin/ 9.æç¤ºæ˜¯å¦è¦†ç›–ï¼Œè¾“å…¥yeså³å¯ã€‚10.ç„¶åå¯åŠ¨nginxï¼š1# /usr/local/nginx/sbin/nginx 11.è¿›å…¥nginx/sbinç›®å½•ä¸‹ï¼Œé€šè¿‡å‘½ä»¤æŸ¥çœ‹æ¨¡å—æ˜¯å¦å·²ç»åŠ å…¥æˆåŠŸï¼š123# cd /usr/local/nginx/sbin/# ./nginx -V openSSL åˆ¶ä½œè¯ä¹¦ä¸€èˆ¬æ¥è¯´ï¼Œä¸»æµçš„WebæœåŠ¡è½¯ä»¶ï¼Œé€šå¸¸éƒ½åŸºäºä¸¤ç§åŸºç¡€å¯†ç åº“ï¼šOpenSSLå’ŒJavaã€‚Tomcatã€Weblogicã€JBossç­‰ï¼Œä½¿ç”¨Javaæä¾›çš„å¯†ç åº“ã€‚é€šè¿‡Javaçš„Keytoolå·¥å…·ï¼Œç”ŸæˆJava Keystoreï¼ˆJKSï¼‰æ ¼å¼çš„è¯ä¹¦æ–‡ä»¶ã€‚Apacheã€Nginxç­‰ï¼Œä½¿ç”¨OpenSSLæä¾›çš„å¯†ç åº“ï¼Œç”ŸæˆPEMã€KEYã€CRTç­‰æ ¼å¼çš„è¯ä¹¦æ–‡ä»¶ã€‚æ­¤å¤–ï¼ŒIBMçš„äº§å“ï¼Œå¦‚Websphereã€IBM Http Serverï¼ˆIHSï¼‰ç­‰ï¼Œä½¿ç”¨IBMäº§å“è‡ªå¸¦çš„iKeymanå·¥å…·ï¼Œç”ŸæˆKDBæ ¼å¼çš„è¯ä¹¦æ–‡ä»¶ã€‚å¾®è½¯Windows Serverä¸­çš„Internet Information Servicesï¼ˆIISï¼‰ï¼Œä½¿ç”¨Windowsè‡ªå¸¦çš„è¯ä¹¦åº“ç”ŸæˆPFXæ ¼å¼çš„è¯ä¹¦æ–‡ä»¶ã€‚ X.509#DER äºŒè¿›åˆ¶æ ¼å¼è¯ä¹¦ï¼Œå¸¸ç”¨åç¼€.cer .crtX.509#PEM æ–‡æœ¬æ ¼å¼è¯ä¹¦ï¼Œå¸¸ç”¨åç¼€.pemæœ‰çš„è¯ä¹¦å†…å®¹æ˜¯åªåŒ…å«å…¬é’¥ï¼ˆæœåŠ¡å™¨çš„å…¬é’¥ï¼‰ï¼Œå¦‚.crtã€.cerã€.pemæœ‰çš„è¯ä¹¦æ—¢åŒ…å«å…¬é’¥åˆåŒ…å«ç§é’¥ï¼ˆæœåŠ¡å™¨çš„ç§é’¥ï¼‰ï¼Œå¦‚.pfxã€.p12 åœ¨å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨opensslæˆ–keytoolç­‰sslçš„å¯†ç åº“å·¥å…·åˆ¶ä½œè¯ä¹¦ ç”Ÿæˆç§é’¥1openssl genrsa -out rsa_private.key 2048 genrsaï¼š è¡¨ç¤ºä½¿ç”¨rsaç®—æ³•,opensslè¿˜æ”¯æŒRSA, DSA, ECDSA, and EdDSAï¼Œ2048ï¼šè¡¨ç¤ºç§é’¥çš„å¤§å°ï¼Œå•ä½ä¸ºä½ç§é’¥ç”Ÿæˆåå¯ä½¿ç”¨cat å‘½ä»¤æŸ¥çœ‹ï¼Œå…¶å†…å®¹ä¸ºpemæ ¼å¼å¦‚æœç”Ÿæˆçš„ç§é’¥éœ€è¦å¯†ç ä¿æŠ¤ï¼Œåˆ™å¯åœ¨ç”Ÿæˆç§é’¥æ—¶æŒ‡å®šåŠ å¯†ç®—æ³•ï¼ˆåç»­æ¯æ¬¡ä½¿ç”¨ç§é’¥æ—¶éƒ½ä¼šè¦æ±‚è¾“å…¥è®¿é—®ç§˜é’¥çš„å¯†ç ï¼‰,å…¶ä¸­ passout ä»£æ›¿shell è¿›è¡Œå¯†ç è¾“å…¥ï¼Œå¦åˆ™ä¼šæç¤ºè¾“å…¥å¯†ç :1openssl genssl -aes256 -passout pass:123456 -out rsa_private.key 2048 ç”Ÿæˆå…¬é’¥1openssl rsa in rsa_private.key -pubout -out rsa_public.key ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ï¼ˆä¸åŸºäºcsrï¼‰1openssl req -new -x509 -days 1095 -key private.key -out cert.crt -x509:è¡¨ç¤ºè¯ä¹¦æ ¼å¼-day: è¡¨ç¤ºè¯ä¹¦çš„æœ‰æ•ˆå¤©æ•°æ ¹æ®æç¤ºè¾“å…¥ç›¸å…³ä¿¡æ¯ï¼ŒCommon Name å¯ç»‘å®šåŸŸåæˆ–ipåœ°å€ï¼ŒåŸŸåå¯é…é€šé…ç¬¦ã€‚ é…ç½®nginx123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122#user nobody;worker_processes 1;#error_log logs/error.log;#error_log logs/error.log notice;#error_log logs/error.log info;#pid logs/nginx.pid;events &#123; worker_connections 1024;&#125;http &#123; include mime.types; default_type application/octet-stream; #log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos; # &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos; # &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; server &#123; listen 80; server_name localhost; #charset koi8-r; #access_log logs/host.access.log main; location / &#123; root html; index index.html index.htm; &#125; location /tm &#123; proxy_pass http://&#123;host.ip&#125;:3010/mock/167/tm; &#125; #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html &#123; root html; &#125; # proxy the PHP scripts to Apache listening on 127.0.0.1:80 # #location ~ \\.php$ &#123; # proxy_pass http://127.0.0.1; #&#125; # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000 # #location ~ \\.php$ &#123; # root html; # fastcgi_pass 127.0.0.1:9000; # fastcgi_index index.php; # fastcgi_param SCRIPT_FILENAME /scripts$fastcgi_script_name; # include fastcgi_params; #&#125; # deny access to .htaccess files, if Apache&apos;s document root # concurs with nginx&apos;s one # #location ~ /\\.ht &#123; # deny all; #&#125; &#125; # another virtual host using mix of IP-, name-, and port-based configuration # #server &#123; # listen 8000; # listen somename:8080; # server_name somename alias another.alias; # location / &#123; # root html; # index index.html index.htm; # &#125; #&#125; # HTTPS server # server &#123; listen 443 ssl; server_name localhost; ssl_certificate /usr/local/nginx/conf/tm_https.pem; # openssl req -new -x509 -days 1095 -key private.key -out tm_https.pem ssl_certificate_key /usr/local/nginx/conf/tm_https.key; # openssl genrsa -out tm_https.key 2048 ssl_session_cache shared:SSL:1m; ssl_session_timeout 5m; ssl_ciphers HIGH:!aNULL:!MD5; ssl_prefer_server_ciphers on; location / &#123; root html; index index.html index.htm; &#125; location /tm &#123; proxy_pass http://&#123;host.ip&#125;:3010/mock/167/tm; &#125; &#125;&#125;","categories":[{"name":"nginx","slug":"nginx","permalink":"http://xdd7130.github.io/categories/nginx/"}],"tags":[{"name":"nginx,linux","slug":"nginx-linux","permalink":"http://xdd7130.github.io/tags/nginx-linux/"}]},{"title":"webgis å¸¸ç”¨æ¡†æ¶","slug":"webgis","date":"2022-10-12T12:22:12.000Z","updated":"2022-11-02T11:15:20.679Z","comments":true,"path":"2022/10/12/webgis/","link":"","permalink":"http://xdd7130.github.io/2022/10/12/webgis/","excerpt":"","text":"LeafletLeaflet æ˜¯æœ€è‘—åçš„å‰ç«¯åœ°å›¾å¯è§†åŒ–åº“ï¼Œå®ƒå¼€æºã€ä½“ç§¯å°ã€ç»“æ„æ¸…æ™°ã€ç®€å•æ˜“ç”¨ã€‚ Mapbox GL JSMapbox GL JS æ˜¯ç›®å‰æœ€æ–°æ½®çš„å‰ç«¯åœ°å›¾åº“ï¼Œå®ƒçš„çŸ¢é‡å‹ç¼©ã€åŠ¨æ€æ ·å¼å’Œä¸‰ç»´æ€§èƒ½ä»¤äººå°è±¡æ·±åˆ»ã€‚å®ƒæœ¬èº«æ˜¯å¼€æºçš„ï¼Œä½†ä¸€èˆ¬ä¾èµ–äºMapboxå…¬å¸æä¾›çš„åº•å›¾æœåŠ¡ã€‚ ArcGIS API for JSArcGIS API for JS æ˜¯è¾ƒä¸ºå­¦é™¢æ´¾çš„å‰ç«¯åœ°å›¾åº“ï¼Œå®ƒæ˜¯ArcGISå¼€å‘å¥—ä»¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œå’Œæ¡Œé¢ç«¯å’ŒæœåŠ¡å™¨ç«¯ArcGISè½¯ä»¶æœ‰è¾ƒå¥½çš„åä½œã€‚å®ƒä¸å¼€æºä¸”æ”¶è´¹ä¸ä½ï¼Œåœ¨å­¦æœ¯åœºæ™¯ä¸‹è¾ƒä¸ºå¸¸ç”¨ã€‚ OpenlayersOpenlayers ä¹Ÿæ˜¯å¸¸ç”¨çš„å‰ç«¯åœ°å›¾åº“ï¼Œå®ƒå¼€æºï¼Œç›¸æ¯”äºLeafletæ›´åŠ å¤æ‚å’Œå®Œå¤‡ã€‚ CesiumCesium æ˜¯ä¸‰ç»´åœ°ç†å¯è§†åŒ–çš„å¸¸ç”¨åº“ï¼Œåœ¨å¤§å°ºåº¦çš„å¯è§†åŒ–ï¼ˆåœ°å½¢ã€å»ºç­‘ã€åœ°çƒï¼‰ä¸­ååˆ†å¸¸ç”¨ã€‚ ç™¾åº¦åœ°å›¾ JS API /ç™¾åº¦åœ°å›¾ API GLç™¾åº¦åœ°å›¾ JS API æ˜¯ä¼ ç»Ÿçš„äºŒç»´åœ°å›¾ï¼Œç™¾åº¦åœ°å›¾ API GL æ˜¯ä¸‰ç»´åœ°å›¾ï¼Œå®ƒä»¬ä¾èµ–ç™¾åº¦åœ°å›¾æä¾›çš„åå°æœåŠ¡ã€‚é™¤äº†åœ°å›¾æœåŠ¡å¤–è¿˜æœ‰æ£€ç´¢ã€å¯¼èˆªã€å®æ—¶äº¤é€šç­‰å…³è”æœåŠ¡ã€‚å¼€å‘è€…æœ‰å…è´¹çš„é™é¢ã€‚ é«˜å¾·åœ°å›¾ JS APIé«˜å¾·åœ°å›¾ JS API ä¸ç™¾åº¦ç±»ä¼¼ã€‚ Google Maps JS APIè°·æ­Œåœ°å›¾ JS API åœ¨å¢ƒå¤–æœ‰æ›´å¥½çš„æ•°æ®ã€‚ AntV L7AntV L7 æ˜¯ç©ºé—´æ•°æ®å¯è§†åŒ–åº“ï¼Œå®ƒå¯ä»¥ä½¿ç”¨é«˜å¾·åœ°å›¾ç­‰åä½œæ„å»ºåœ°å›¾å¯è§†åŒ–ã€‚ Mapbox.jsMapbox.js æ˜¯ Leaflet çš„ä¸€ä¸ªæ‰©å±•æ’ä»¶ï¼ˆä¸ Mapbox GL JS ä¸åŒï¼‰ã€‚","categories":[{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/categories/webgis/"}],"tags":[{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"æœåŠ¡å™¨æ¸²æŸ“SSR","slug":"SSR","date":"2022-10-10T03:11:11.000Z","updated":"2022-11-02T11:15:20.543Z","comments":true,"path":"2022/10/10/SSR/","link":"","permalink":"http://xdd7130.github.io/2022/10/10/SSR/","excerpt":"","text":"æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå°±æ˜¯æœåŠ¡å™¨è¿”å›ä¸€å †htmlå­—ç¬¦ä¸²ï¼Œç„¶åè®©æµè§ˆå™¨æ˜¾ç¤ºã€‚ä¸å®¢æˆ·ç«¯æ¸²æŸ“CSRå¯¹åº”ï¼ŒCSRå’ŒSSRæœ€å¤§çš„åŒºåˆ«åœ¨äºå‰è€…çš„é¡µé¢æ¸²æŸ“æ˜¯JSè´Ÿè´£è¿›è¡Œçš„ï¼Œè€Œåè€…æ˜¯æœåŠ¡å™¨ç«¯ç›´æ¥è¿”å›HTMLè®©æµè§ˆå™¨ç›´æ¥æ¸²æŸ“ã€‚","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://xdd7130.github.io/categories/ç¬”è®°/"}],"tags":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://xdd7130.github.io/tags/ç¬”è®°/"}]},{"title":"linuxéƒ¨ç½²nginx","slug":"linuxéƒ¨ç½²nginx","date":"2022-09-14T12:22:12.000Z","updated":"2025-02-15T04:02:15.962Z","comments":true,"path":"2022/09/14/linuxéƒ¨ç½²nginx/","link":"","permalink":"http://xdd7130.github.io/2022/09/14/linuxéƒ¨ç½²nginx/","excerpt":"","text":"ä¸‹è½½nginx linuxç‰ˆæœ¬1åœ°å€ï¼š http://nginx.org/en/download.html ä¸‹è½½nginx taråŒ… é€šè¿‡ mobaXterms/xftpä¸Šä¼ åˆ°linuxæœåŠ¡å™¨ è§£å‹1tar -zxvf nginx-1.20.2.tar.gz è¿›å…¥nginx-1.20.2ç›®å½•ï¼Œè¿è¡Œconfigureæ–‡ä»¶12cd nginx-1.20.2./configure make â€“&gt; make install12makemake install æŸ¥çœ‹nginxæ‰€åœ¨ç›®å½•1whereis nginx // /usr/local/nginx è¿›å…¥sbinç›®å½•å¯åŠ¨12cd sbin./nginx è¿›å…¥confæŸ¥çœ‹ç«¯å£1cat nginx.conf nginx å¸¸ç”¨å‘½ä»¤12345./nginx // å¯åŠ¨nginx./nginx -s stop // åœæ­¢nginx./nginx -s reload // é‡æ–°åŠ è½½é…ç½®./nginx -v // æŸ¥çœ‹ç‰ˆæœ¬å·ps -ef | grep nginx æŸ¥çœ‹nginxè¿›ç¨‹ å…¶ä»–HTTP å…¨å±€è·³è½¬ HTTPS çš„è®¾ç½®ä»£ç  497 æ˜¯ nginx åœ¨é‡åˆ° HTTP è¯·æ±‚å‘åˆ° HTTPS æ—¶ä¼šäº§ç”Ÿçš„å†…éƒ¨é”™è¯¯ä»£ç ï¼Œå› æ­¤æˆ‘ä»¬å°†è¿”å›ä¸€ä¸ª 307 çš„å›å¤ï¼ˆ307 Temporary Redirectæ˜¯HTTPåè®®ä¸­çš„ä¸€ä¸ªçŠ¶æ€ç ï¼ˆStatus Codeï¼‰ã€‚å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªä¸´æ—¶çš„é‡å®šå‘1error_page 497 =307 https://$host:$server_port$request_uri;","categories":[{"name":"nginx","slug":"nginx","permalink":"http://xdd7130.github.io/categories/nginx/"}],"tags":[{"name":"nginx,linux","slug":"nginx-linux","permalink":"http://xdd7130.github.io/tags/nginx-linux/"}]},{"title":"linuxéƒ¨ç½²yapi","slug":"linuxéƒ¨ç½²yapi","date":"2022-09-14T12:22:12.000Z","updated":"2022-11-02T11:15:20.553Z","comments":true,"path":"2022/09/14/linuxéƒ¨ç½²yapi/","link":"","permalink":"http://xdd7130.github.io/2022/09/14/linuxéƒ¨ç½²yapi/","excerpt":"","text":"yapiè§£å‹1unzip yapi20220224.zip å®‰è£…nodeå®˜ç½‘ä¸‹è½½node(ç•¥)è§£å‹å‹ç¼©åŒ…1tar -xvf node-v16.17.0-linux-x64.tar.xz å°†è§£å‹çš„ node æ–‡ä»¶è¿›è¡Œé‡å‘½åï¼Œæ–¹ä¾¿åç»­çš„æ“ä½œ1mv node-v16.17.0-linux-x64 nodejs å…¨å±€å¼•ç”¨12å¼•å…¥npmï¼šln -s /opt/yapiMock/nodejs/bin/npm /usr/local/binå¼•å…¥nodeï¼šln -s /opt/yapiMock/nodejs/bin/node /usr/local/bin æŸ¥çœ‹å…¨å±€æ˜¯å¦ç”Ÿæ•ˆ12npm â€“vnode -v å®‰è£…pm21npm install pm2 -g å®‰è£…mongodbä¸‹è½½å®‰è£…åŒ…(ç•¥)ä¸‹è½½å®Œæˆåè§£å‹ç¼©å‹ç¼©åŒ…1tar zxf mongodb-linux-x86_64-rhel70-5.0.3.tgz å®‰è£…å‡†å¤‡å°†mongodbç§»åŠ¨åˆ°/usr/local/server/mongdbæ–‡ä»¶å¤¹1mv mongodb-linux-i686-2.2.3 /usr/local/mongodb åˆ›å»ºæ•°æ®åº“æ–‡ä»¶å¤¹ä¸æ—¥å¿—æ–‡ä»¶12mkdir /usr/local/mongodb/datatouch /usr/local/mongodb/logs è®¾ç½®å¼€æœºè‡ªå¯åŠ¨1echo &quot;/usr/local/mongodb/bin/mongod --dbpath=/usr/local/mongodb/data â€“logpath=/usr/local/mongodb/logs â€“logappend --auth â€“port=27017&quot; &gt;&gt; /etc/rc.local å¯åŠ¨mongodb1/usr/local/mongodb/bin/mongod --dbpath=/usr/local/mongodb/data --logpath=/usr/local/mongodb/logs/mongodb.log --logappend --port=27017 --bind_ip=10.40.128.3 --fork","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://xdd7130.github.io/categories/ç¬”è®°/"}],"tags":[{"name":"mock,linux","slug":"mock-linux","permalink":"http://xdd7130.github.io/tags/mock-linux/"}]},{"title":"Redux-saga","slug":"redux-saga","date":"2021-01-30T06:27:51.000Z","updated":"2022-11-02T11:15:20.673Z","comments":true,"path":"2021/01/30/redux-saga/","link":"","permalink":"http://xdd7130.github.io/2021/01/30/redux-saga/","excerpt":"","text":"","categories":[{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/tags/React/"}]},{"title":"Hooks","slug":"react-hooks","date":"2021-01-23T07:25:06.000Z","updated":"2022-11-02T11:15:20.670Z","comments":true,"path":"2021/01/23/react-hooks/","link":"","permalink":"http://xdd7130.github.io/2021/01/23/react-hooks/","excerpt":"","text":"hookså¸¸ç”¨apiæœ‰ï¼šuseStateã€useEffectã€useContextã€useReducerã€useRef,useMemo,useCallback,ç­‰ã€‚ React Hookæ˜¯React 16.8ç‰ˆæœ¬ä¹‹åæ·»åŠ çš„æ–°å±æ€§ï¼Œç”¨æœ€ç®€å•çš„è¯æ¥è¯´ï¼ŒReact Hookå°±æ˜¯ä¸€äº›Reactæä¾›çš„å†…ç½®å‡½æ•°ï¼Œè¿™äº›å‡½æ•°å¯ä»¥è®©Function Componentå’ŒClass Componentä¸€æ ·èƒ½å¤Ÿæ‹¥æœ‰ç»„ä»¶çŠ¶æ€ï¼ˆstateï¼‰ä»¥åŠè¿›è¡Œå‰¯ä½œç”¨ï¼ˆside effectï¼‰ã€‚ ğŸŒ´useStateä½œç”¨useStateå’ŒClass Componentçš„this.stateä¸€æ ·ï¼Œç”¨æ¥ç®¡ç†ç»„ä»¶çŠ¶æ€ã€‚åœ¨React Hookæ²¡å‡ºæ¥ä¹‹å‰ï¼ŒFunction Componentä¹Ÿå«åšFunctional Stateless Componentï¼ˆFSCï¼‰ï¼Œè¿™æ˜¯å› ä¸ºFunction Componentæ¯æ¬¡æ‰§è¡Œçš„æ—¶å€™éƒ½ä¼šç”Ÿæˆæ–°çš„å‡½æ•°ä½œç”¨åŸŸæ‰€ä»¥åŒä¸€ä¸ªç»„ä»¶çš„ä¸åŒæ¸²æŸ“ï¼ˆrenderï¼‰ä¹‹é—´æ˜¯ä¸èƒ½å¤Ÿå…±ç”¨çŠ¶æ€çš„ï¼Œå› æ­¤å¼€å‘è€…ä¸€æ—¦éœ€è¦åœ¨ç»„ä»¶ä¸­å¼•å…¥çŠ¶æ€å°±éœ€è¦å°†åŸæ¥çš„Function Componentæ”¹æˆClass Componentï¼Œè¿™ä½¿å¾—å¼€å‘è€…çš„ä½“éªŒååˆ†ä¸å¥½ã€‚useStateå°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œå®ƒå…è®¸Function Componentå°†è‡ªå·±çš„çŠ¶æ€æŒä¹…åŒ–åˆ°Reactè¿è¡Œæ—¶ï¼ˆruntimeï¼‰çš„æŸä¸ªåœ°æ–¹ï¼ˆmemory cellï¼‰ï¼Œè¿™æ ·åœ¨ç»„ä»¶æ¯æ¬¡é‡æ–°æ¸²æŸ“çš„æ—¶å€™éƒ½å¯ä»¥ä»è¿™ä¸ªåœ°æ–¹æ‹¿åˆ°è¯¥çŠ¶æ€ï¼Œè€Œä¸”å½“è¯¥çŠ¶æ€è¢«æ›´æ–°çš„æ—¶å€™ï¼Œç»„ä»¶ä¹Ÿä¼šé‡æ¸²æŸ“ã€‚ ç”¨æ³•1const [state, setState] = useState(initialState) useStateæ¥æ”¶ä¸€ä¸ªinitialStateå˜é‡ä½œä¸ºçŠ¶æ€çš„åˆå§‹å€¼ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚è¿”å›æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä»£è¡¨å½“å‰stateçš„æœ€æ–°å€¼ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªç”¨æ¥æ›´æ–°stateçš„å‡½æ•°ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯stateå’ŒsetStateè¿™ä¸¤ä¸ªå˜é‡çš„å‘½åä¸æ˜¯å›ºå®šçš„ï¼Œåº”è¯¥æ ¹æ®ä½ ä¸šåŠ¡çš„å®é™…æƒ…å†µé€‰æ‹©ä¸åŒçš„åå­—ï¼Œå¯ä»¥æ˜¯textå’ŒsetTextï¼Œä¹Ÿå¯ä»¥æ˜¯widthå’ŒsetWidthè¿™ç±»çš„å‘½åã€‚ æˆ‘ä»¬åœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸€ä¸ªç»„ä»¶å¯èƒ½ä¸æ­¢ä¸€ä¸ªstateï¼Œå¦‚æœç»„ä»¶æœ‰å¤šä¸ªstateï¼Œåˆ™å¯ä»¥åœ¨ç»„ä»¶å†…éƒ¨å¤šæ¬¡è°ƒç”¨useStateï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š12345678910111213141516171819202122232425262728import React, &#123; useState &#125; from &apos;react&apos;import ReactDOM from &apos;react-dom&apos;const App = () =&gt; &#123; const [counter, setCounter] = useState(0) const [text, setText] = useState(&apos;&apos;) const handleTextChange = (event) =&gt; &#123; setText(event.target.value) &#125; return ( &lt;&gt; &lt;div&gt;Current counter: &#123;counter&#125;&lt;/div&gt; &lt;button onClick=&#123;() =&gt; setCounter(counter + 1)&#125; &gt; Increase counter &lt;/button&gt; &lt;input onChange=&#123;handleTextChange&#125; value=&#123;text&#125; /&gt; &lt;/&gt; )&#125;ReactDOM.render(&lt;App /&gt;, document.getElementById(&apos;root&apos;)) å’ŒClass Componentçš„this.setState APIç±»ä¼¼ï¼ŒsetCounterå’ŒsetTextéƒ½å¯ä»¥æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä¸ºå‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°å«åšupdaterï¼Œupdateræ¥æ”¶çš„å‚æ•°æ˜¯å½“å‰çŠ¶æ€çš„æœ€æ–°å€¼ï¼Œè¿”å›å€¼æ˜¯ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚ä¾‹å¦‚setCounterçš„å‚æ•°å¯ä»¥æ”¹æˆä¸€ä¸ªå‡½æ•°ï¼š 1234567&lt;button onClick=&#123;() =&gt; &#123; setCounter(counter =&gt; counter + 1) &#125;&#125;&gt; Increase counter&lt;/button&gt; useStateçš„initialStateä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç”¨æ¥ç”ŸæˆçŠ¶æ€åˆå§‹å€¼çš„å‡½æ•°ï¼Œè¿™ç§åšæ³•ä¸»è¦æ˜¯é¿å…ç»„ä»¶æ¯æ¬¡æ¸²æŸ“çš„æ—¶å€™initialStateéœ€è¦è¢«é‡å¤è®¡ç®—ã€‚ä¸‹é¢æ˜¯ä¸ªç®€å•çš„ä¾‹å­ï¼š [state, setState] 123 const initialState = someExpensiveComputation(props) return initialState&#125;) æ³¨æ„äº‹é¡¹: setStateæ˜¯å…¨é‡æ›¿ä»£ Function Componentçš„setStateå’ŒClass Componentçš„this.setStateå‡½æ•°çš„ä¸€ä¸ªé‡è¦åŒºåˆ«æ˜¯this.setStateå‡½æ•°æ˜¯å°†å½“å‰è®¾ç½®çš„stateæµ…å½’å¹¶ï¼ˆshallowly mergeï¼‰åˆ°æ—§stateçš„æ“ä½œã€‚è€ŒsetStateå‡½æ•°åˆ™æ˜¯å°†æ–°stateç›´æ¥æ›¿æ¢æ—§çš„stateï¼ˆreplaceï¼‰ã€‚å› æ­¤æˆ‘ä»¬åœ¨ç¼–å†™Function Componentçš„æ—¶å€™ï¼Œå°±è¦åˆç†åˆ’åˆ†stateï¼Œé¿å…å°†æ²¡æœ‰å…³ç³»çš„çŠ¶æ€æ”¾åœ¨ä¸€èµ·ç®¡ç†ï¼Œ è®¾ç½®ç›¸åŒçš„stateå€¼æ—¶setStateä¼šbailing out of update å¦‚æœsetStateæ¥æ”¶åˆ°çš„æ–°çš„stateå’Œå½“å‰çš„stateæ˜¯ä¸€æ ·çš„ï¼ˆåˆ¤æ–­æ–¹æ³•æ˜¯Object.isï¼‰ï¼ŒReactå°†ä¸ä¼šé‡æ–°æ¸²æŸ“å­ç»„ä»¶æˆ–è€…è§¦å‘side effectã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯è™½ç„¶Reactä¸ä¼šæ¸²æŸ“å­ç»„ä»¶ï¼Œä¸è¿‡å®ƒè¿˜æ˜¯ä¼šé‡æ–°æ¸²æŸ“å½“å‰çš„ç»„ä»¶çš„ï¼Œå¦‚æœä½ çš„ç»„ä»¶æ¸²æŸ“æœ‰äº›å¾ˆè€—æ€§èƒ½çš„è®¡ç®—çš„è¯ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨useMemoæ¥ä¼˜åŒ–æ€§èƒ½ setStateæ²¡æœ‰å›è°ƒå‡½æ•° æ— è®ºæ˜¯useStateè¿˜æ˜¯Class Componentçš„this.setStateéƒ½æ˜¯å¼‚æ­¥è°ƒç”¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡ç»„ä»¶è°ƒç”¨å®Œå®ƒä»¬ä¹‹åéƒ½ä¸èƒ½æ‹¿åˆ°æœ€æ–°çš„stateå€¼ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒClass Componentçš„this.setStateå…è®¸ä½ é€šè¿‡ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥è·å–åˆ°æœ€æ–°çš„stateå€¼ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š123this.setState(newState, state =&gt; &#123; console.log(\"I get new state\", state)&#125;) ğŸŒ´useEffectä½œç”¨useEffectæ˜¯ç”¨æ¥ä½¿Function Componentä¹Ÿå¯ä»¥è¿›è¡Œå‰¯ä½œç”¨çš„ï¼Œä½•ä¸ºå‰¯ä½œç”¨ï¼Œå‡½æ•°çš„å‰¯ä½œç”¨å°±æ˜¯å‡½æ•°é™¤äº†è¿”å›å€¼å¤–å¯¹å¤–ç•Œç¯å¢ƒé€ æˆçš„å…¶å®ƒå½±å“ã€‚åœ¨Reactçš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬çš„å‰¯ä½œç”¨å¤§ä½“å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯è°ƒç”¨æµè§ˆå™¨çš„APIï¼Œä¾‹å¦‚ä½¿ç”¨addEventListeneræ¥æ·»åŠ äº‹ä»¶ç›‘å¬å‡½æ•°ç­‰ï¼Œå¦å¤–ä¸€ç±»æ˜¯å‘èµ·è·å–æœåŠ¡å™¨æ•°æ®çš„è¯·æ±‚ã€‚Function Componentä¸­ä½¿ç”¨useEffectæ¥å®šä¹‰å‰¯ä½œç”¨äº†ã€‚è™½ç„¶useEffectåŸºæœ¬å¯ä»¥è¦†ç›–componentDidMountï¼Œ componentDidUpdateï¼ŒcomponentWillUnmountç­‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç»„åˆèµ·æ¥ä½¿ç”¨çš„æ‰€æœ‰åœºæ™¯ï¼Œä½†æ˜¯useEffectå’Œç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„è®¾è®¡ç†å¿µè¿˜æ˜¯å­˜åœ¨æœ¬è´¨ä¸Šçš„åŒºåˆ«çš„ ç”¨æ³•dependencies?)```1234567891011121314151617181920212223useEffectçš„ç¬¬ä¸€ä¸ªå‚æ•°effectæ˜¯è¦æ‰§è¡Œçš„å‰¯ä½œç”¨å‡½æ•°ï¼Œå®ƒå¯ä»¥æ˜¯ä»»æ„çš„ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼Œç”¨æˆ·å¯ä»¥åœ¨è¿™ä¸ªå‡½æ•°é‡Œé¢æ“ä½œä¸€äº›æµè§ˆå™¨çš„APIæˆ–è€…å’Œå¤–éƒ¨ç¯å¢ƒè¿›è¡Œäº¤äº’ï¼Œè¿™ä¸ªå‡½æ•°ä¼šåœ¨æ¯æ¬¡ç»„ä»¶æ¸²æŸ“å®Œæˆä¹‹åè¢«è°ƒç”¨ï¼Œä¾‹å¦‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š```bashimport React, &#123; useState, useEffect &#125; from &apos;react&apos;import ReactDOM from &apos;react-dom&apos;const UserDetail = (&#123; userId &#125;) =&gt; &#123; const [userDetail, setUserDetail] = useState(&#123;&#125;) useEffect(() =&gt; &#123; fetch(`https://myapi/users/$&#123;userId&#125;`) .then(response =&gt; response.json()) .then(user =&gt; setUserDetail(userDetail)) &#125;) return ( &lt;div&gt; &lt;div&gt;User Name: &#123;userDetail.name&#125;&lt;/div&gt; &lt;/div&gt; )&#125;ReactDOM.render(&lt;UserDetail /&gt;, document.getElementById(&apos;root&apos;)) ä¸Šé¢å®šä¹‰çš„è·å–ç”¨æˆ·è¯¦æƒ…ä¿¡æ¯çš„å‰¯ä½œç”¨ä¼šåœ¨UserDetailç»„ä»¶æ¯æ¬¡å®Œæˆæ¸²æŸ“åæ‰§è¡Œï¼Œæ‰€ä»¥å½“è¯¥ç»„ä»¶ç¬¬ä¸€æ¬¡æŒ‚è½½çš„æ—¶å€™å°±ä¼šå‘æœåŠ¡å™¨å‘èµ·è·å–ç”¨æˆ·è¯¦æƒ…ä¿¡æ¯çš„è¯·æ±‚ç„¶åæ›´æ–°userDetailçš„å€¼ï¼Œè¿™é‡Œçš„ç¬¬ä¸€æ¬¡æŒ‚è½½æˆ‘ä»¬å¯ä»¥ç±»æ¯”æˆClass Componentçš„componentDidMountã€‚å¯æ˜¯å¦‚æœè¯•ç€è¿è¡Œä¸€ä¸‹ä¸Šé¢çš„ä»£ç çš„è¯ï¼Œä½ ä¼šå‘ç°ä»£ç è¿›å…¥äº†æ­»å¾ªç¯ï¼šç»„ä»¶ä¼šä¸æ–­å‘æœåŠ¡ç«¯å‘èµ·è¯·æ±‚ã€‚å‡ºç°è¿™ä¸ªæ­»å¾ªç¯çš„åŸå› æ˜¯useEffecté‡Œé¢è°ƒç”¨äº†setUserDetailï¼Œè¿™ä¸ªå‡½æ•°ä¼šæ›´æ–°userDetailçš„å€¼ï¼Œä»è€Œä½¿ç»„ä»¶é‡æ¸²æŸ“ï¼Œè€Œé‡æ¸²æŸ“åuseEffectçš„effectç»§ç»­è¢«æ‰§è¡Œï¼Œè¿›è€Œç»„ä»¶å†æ¬¡é‡æ¸²æŸ“ã€‚ã€‚ã€‚ä¸ºäº†é¿å…é‡å¤çš„å‰¯ä½œç”¨æ‰§è¡Œï¼ŒuseEffectå…è®¸æˆ‘ä»¬é€šè¿‡ç¬¬äºŒä¸ªå‚æ•°dependenciesæ¥é™åˆ¶è¯¥å‰¯ä½œç”¨ä»€ä¹ˆæ—¶å€™è¢«æ‰§è¡Œï¼šæŒ‡æ˜äº†dependenciesçš„å‰¯ä½œç”¨ï¼Œåªæœ‰åœ¨dependenciesæ•°ç»„é‡Œé¢çš„å…ƒç´ çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šè¢«æ‰§è¡Œï¼Œå› æ­¤å¦‚æœè¦é¿å…ä¸Šé¢çš„ä»£ç è¿›å…¥æ­»å¾ªç¯æˆ‘ä»¬å°±è¦å°†userIdæŒ‡å®šä¸ºæˆ‘ä»¬å®šä¹‰çš„å‰¯ä½œç”¨çš„dependenciesï¼š1234567891011121314151617181920import React, &#123; useState, useEffect &#125; from 'react'import ReactDOM from 'react-dom'const UserDetail = (&#123; userId &#125;) =&gt; &#123; const [userDetail, setUserDetail] = useState(&#123;&#125;) useEffect(() =&gt; &#123; fetch(`https://myapi/users/$&#123;userId&#125;`) .then(response =&gt; response.json()) .then(user =&gt; setUserDetail(userDetail)) &#125;, [userId]) return ( &lt;div&gt; &lt;div&gt;User Name: $&#123;userDetail.name&#125;&lt;/div&gt; &lt;/div&gt; )&#125;ReactDOM.render(&lt;UserDetail /&gt;, document.getElementById('root')) é™¤äº†å‘èµ·æœåŠ¡ç«¯çš„è¯·æ±‚å¤–ï¼Œæˆ‘ä»¬å¾€å¾€è¿˜éœ€è¦åœ¨useEffecté‡Œé¢è°ƒç”¨æµè§ˆå™¨çš„APIï¼Œä¾‹å¦‚ä½¿ç”¨addEventListeneræ¥æ·»åŠ æµè§ˆå™¨äº‹ä»¶çš„ç›‘å¬å‡½æ•°ç­‰ã€‚æˆ‘ä»¬ä¸€æ—¦ä½¿ç”¨äº†addEventListenerå°±å¿…é¡»åœ¨åˆé€‚çš„æ—¶å€™è°ƒç”¨removeEventListeneræ¥ç§»é™¤å¯¹äº‹ä»¶çš„ç›‘å¬ï¼Œå¦åˆ™ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼ŒuseEffectå…è®¸æˆ‘ä»¬åœ¨å‰¯ä½œç”¨å‡½æ•°é‡Œé¢è¿”å›ä¸€ä¸ªcleanupå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šåœ¨ç»„ä»¶é‡æ–°æ¸²æŸ“ä¹‹å‰è¢«æ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªè¿”å›çš„å‡½æ•°é‡Œé¢ç§»é™¤å¯¹äº‹ä»¶çš„ç›‘å¬ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼š 12345678910111213141516171819202122import React, &#123; useEffect &#125; from 'react'import ReactDOM from 'react-dom'const WindowScrollListener = () =&gt; &#123; useEffect(() =&gt; &#123; const handleWindowScroll = () =&gt; console.log('yean, window is scrolling!') window.addEventListener('scroll', handleWindowScroll) // this is clean up function return () =&gt; &#123; window.removeEventListener(handleWindowScroll) &#125; &#125;, []) return ( &lt;div&gt; I can listen to the window scroll event! &lt;/div&gt; )&#125;ReactDOM.render(&lt;WindowScrollListener /&gt;, document.getElementById('root')) ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬ä¼šåœ¨WindowScrollListenerç»„ä»¶é¦–æ¬¡æ¸²æŸ“å®Œæˆåæ³¨å†Œä¸€ä¸ªç›‘å¬é¡µé¢æ»šåŠ¨äº‹ä»¶çš„å‡½æ•°ï¼Œå¹¶åœ¨ç»„ä»¶ä¸‹ä¸€æ¬¡æ¸²æŸ“å‰ç§»é™¤è¯¥ç›‘å¬å‡½æ•°ã€‚ç”±äºæˆ‘ä»¬æŒ‡å®šäº†ä¸€ä¸ªç©ºæ•°ç»„ä½œä¸ºè¿™ä¸ªå‰¯ä½œç”¨çš„dependenciesï¼Œæ‰€ä»¥è¿™ä¸ªå‰¯ä½œç”¨åªä¼šåœ¨ç»„ä»¶é¦–æ¬¡æ¸²æŸ“æ—¶è¢«æ‰§è¡Œä¸€æ¬¡ï¼Œè€Œå®ƒçš„cleanupå‡½æ•°åªä¼šåœ¨ç»„ä»¶unmountæ—¶æ‰è¢«æ‰§è¡Œï¼Œè¿™å°±é¿å…äº†é¢‘ç¹æ³¨å†Œé¡µé¢ç›‘å¬å‡½æ•°ä»è€Œå½±å“é¡µé¢çš„æ€§èƒ½ã€‚ æ³¨æ„äº‹é¡¹ é¿å…ä½¿ç”¨â€œæ—§çš„â€å˜é‡","categories":[{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/tags/React/"}]},{"title":"Redux","slug":"react-redux","date":"2021-01-17T14:25:42.000Z","updated":"2022-11-02T11:15:20.671Z","comments":true,"path":"2021/01/17/react-redux/","link":"","permalink":"http://xdd7130.github.io/2021/01/17/react-redux/","excerpt":"","text":"ğŸŒ´ ReduxğŸŒ´ React-Reduxdemoä»£ç  UIç»„ä»¶åªè´Ÿè´£ UI çš„å‘ˆç°ï¼Œä¸å¸¦æœ‰ä»»ä½•ä¸šåŠ¡é€»è¾‘æ²¡æœ‰çŠ¶æ€ï¼ˆå³ä¸ä½¿ç”¨this.stateè¿™ä¸ªå˜é‡ï¼‰æ‰€æœ‰æ•°æ®éƒ½ç”±å‚æ•°ï¼ˆthis.propsï¼‰æä¾›ä¸ä½¿ç”¨ä»»ä½• Redux çš„ API å®¹å™¨ç»„ä»¶è´Ÿè´£ç®¡ç†æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œä¸è´Ÿè´£ UI çš„å‘ˆç°å¸¦æœ‰å†…éƒ¨çŠ¶æ€ä½¿ç”¨ Redux çš„ APIUI ç»„ä»¶è´Ÿè´£ UI çš„å‘ˆç°ï¼Œå®¹å™¨ç»„ä»¶è´Ÿè´£ç®¡ç†æ•°æ®å’Œé€»è¾‘ã€‚ å¦‚æœä¸€ä¸ªç»„ä»¶æ—¢æœ‰ UI åˆæœ‰ä¸šåŠ¡é€»è¾‘ï¼Œé‚£æ€ä¹ˆåŠï¼Ÿå›ç­”æ˜¯ï¼Œå°†å®ƒæ‹†åˆ†æˆä¸‹é¢çš„ç»“æ„ï¼šå¤–é¢æ˜¯ä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œé‡Œé¢åŒ…äº†ä¸€ä¸ªUI ç»„ä»¶ã€‚å‰è€…è´Ÿè´£ä¸å¤–éƒ¨çš„é€šä¿¡ï¼Œå°†æ•°æ®ä¼ ç»™åè€…ï¼Œç”±åè€…æ¸²æŸ“å‡ºè§†å›¾ã€‚ React-Redux è§„å®šï¼Œæ‰€æœ‰çš„ UI ç»„ä»¶éƒ½ç”±ç”¨æˆ·æä¾›ï¼Œå®¹å™¨ç»„ä»¶åˆ™æ˜¯ç”± React-Redux è‡ªåŠ¨ç”Ÿæˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨æˆ·è´Ÿè´£è§†è§‰å±‚ï¼ŒçŠ¶æ€ç®¡ç†åˆ™æ˜¯å…¨éƒ¨äº¤ç»™å®ƒã€‚ connect()12import &#123; connect &#125; from 'react-redux'const VisibleTodoList = connect()(TodoList); ä¸Šé¢VisibleTodoList ä¾¿æ˜¯é€šè¿‡UIç»„ä»¶TodoList,é€šè¿‡connectæ–¹æ³•è‡ªåŠ¨ç”Ÿæˆçš„å®¹å™¨ç»„ä»¶ã€‚ä½†éœ€è¦å®šä¹‰ä¸šåŠ¡é€»è¾‘ï¼Œç»„ä»¶æ‰æœ‰æ„ä¹‰ã€‚123456import &#123; connect &#125; from 'react-redux'const VisibleTodoList = connect( mapStateToProps, mapDispatchToProps)(TodoList) connectæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šmapStateToPropså’ŒmapDispatchToPropsã€‚å®ƒä»¬å®šä¹‰äº† UI ç»„ä»¶çš„ä¸šåŠ¡é€»è¾‘ã€‚å‰è€…è´Ÿè´£è¾“å…¥é€»è¾‘ï¼Œå³å°†stateæ˜ å°„åˆ° UI ç»„ä»¶çš„å‚æ•°ï¼ˆpropsï¼‰ï¼Œåè€…è´Ÿè´£è¾“å‡ºé€»è¾‘ï¼Œå³å°†ç”¨æˆ·å¯¹ UI ç»„ä»¶çš„æ“ä½œæ˜ å°„æˆ Actionã€‚ mapStateToProps()å®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå»ºç«‹ä¸€ä¸ªä»ï¼ˆå¤–éƒ¨çš„ï¼‰stateå¯¹è±¡åˆ°ï¼ˆUI ç»„ä»¶çš„ï¼‰propså¯¹è±¡çš„æ˜ å°„å…³ç³»ã€‚mapStateToPropsæ‰§è¡Œååº”è¯¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢çš„æ¯ä¸€ä¸ªé”®å€¼å¯¹å°±æ˜¯ä¸€ä¸ªæ˜ å°„ã€‚12345const mapStateToProps = (state) =&gt; &#123; return &#123; todos: getVisibleTodos(state.todos, state.visibilityFilter) &#125;&#125; mapStateToPropsæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—stateä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ªtodoså±æ€§ï¼Œä»£è¡¨ UI ç»„ä»¶çš„åŒåå‚æ•°ï¼Œåé¢çš„getVisibleTodosä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥ä»stateç®—å‡º todos çš„å€¼ã€‚ mapDispatchToProps()mapDispatchToPropsæ˜¯connectå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨æ¥å»ºç«‹ UI ç»„ä»¶çš„å‚æ•°åˆ°store.dispatchæ–¹æ³•çš„æ˜ å°„ã€‚å®ƒå®šä¹‰äº†å“ªäº›ç”¨æˆ·çš„æ“ä½œåº”è¯¥å½“ä½œ Actionï¼Œä¼ ç»™ Storeã€‚å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚ æ˜¯å‡½æ•°åˆ™ä¼šå¾—åˆ°dispatchå’ŒownPropsï¼ˆå®¹å™¨ç»„ä»¶çš„propså¯¹è±¡ï¼‰ä¸¤ä¸ªå‚æ•°ã€‚12345678910111213const mapDispatchToProps = ( dispatch, ownProps) =&gt; &#123; return &#123; onClick: () =&gt; &#123; dispatch(&#123; type: &apos;SET_VISIBILITY_FILTER&apos;, filter: ownProps.filter &#125;); &#125; &#125;;&#125; ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹åˆ°ï¼ŒmapDispatchToPropsä½œä¸ºå‡½æ•°ï¼Œåº”è¯¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„æ¯ä¸ªé”®å€¼å¯¹éƒ½æ˜¯ä¸€ä¸ªæ˜ å°„ï¼Œå®šä¹‰äº† UI ç»„ä»¶çš„å‚æ•°æ€æ ·å‘å‡º Actionã€‚ æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„æ¯ä¸ªé”®åä¹Ÿæ˜¯å¯¹åº” UI ç»„ä»¶çš„åŒåå‚æ•°ï¼Œé”®å€¼åº”è¯¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼šè¢«å½“ä½œ Action creator ï¼Œè¿”å›çš„ Action ä¼šç”± Redux è‡ªåŠ¨å‘å‡ºã€‚123456const mapDispatchToProps = &#123; onClick: (filter) =&gt; &#123; type: 'SET_VISIBILITY_FILTER', filter: filter &#125;;&#125; Provider ç»„ä»¶connectæ–¹æ³•ç”Ÿæˆå®¹å™¨ç»„ä»¶ä»¥åï¼Œéœ€è¦è®©å®¹å™¨ç»„ä»¶æ‹¿åˆ°stateå¯¹è±¡ï¼Œæ‰èƒ½ç”Ÿæˆ UI ç»„ä»¶çš„å‚æ•°ã€‚React-Redux æä¾›Providerç»„ä»¶ï¼Œå¯ä»¥è®©å®¹å™¨ç»„ä»¶æ‹¿åˆ°stateã€‚12345678910111213import &#123; Provider &#125; from 'react-redux'import &#123; createStore &#125; from 'redux'import todoApp from './reducers'import App from './components/App'let store = createStore(todoApp);render( &lt;Provider store=&#123;store&#125;&gt; &lt;App /&gt; &lt;/Provider&gt;, document.getElementById('root'))","categories":[{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/tags/React/"}]},{"title":"è·¯ç”±","slug":"reactè·¯ç”±","date":"2021-01-14T01:21:19.000Z","updated":"2022-11-02T11:15:20.671Z","comments":true,"path":"2021/01/14/reactè·¯ç”±/","link":"","permalink":"http://xdd7130.github.io/2021/01/14/reactè·¯ç”±/","excerpt":"","text":"demoä»£ç  åŸºæœ¬æ¦‚å¿µ react-ruter: æ ¸å¿ƒåº“ react-router-dom: åŸºäºæ ¸å¿ƒåº“åœ¨ webç«¯ ä½¿ç”¨çš„åº“ react-router-native: åŸºäºæ ¸å¿ƒåº“åœ¨ React Native ä½¿ç”¨çš„åº“ react-router-config: ç”¨äºé…ç½®é™æ€è·¯ç”±çš„åº“,éšç€ React Router v4 çš„å¼•å…¥ï¼Œä¸å†æœ‰é›†ä¸­å¼è·¯ç”±é…ç½® react-router-redux: é›†æˆ Redux çš„åº“,å·²ç»ä¸æ¨èä½¿ç”¨ï¼Œæ¨èä½¿ç”¨ connected-react-router å’Œ Redux è¿›è¡Œé…åˆä½¿ç”¨ å¦‚æœåªåœ¨æµè§ˆå™¨ç«¯ä½¿ç”¨ï¼Œç›´æ¥å®‰è£… react-router-dom. åŸºæœ¬ç»„ä»¶ React Routeræœ‰ä¸‰å¤§ç»„ä»¶ï¼š router components è·¯ç”±å™¨ï¼Œ&lt;BrowserRouter&gt;ã€&lt;HashRouter&gt; route matching components è·¯çº¿åŒ¹é…å™¨ï¼Œ&lt;Route&gt;ã€&lt;Switch&gt; navigation components å¯¼èˆªï¼Œ&lt;Link&gt;ã€&lt;NavLink&gt;ã€&lt;Redirect&gt; å…¶ä»–è¿˜æœ‰ &lt;MemoryRouter&gt; å†…å­˜è·¯ç”±ç»„ä»¶ã€&lt;NativeRouter&gt; Nativeçš„è·¯ç”±ç»„ä»¶ã€&lt;StaticRouter&gt; é™æ€è·¯ç”±ç»„ä»¶è¿™äº›è·¯ç”±ç»„ä»¶ï¼Œå…¶ä¸­ MemoryRouter ä¸»è¦ç”¨åœ¨ ReactNative è¿™ç§éæµè§ˆå™¨çš„ç¯å¢ƒä¸­ï¼Œå› æ­¤ç›´æ¥å°† URL çš„ history ä¿å­˜åœ¨äº†å†…å®¹ä¸­ã€‚StaticRouter ä¸»è¦ç”¨äºæœåŠ¡å™¨ç«¯æ¸²æŸ“ è·¯ç”±å™¨react-router-dom æä¾›äº†BrowserRouter å’Œ HashRouter ä¸¤ä¸ªè·¯ç”±ï¼Œè¿™ä¸¤ä¸ªè·¯ç”±éƒ½ä¼šåˆ›å»ºä¸€ä¸ªä¸“é—¨çš„ history å¯¹è±¡ã€‚ä¸¤è€…ä¹‹é—´çš„ä¸»è¦åŒºåˆ«æ˜¯å®ƒä»¬å­˜å‚¨ URL å’Œä¸ Web æœåŠ¡å™¨é€šä¿¡çš„æ–¹å¼ BrowserRouter http://localhost:3000/bydHashRouter http://localhost:3000/#/byd ä¸¤è€…ç”Ÿæˆçš„ URL åŒºåˆ«åœ¨äºæœ‰æ²¡æœ‰ 1import &#123; BrowserRouter, Route, Link &#125; from \"react-router-dom\"; BrowserRouter å®¹å™¨ï¼Œç”¨æ¥å­˜æ”¾ Routerã€LinkBrowserRouter æä¾›äº†å¦‚ä¸‹å±æ€§: basename (string) å½“å‰ä½ç½®çš„åŸºå‡† URL forceRefresh (boolean)ï¼Œåœ¨å¯¼èˆªçš„è¿‡ç¨‹ä¸­æ•´ä¸ªé¡µé¢æ˜¯å¦åˆ·æ–° getUserConfirmation (func)ï¼Œå½“å¯¼èˆªéœ€è¦ç¡®è®¤æ—¶æ‰§è¡Œçš„å‡½æ•°ã€‚é»˜è®¤æ˜¯ï¼šwindow.confirm keyLength (number) location.key çš„é•¿åº¦ã€‚é»˜è®¤æ˜¯ 6 children (node) è¦æ¸²æŸ“çš„å­èŠ‚ç‚¹ HashRouter ä¸æ”¯æŒ location.key å’Œ location.state ï¼Œæ‰€ä»¥åœ¨æµè§ˆå™¨ä¸­å»ºè®®ä½¿ç”¨ BrowserRouter è·¯çº¿åŒ¹é…å™¨ Routeï¼š location ä¸ Route çš„ path åŒ¹é…æ—¶ï¼Œæ¸²æŸ“ Route ä¸­çš„ Component Route æ¥å—ä¸‰ç§æ¸²æŸ“æ–¹å¼ï¼š&lt;Route component&gt;ã€&lt;Route render&gt;ã€&lt;Route children&gt;ã€‚(1)render: function ç±»å‹ï¼ŒRoute ä¼šæ¸²æŸ“è¿™ä¸ª function çš„è¿”å›å€¼ï¼Œå¯ä»¥åœ¨å‡½æ•°ä¸­é™„åŠ ä¸€äº›é¢å¤–çš„é€»è¾‘ï¼Œæ‰€ä»¥ä½ å¯ä»¥åœ¨renderä¸­æ·»åŠ ä¸€äº›é€»è¾‘åˆ¤æ–­ï¼Œå†è¿”å›ä¸€ä¸ªè¦æ¸²æŸ“çš„ componentã€‚(2)children: function ç±»å‹ï¼Œæ¯” render å¤šäº† matchå‚æ•°ï¼Œå¯ä»¥æ ¹æ® matchå‚æ•°æ¥å†³å®šåŒ¹é…çš„æ—¶å€™æ¸²æŸ“ä»€ä¹ˆï¼Œä¸åŒ¹é…çš„æ—¶å€™æ¸²æŸ“ä»€ä¹ˆRoute ç»å¸¸ç”¨çš„æ˜¯ exactã€path ä»¥åŠ component å±æ€§ã€‚ exact æ˜¯å¦è¿›è¡Œç²¾ç¡®åŒ¹é…ï¼Œè·¯ç”± /a å¯ä»¥å’Œ /a/ã€/a åŒ¹é…ã€‚ strict æ˜¯å¦è¿›è¡Œä¸¥æ ¼åŒ¹é…ï¼ŒæŒ‡æ˜è·¯å¾„åªåŒ¹é…ä»¥æ–œçº¿ç»“å°¾çš„è·¯å¾„ï¼Œè·¯ç”±/aå¯ä»¥å’Œ/aåŒ¹é…ï¼Œä¸èƒ½å’Œ/a/åŒ¹é…ï¼Œç›¸æ¯” exact ä¼šæ›´ä¸¥æ ¼äº›ã€‚ path (string) æ ‡è¯†è·¯ç”±çš„è·¯å¾„ï¼Œæ²¡æœ‰ path å±æ€§çš„ Route æ€»æ˜¯ä¼šåŒ¹é…ã€‚ component è¡¨ç¤ºè·¯å¾„å¯¹åº”æ˜¾ç¤ºçš„ç»„ä»¶ã€‚ location (object) é™¤äº†é€šè¿‡ path ä¼ é€’è·¯ç”±è·¯å¾„ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¼ é€’ location å¯¹è±¡å¯ä»¥åŒ¹é…ã€‚ sensitive (boolean) åŒ¹é…è·¯å¾„æ—¶ï¼Œæ˜¯å¦åŒºåˆ†å¤§å°å†™ã€‚ Route ç»„ä»¶éƒ½æ¥æ”¶ locationã€historyã€matchä¸‰ä¸ª propsï¼šä¸‰ä¸ª props æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ matchï¼Œé€šè¿‡ match.params å¯ä»¥å–åˆ°åŠ¨æ€å‚æ•°çš„å€¼ã€‚ Swtich:å°±è¿‘åŒ¹é…è·¯ç”±ï¼Œä»…æ¸²æŸ“ä¸€ä¸ªè·¯ç”±ï¼Œè·¯ç”±çš„é»˜è®¤è¡Œä¸ºæ˜¯åŒ¹é…äº†å°±ç›´æ¥æ¸²æŸ“ï¼Œå¤§éƒ¨åˆ†åœºæ™¯ä¸‹è¿™ä¸ªé€»è¾‘æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†è€ƒè™‘ä¸‹é¢çš„åœºæ™¯ å¯¼èˆªLink å£°æ˜è·¯ç”±è¦è·³è½¬çš„åœ°æ–¹ toï¼ˆstring | object | functionï¼‰ éœ€è¦è·³è½¬åˆ°çš„è·¯å¾„(pathname) æˆ–åœ°å€ï¼ˆlocationï¼‰(1)ä¸º string æ—¶ å°±æ˜¯ä¸€ä¸ªæ˜ç¡®çš„è·¯å¾„åœ°å€(2)ä¸º object æ—¶æœ‰å¦‚ä¸‹å±æ€§ï¼ˆå°±æ˜¯ä¸€ä¸ªlocationå¯¹è±¡ï¼‰pathnameï¼šURLè·¯å¾„ã€‚searchï¼šURlä¸­æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚hashï¼šURLçš„hashåˆ†æ®µï¼Œä¾‹å¦‚#a-hashã€‚stateï¼šè¡¨ç¤ºlocationä¸­çš„çŠ¶æ€(3)ä¸º function æ—¶ï¼Œå°±æ˜¯ä¸€ä¸ªå‡½æ•°æ¥æ”¶å½“å‰ location ä¸ºå‚æ•°ï¼Œç„¶åä»¥å­—ç¬¦ä¸²æˆ–å¯¹è±¡çš„å½¢å¼è¿”å›ä½ç½®å½¢å¼ replace (boolean) ä¸º true æ˜¯æ›¿æ¢å†å²è®°å½•ï¼Œfalse æ˜¯æ–°å¢å†å²è®°å½• NavLink åŠŸèƒ½ä¸ Link ç±»ä¼¼ä¸è¿‡å‚æ•°æ›´å¤šï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®è¢«é€‰ä¸­æ—¶çš„æ ·å¼æˆ–è€…ç±» exact (boolean) æ˜¯å¦è¿›è¡Œç²¾ç¡®åŒ¹é… strict (boolean) æ˜¯å¦è¿›è¡Œä¸¥æ ¼åŒ¹é… toï¼ˆstring | objectï¼‰ éœ€è¦è·³è½¬åˆ°çš„è·¯å¾„(pathname)æˆ–åœ°å€ï¼ˆlocationï¼‰ activeClassName (string) æ˜¯é€‰ä¸­çŠ¶æ€çš„ç±»åï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå…¶æ·»åŠ æ ·å¼ activeStyle (Object) å…ƒç´ å¤„äºé€‰ä¸­çŠ¶æ€æ—¶ï¼Œåº”ç”¨äºå…ƒç´ çš„æ ·å¼ isActive(function) æ·»åŠ é¢å¤–é€»è¾‘ä»¥ç¡®å®šé“¾æ¥æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€ Redirect é‡å®šå‘ç»„ä»¶ from (string) éœ€è¦é‡å®šå‘çš„è·¯å¾„ï¼Œå¯ä»¥åŒ…æ‹¬åŠ¨æ€å‚æ•° push (boolean) ä¸º true æ—¶ï¼Œé‡å®šå‘ä¼šå°†æ–°æ¡ç›®æ¨å…¥å†å²è®°å½•ï¼Œè€Œä¸æ˜¯æ›¿æ¢å½“å‰æ¡ç›® to (string | object) é‡å®šå‘åˆ°çš„è·¯å¾„ exact (boolean) æ˜¯å¦è¦å¯¹ from è¿›è¡Œç²¾ç¡®åŒ¹é… strict (boolean) æ˜¯å¦è¦å¯¹ from è¿›è¡Œä¸¥æ ¼åŒ¹é… sensitive (boolean) åŒ¹é… from æ—¶æ˜¯å¦åŒºåˆ†å¤§å°å†™ react-routerä¸react-router-domAPIReact-routerï¼šæä¾›äº†routerçš„æ ¸å¿ƒapiã€‚å¦‚Routerã€Routeã€Switchç­‰ï¼Œä½†æ²¡æœ‰æä¾›æœ‰å…³domæ“ä½œè¿›è¡Œè·¯ç”±è·³è½¬çš„apï¼› React-router-domï¼šæä¾›äº†BrowserRouterã€HashRouterã€Linkç­‰apiï¼Œå¯ä»¥é€šè¿‡domæ“ä½œè§¦å‘äº‹ä»¶æ§åˆ¶è·¯ç”±ã€‚ åŠŸèƒ½React-routerï¼šå®ç°äº†è·¯ç”±çš„æ ¸å¿ƒåŠŸèƒ½ React-router-domï¼šåŸºäºReact-routerï¼ŒåŠ å…¥äº†ä¸€äº›åœ¨æµè§ˆå™¨è¿è¡Œä¸‹çš„ä¸€äº›åŠŸèƒ½. ä¾‹å¦‚ï¼šLinkç»„ä»¶ä¼šæ¸²æŸ“ä¸€ä¸ªaæ ‡ç­¾ï¼Œ BrowserRouterä½¿ç”¨ HTML5 æä¾›çš„ history APIå¯ä»¥ä¿è¯ä½ çš„ UI ç•Œé¢å’Œ URL ä¿æŒåŒæ­¥ï¼Œ HashRouterä½¿ç”¨ URL çš„ hash éƒ¨åˆ†ä¿è¯ä½ çš„ UI ç•Œé¢å’Œ URL ä¿æŒåŒæ­¥ å†™æ³•React-routerä¸èƒ½é€šè¿‡æ“ä½œdomæ§åˆ¶è·¯ç”±ï¼Œæ­¤æ—¶è¿˜éœ€å¼•å…¥React-router-dom12mport &#123;Switch, Route, Router&#125; from 'react-router';import &#123;HashHistory, Link&#125; from 'react-router-dom'; React-router-domåœ¨React-routerçš„åŸºç¡€ä¸Šæ‰©å±•äº†å¯æ“ä½œdomçš„api 1import &#123;Swtich, Route, Router, HashHistory, Link&#125; from 'react-router-dom'; è·¯ç”±è·³è½¬React-routerï¼šrouter4.0ä»¥ä¸Šç‰ˆæœ¬ç”¨this.props.history.push(â€˜/pathâ€™)å®ç°è·³è½¬ï¼› router3.0ä»¥ä¸Šç‰ˆæœ¬ç”¨this.props.router.push(â€˜/pathâ€™)å®ç°è·³è½¬ React-router-domï¼šç›´æ¥ç”¨this.props.history.push(â€˜/pathâ€™)å°±å¯ä»¥å®ç°è·³è½¬ ####","categories":[{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/tags/React/"}]},{"title":"ES6(å…­) async","slug":"es6-async","date":"2021-01-08T02:25:20.000Z","updated":"2022-11-02T11:15:20.549Z","comments":true,"path":"2021/01/08/es6-async/","link":"","permalink":"http://xdd7130.github.io/2021/01/08/es6-async/","excerpt":"","text":"###","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"ES6","slug":"ES6","permalink":"http://xdd7130.github.io/tags/ES6/"}]},{"title":"ES6(äº”) Generator","slug":"es6-generator","date":"2021-01-06T01:13:36.000Z","updated":"2022-11-02T11:15:20.550Z","comments":true,"path":"2021/01/06/es6-generator/","link":"","permalink":"http://xdd7130.github.io/2021/01/06/es6-generator/","excerpt":"","text":"ğŸŒ´ æ¦‚è¿°Generator å‡½æ•°æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå¯ä»¥å°è£…å¤šä¸ªå†…éƒ¨çŠ¶æ€ã€‚ä¸¤ä¸ªç‰¹å¾ï¼š1ã€functionå…³é”®å­—ä¸å‡½æ•°åä¹‹é—´æœ‰ä¸€ä¸ªæ˜Ÿå·2ã€å‡½æ•°ä½“å†…éƒ¨ä½¿ç”¨yieldè¡¨è¾¾å¼ï¼Œå®šä¹‰ä¸åŒçš„å†…éƒ¨çŠ¶æ€1234567function* helloWorldGenerator() &#123; yield 'hello'; yield 'world'; return 'ending';&#125;var hw = helloWorldGenerator(); Generator å‡½æ•°çš„è°ƒç”¨æ–¹æ³•ä¸æ™®é€šå‡½æ•°ä¸€æ ·ï¼Œä¹Ÿæ˜¯åœ¨å‡½æ•°ååé¢åŠ ä¸Šä¸€å¯¹åœ†æ‹¬å·ã€‚ä¸åŒçš„æ˜¯ï¼Œè°ƒç”¨ Generator å‡½æ•°åï¼Œè¯¥å‡½æ•°å¹¶ä¸æ‰§è¡Œï¼Œè¿”å›çš„ä¹Ÿä¸æ˜¯å‡½æ•°è¿è¡Œç»“æœï¼Œè€Œæ˜¯ä¸€ä¸ªæŒ‡å‘å†…éƒ¨çŠ¶æ€çš„æŒ‡é’ˆå¯¹è±¡ã€‚å¿…é¡»è°ƒç”¨éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œä½¿å¾—æŒ‡é’ˆç§»å‘ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œå†…éƒ¨æŒ‡é’ˆå°±ä»å‡½æ•°å¤´éƒ¨æˆ–ä¸Šä¸€æ¬¡åœä¸‹æ¥çš„åœ°æ–¹å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªyieldè¡¨è¾¾å¼ï¼ˆæˆ–returnè¯­å¥ï¼‰ä¸ºæ­¢ã€‚æ¢è¨€ä¹‹ï¼ŒGenerator å‡½æ•°æ˜¯åˆ†æ®µæ‰§è¡Œçš„ï¼Œyieldè¡¨è¾¾å¼æ˜¯æš‚åœæ‰§è¡Œçš„æ ‡è®°ï¼Œè€Œnextæ–¹æ³•å¯ä»¥æ¢å¤æ‰§è¡Œã€‚1234567891011hw.next()// &#123; value: 'hello', done: false &#125;hw.next()// &#123; value: 'world', done: false &#125;hw.next()// &#123; value: 'ending', done: true &#125;hw.next()// &#123; value: undefined, done: true &#125; ç»¼ä¸Šï¼Œè°ƒç”¨ Generator å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œä»£è¡¨ Generator å‡½æ•°çš„å†…éƒ¨æŒ‡é’ˆã€‚ä»¥åï¼Œæ¯æ¬¡è°ƒç”¨éå†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªæœ‰ç€valueå’Œdoneä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚valueå±æ€§è¡¨ç¤ºå½“å‰çš„å†…éƒ¨çŠ¶æ€çš„å€¼ï¼Œæ˜¯yieldè¡¨è¾¾å¼åé¢é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼›doneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦éå†ç»“æŸã€‚ ğŸŒ´ yield è¡¨è¾¾å¼1ã€yieldè¡¨è¾¾å¼å°±æ˜¯æš‚åœæ ‡å¿—ã€‚2ã€yieldè¡¨è¾¾å¼ä¸returnè¯­å¥ç›¸ä¼¼ç‚¹ï¼šéƒ½èƒ½è¿”å›ç´§è·Ÿåœ¨è¯­å¥åé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼åŒºåˆ«ï¼šæ¯æ¬¡é‡åˆ°yieldï¼Œå‡½æ•°æš‚åœæ‰§è¡Œï¼Œä¸‹ä¸€æ¬¡å†ä»è¯¥ä½ç½®ç»§ç»­å‘åæ‰§è¡Œï¼Œè€Œreturnè¯­å¥ä¸å…·å¤‡ä½ç½®è®°å¿†çš„åŠŸèƒ½ã€‚ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œåªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼ˆæˆ–è€…è¯´ä¸€ä¸ªï¼‰returnè¯­å¥ï¼Œä½†æ˜¯å¯ä»¥æ‰§è¡Œå¤šæ¬¡ï¼ˆæˆ–è€…è¯´å¤šä¸ªï¼‰yieldè¡¨è¾¾å¼ã€‚æ­£å¸¸å‡½æ•°åªèƒ½è¿”å›ä¸€ä¸ªå€¼ï¼Œå› ä¸ºåªèƒ½æ‰§è¡Œä¸€æ¬¡returnï¼›Generator å‡½æ•°å¯ä»¥è¿”å›ä¸€ç³»åˆ—çš„å€¼ï¼Œå› ä¸ºå¯ä»¥æœ‰ä»»æ„å¤šä¸ªyieldã€‚3ã€Generator å‡½æ•°å¯ä»¥ä¸ç”¨yieldè¡¨è¾¾å¼ï¼Œè¿™æ—¶å°±å˜æˆäº†ä¸€ä¸ªå•çº¯çš„æš‚ç¼“æ‰§è¡Œå‡½æ•°ã€‚123456789function* f() &#123; console.log('æ‰§è¡Œäº†ï¼')&#125;var generator = f();setTimeout(function () &#123; generator.next()&#125;, 2000); 4ã€yieldè¡¨è¾¾å¼åªèƒ½ç”¨åœ¨ Generator å‡½æ•°é‡Œé¢ï¼Œç”¨åœ¨å…¶ä»–åœ°æ–¹éƒ½ä¼šæŠ¥é”™ã€‚5ã€yieldè¡¨è¾¾å¼å¦‚æœç”¨åœ¨å¦ä¸€ä¸ªè¡¨è¾¾å¼ä¹‹ä¸­ï¼Œå¿…é¡»æ”¾åœ¨åœ†æ‹¬å·é‡Œé¢ã€‚1234567function* demo() &#123; console.log('Hello' + yield); // SyntaxError console.log('Hello' + yield 123); // SyntaxError console.log('Hello' + (yield)); // OK console.log('Hello' + (yield 123)); // OK&#125; 6ã€yieldè¡¨è¾¾å¼ç”¨ä½œå‡½æ•°å‚æ•°æˆ–æ”¾åœ¨èµ‹å€¼è¡¨è¾¾å¼çš„å³è¾¹ï¼Œå¯ä»¥ä¸åŠ æ‹¬å·ã€‚1234function* demo() &#123; foo(yield 'a', yield 'b'); // OK let input = yield; // OK&#125; ğŸŒ´ next æ–¹æ³•çš„å‚æ•°1ã€yieldè¡¨è¾¾å¼æœ¬èº«æ²¡æœ‰è¿”å›å€¼ï¼Œæˆ–è€…è¯´æ€»æ˜¯è¿”å›undefinedã€‚2ã€nextæ–¹æ³•å¯ä»¥å¸¦ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°å°±ä¼šè¢«å½“ä½œä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼çš„è¿”å›å€¼ã€‚123456789101112131415function* foo(x) &#123; var y = 2 * (yield (x + 1)); var z = yield (y / 3); return (x + y + z);&#125;var a = foo(5);a.next() // Object&#123;value:6, done:false&#125;a.next() // Object&#123;value:NaN, done:false&#125;a.next() // Object&#123;value:NaN, done:true&#125;var b = foo(5);b.next() // &#123; value:6, done:false &#125;b.next(12) // &#123; value:8, done:false &#125;b.next(13) // &#123; value:42, done:true &#125; ğŸŒ´ forâ€¦offorâ€¦ofå¾ªç¯å¯ä»¥è‡ªåŠ¨éå† Generator å‡½æ•°è¿è¡Œæ—¶ç”Ÿæˆçš„Iteratorå¯¹è±¡ï¼Œä¸”æ­¤æ—¶ä¸å†éœ€è¦è°ƒç”¨nextæ–¹æ³•ã€‚ä¸€æ—¦nextæ–¹æ³•çš„è¿”å›å¯¹è±¡çš„doneå±æ€§ä¸ºtrueï¼Œforâ€¦ofå¾ªç¯å°±ä¼šä¸­æ­¢ï¼Œä¸”ä¸åŒ…å«è¯¥è¿”å›å¯¹è±¡ï¼Œæ‰€ä»¥ä¸Šé¢ä»£ç çš„returnè¯­å¥è¿”å›çš„6ï¼Œä¸åŒ…æ‹¬åœ¨forâ€¦ofå¾ªç¯ä¹‹ä¸­ã€‚12345678910111213function* foo() &#123; yield 1; yield 2; yield 3; yield 4; yield 5; return 6;&#125;for (let v of foo()) &#123; console.log(v);&#125;// 1 2 3 4 5 ğŸŒ´ Generator.prototype.throw()Generator å‡½æ•°è¿”å›çš„éå†å™¨å¯¹è±¡ï¼Œéƒ½æœ‰ä¸€ä¸ªthrowæ–¹æ³•ï¼Œå¯ä»¥åœ¨å‡½æ•°ä½“å¤–æŠ›å‡ºé”™è¯¯ï¼Œç„¶ååœ¨ Generator å‡½æ•°ä½“å†…æ•è·ã€‚123456789101112131415161718 try &#123; yield; &#125; catch (e) &#123; console.log(&apos;å†…éƒ¨æ•è·&apos;, e); &#125;&#125;;var i = g();i.next();try &#123; i.throw(&apos;a&apos;); i.throw(&apos;b&apos;);&#125; catch (e) &#123; console.log(&apos;å¤–éƒ¨æ•è·&apos;, e);&#125;// å†…éƒ¨æ•è· a// å¤–éƒ¨æ•è· b ä¸Šé¢ä»£ç ä¸­ï¼Œéå†å™¨å¯¹è±¡iè¿ç»­æŠ›å‡ºä¸¤ä¸ªé”™è¯¯ã€‚ç¬¬ä¸€ä¸ªé”™è¯¯è¢« Generator å‡½æ•°ä½“å†…çš„catchè¯­å¥æ•è·ã€‚iç¬¬äºŒæ¬¡æŠ›å‡ºé”™è¯¯ï¼Œç”±äº Generator å‡½æ•°å†…éƒ¨çš„catchè¯­å¥å·²ç»æ‰§è¡Œè¿‡äº†ï¼Œä¸ä¼šå†æ•æ‰åˆ°è¿™ä¸ªé”™è¯¯äº†ï¼Œæ‰€ä»¥è¿™ä¸ªé”™è¯¯å°±è¢«æŠ›å‡ºäº† Generator å‡½æ•°ä½“ï¼Œè¢«å‡½æ•°ä½“å¤–çš„catchè¯­å¥æ•è·ã€‚ throwæ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°ä¼šè¢«catchè¯­å¥æ¥æ”¶ï¼Œå»ºè®®æŠ›å‡ºErrorå¯¹è±¡çš„å®ä¾‹ã€‚123456789101112var g = function* () &#123; try &#123; yield; &#125; catch (e) &#123; console.log(e); &#125;&#125;;var i = g();i.next();i.throw(new Error(&apos;å‡ºé”™äº†ï¼&apos;));// Error: å‡ºé”™äº†ï¼(â€¦) æ³¨æ„ï¼Œä¸è¦æ··æ·†éå†å™¨å¯¹è±¡çš„throwæ–¹æ³•å’Œå…¨å±€çš„throwå‘½ä»¤ã€‚ä¸Šé¢ä»£ç çš„é”™è¯¯ï¼Œæ˜¯ç”¨éå†å™¨å¯¹è±¡çš„throwæ–¹æ³•æŠ›å‡ºçš„ï¼Œè€Œä¸æ˜¯ç”¨throwå‘½ä»¤æŠ›å‡ºçš„ã€‚åè€…åªèƒ½è¢«å‡½æ•°ä½“å¤–çš„catchè¯­å¥æ•è·ã€‚ 123456789101112131415161718192021var g = function* () &#123; while (true) &#123; try &#123; yield; &#125; catch (e) &#123; if (e != &apos;a&apos;) throw e; console.log(&apos;å†…éƒ¨æ•è·&apos;, e); &#125; &#125;&#125;;var i = g();i.next();try &#123; throw new Error(&apos;a&apos;); throw new Error(&apos;b&apos;);&#125; catch (e) &#123; console.log(&apos;å¤–éƒ¨æ•è·&apos;, e);&#125;// å¤–éƒ¨æ•è· [Error: a] ä¸Šé¢ä»£ç ä¹‹æ‰€ä»¥åªæ•è·äº†aï¼Œæ˜¯å› ä¸ºå‡½æ•°ä½“å¤–çš„catchè¯­å¥å—ï¼Œæ•è·äº†æŠ›å‡ºçš„aé”™è¯¯ä»¥åï¼Œå°±ä¸ä¼šå†ç»§ç»­tryä»£ç å—é‡Œé¢å‰©ä½™çš„è¯­å¥äº†ã€‚ å¦‚æœ Generator å‡½æ•°å†…éƒ¨æ²¡æœ‰éƒ¨ç½²tryâ€¦catchä»£ç å—ï¼Œé‚£ä¹ˆthrowæ–¹æ³•æŠ›å‡ºçš„é”™è¯¯ï¼Œå°†è¢«å¤–éƒ¨tryâ€¦catchä»£ç å—æ•è·ã€‚1234567891011121314151617var g = function* () &#123; while (true) &#123; yield; console.log(&apos;å†…éƒ¨æ•è·&apos;, e); &#125;&#125;;var i = g();i.next();try &#123; i.throw(&apos;a&apos;); i.throw(&apos;b&apos;);&#125; catch (e) &#123; console.log(&apos;å¤–éƒ¨æ•è·&apos;, e);&#125;// å¤–éƒ¨æ•è· a ä¸Šé¢ä»£ç ä¸­ï¼ŒGenerator å‡½æ•°gå†…éƒ¨æ²¡æœ‰éƒ¨ç½²tryâ€¦catchä»£ç å—ï¼Œæ‰€ä»¥æŠ›å‡ºçš„é”™è¯¯ç›´æ¥è¢«å¤–éƒ¨catchä»£ç å—æ•è·ã€‚ å¦‚æœ Generator å‡½æ•°å†…éƒ¨å’Œå¤–éƒ¨ï¼Œéƒ½æ²¡æœ‰éƒ¨ç½²tryâ€¦catchä»£ç å—ï¼Œé‚£ä¹ˆç¨‹åºå°†æŠ¥é”™ï¼Œç›´æ¥ä¸­æ–­æ‰§è¡Œã€‚ 12345678910var gen = function* gen()&#123; yield console.log(&apos;hello&apos;); yield console.log(&apos;world&apos;);&#125;var g = gen();g.next();g.throw();// hello// Uncaught undefined ä¸Šé¢ä»£ç ä¸­ï¼Œg.throwæŠ›å‡ºé”™è¯¯ä»¥åï¼Œæ²¡æœ‰ä»»ä½•tryâ€¦catchä»£ç å—å¯ä»¥æ•è·è¿™ä¸ªé”™è¯¯ï¼Œå¯¼è‡´ç¨‹åºæŠ¥é”™ï¼Œä¸­æ–­æ‰§è¡Œã€‚ throwæ–¹æ³•æŠ›å‡ºçš„é”™è¯¯è¦è¢«å†…éƒ¨æ•è·ï¼Œå‰ææ˜¯å¿…é¡»è‡³å°‘æ‰§è¡Œè¿‡ä¸€æ¬¡nextæ–¹æ³•ã€‚1234567891011function* gen() &#123; try &#123; yield 1; &#125; catch (e) &#123; console.log(&apos;å†…éƒ¨æ•è·&apos;); &#125;&#125;var g = gen();g.throw(1);// Uncaught 1 ä¸Šé¢ä»£ç ä¸­ï¼Œg.throw(1)æ‰§è¡Œæ—¶ï¼Œnextæ–¹æ³•ä¸€æ¬¡éƒ½æ²¡æœ‰æ‰§è¡Œè¿‡ã€‚è¿™æ—¶ï¼ŒæŠ›å‡ºçš„é”™è¯¯ä¸ä¼šè¢«å†…éƒ¨æ•è·ï¼Œè€Œæ˜¯ç›´æ¥åœ¨å¤–éƒ¨æŠ›å‡ºï¼Œå¯¼è‡´ç¨‹åºå‡ºé”™ã€‚è¿™ç§è¡Œä¸ºå…¶å®å¾ˆå¥½ç†è§£ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡æ‰§è¡Œnextæ–¹æ³•ï¼Œç­‰åŒäºå¯åŠ¨æ‰§è¡Œ Generator å‡½æ•°çš„å†…éƒ¨ä»£ç ï¼Œå¦åˆ™ Generator å‡½æ•°è¿˜æ²¡æœ‰å¼€å§‹æ‰§è¡Œï¼Œè¿™æ—¶throwæ–¹æ³•æŠ›é”™åªå¯èƒ½æŠ›å‡ºåœ¨å‡½æ•°å¤–éƒ¨ã€‚throwæ–¹æ³•è¢«æ•è·ä»¥åï¼Œä¼šé™„å¸¦æ‰§è¡Œä¸‹ä¸€æ¡yieldè¡¨è¾¾å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¼šé™„å¸¦æ‰§è¡Œä¸€æ¬¡nextæ–¹æ³•ã€‚1234567891011121314var gen = function* gen()&#123; try &#123; yield console.log(&apos;a&apos;); &#125; catch (e) &#123; // ... &#125; yield console.log(&apos;b&apos;); yield console.log(&apos;c&apos;);&#125;var g = gen();g.next() // ag.throw() // bg.next() // c ä¸Šé¢ä»£ç ä¸­ï¼Œg.throwæ–¹æ³•è¢«æ•è·ä»¥åï¼Œè‡ªåŠ¨æ‰§è¡Œäº†ä¸€æ¬¡nextæ–¹æ³•ï¼Œæ‰€ä»¥ä¼šæ‰“å°bã€‚å¦å¤–ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œåªè¦ Generator å‡½æ•°å†…éƒ¨éƒ¨ç½²äº†tryâ€¦catchä»£ç å—ï¼Œé‚£ä¹ˆéå†å™¨çš„throwæ–¹æ³•æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸å½±å“ä¸‹ä¸€æ¬¡éå†ã€‚å¦å¤–ï¼Œthrowå‘½ä»¤ä¸g.throwæ–¹æ³•æ˜¯æ— å…³çš„ï¼Œä¸¤è€…äº’ä¸å½±å“ã€‚123456789101112131415var gen = function* gen()&#123; yield console.log(&apos;hello&apos;); yield console.log(&apos;world&apos;);&#125;var g = gen();g.next();try &#123; throw new Error();&#125; catch (e) &#123; g.next();&#125;// hello// world ä¸Šé¢ä»£ç ä¸­ï¼Œthrowå‘½ä»¤æŠ›å‡ºçš„é”™è¯¯ä¸ä¼šå½±å“åˆ°éå†å™¨çš„çŠ¶æ€ï¼Œæ‰€ä»¥ä¸¤æ¬¡æ‰§è¡Œnextæ–¹æ³•ï¼Œéƒ½è¿›è¡Œäº†æ­£ç¡®çš„æ“ä½œã€‚ è¿™ç§å‡½æ•°ä½“å†…æ•è·é”™è¯¯çš„æœºåˆ¶ï¼Œå¤§å¤§æ–¹ä¾¿äº†å¯¹é”™è¯¯çš„å¤„ç†ã€‚å¤šä¸ªyieldè¡¨è¾¾å¼ï¼Œå¯ä»¥åªç”¨ä¸€ä¸ªtryâ€¦catchä»£ç å—æ¥æ•è·é”™è¯¯ã€‚å¦‚æœä½¿ç”¨å›è°ƒå‡½æ•°çš„å†™æ³•ï¼Œæƒ³è¦æ•è·å¤šä¸ªé”™è¯¯ï¼Œå°±ä¸å¾—ä¸ä¸ºæ¯ä¸ªå‡½æ•°å†…éƒ¨å†™ä¸€ä¸ªé”™è¯¯å¤„ç†è¯­å¥ï¼Œç°åœ¨åªåœ¨ Generator å‡½æ•°å†…éƒ¨å†™ä¸€æ¬¡catchè¯­å¥å°±å¯ä»¥äº†ã€‚ Generator å‡½æ•°ä½“å¤–æŠ›å‡ºçš„é”™è¯¯ï¼Œå¯ä»¥åœ¨å‡½æ•°ä½“å†…æ•è·ï¼›åè¿‡æ¥ï¼ŒGenerator å‡½æ•°ä½“å†…æŠ›å‡ºçš„é”™è¯¯ï¼Œä¹Ÿå¯ä»¥è¢«å‡½æ•°ä½“å¤–çš„catchæ•è·ã€‚ 123456789101112131415function* foo() &#123; var x = yield 3; var y = x.toUpperCase(); yield y;&#125;var it = foo();it.next(); // &#123; value:3, done:false &#125;try &#123; it.next(42);&#125; catch (err) &#123; console.log(err);&#125; ğŸŒ´ Generator.prototype.return()Generator å‡½æ•°è¿”å›çš„éå†å™¨å¯¹è±¡ï¼Œè¿˜æœ‰ä¸€ä¸ªreturn()æ–¹æ³•ï¼Œå¯ä»¥è¿”å›ç»™å®šçš„å€¼ï¼Œå¹¶ä¸”ç»ˆç»“éå† Generator å‡½æ•°ã€‚ 1234567891011function* gen() &#123; yield 1; yield 2; yield 3;&#125;var g = gen();g.next() // &#123; value: 1, done: false &#125;g.return(&apos;foo&apos;) // &#123; value: &quot;foo&quot;, done: true &#125;g.next() // &#123; value: undefined, done: true &#125; å¦‚æœreturn()æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¸æä¾›å‚æ•°ï¼Œåˆ™è¿”å›å€¼çš„valueå±æ€§ä¸ºundefinedã€‚ ä¸Šé¢ä»£ç ä¸­ï¼Œéå†å™¨å¯¹è±¡gè°ƒç”¨return()æ–¹æ³•åï¼Œè¿”å›å€¼çš„valueå±æ€§å°±æ˜¯return()æ–¹æ³•çš„å‚æ•°fooã€‚å¹¶ä¸”ï¼ŒGenerator å‡½æ•°çš„éå†å°±ç»ˆæ­¢äº†ï¼Œè¿”å›å€¼çš„doneå±æ€§ä¸ºtrueï¼Œä»¥åå†è°ƒç”¨next()æ–¹æ³•ï¼Œdoneå±æ€§æ€»æ˜¯è¿”å›trueã€‚ å¦‚æœreturn()æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¸æä¾›å‚æ•°ï¼Œåˆ™è¿”å›å€¼çš„valueå±æ€§ä¸ºundefinedã€‚ 12345678910function* gen() &#123; yield 1; yield 2; yield 3;&#125;var g = gen();g.next() // &#123; value: 1, done: false &#125;g.return() // &#123; value: undefined, done: true &#125; å¦‚æœ Generator å‡½æ•°å†…éƒ¨æœ‰tryâ€¦finallyä»£ç å—ï¼Œä¸”æ­£åœ¨æ‰§è¡Œtryä»£ç å—ï¼Œé‚£ä¹ˆreturn()æ–¹æ³•ä¼šå¯¼è‡´ç«‹åˆ»è¿›å…¥finallyä»£ç å—ï¼Œæ‰§è¡Œå®Œä»¥åï¼Œæ•´ä¸ªå‡½æ•°æ‰ä¼šç»“æŸã€‚1234567891011121314151617function* numbers () &#123; yield 1; try &#123; yield 2; yield 3; &#125; finally &#123; yield 4; yield 5; &#125; yield 6;&#125;var g = numbers();g.next() // &#123; value: 1, done: false &#125;g.next() // &#123; value: 2, done: false &#125;g.return(7) // &#123; value: 4, done: false &#125;g.next() // &#123; value: 5, done: false &#125;g.next() // &#123; value: 7, done: true &#125; ä¸Šé¢ä»£ç ä¸­ï¼Œè°ƒç”¨return()æ–¹æ³•åï¼Œå°±å¼€å§‹æ‰§è¡Œfinallyä»£ç å—ï¼Œä¸æ‰§è¡Œtryé‡Œé¢å‰©ä¸‹çš„ä»£ç äº†ï¼Œç„¶åç­‰åˆ°finallyä»£ç å—æ‰§è¡Œå®Œï¼Œå†è¿”å›return()æ–¹æ³•æŒ‡å®šçš„è¿”å›å€¼ã€‚ ğŸŒ´ next()ã€throw()ã€return() çš„å…±åŒç‚¹next()ã€throw()ã€return()è¿™ä¸‰ä¸ªæ–¹æ³•æœ¬è´¨ä¸Šæ˜¯åŒä¸€ä»¶äº‹ï¼Œå¯ä»¥æ”¾åœ¨ä¸€èµ·ç†è§£ã€‚å®ƒä»¬çš„ä½œç”¨éƒ½æ˜¯è®© Generator å‡½æ•°æ¢å¤æ‰§è¡Œï¼Œå¹¶ä¸”ä½¿ç”¨ä¸åŒçš„è¯­å¥æ›¿æ¢yieldè¡¨è¾¾å¼ã€‚ next()æ˜¯å°†yieldè¡¨è¾¾å¼æ›¿æ¢æˆä¸€ä¸ªå€¼ã€‚ 1234567891011const g = function* (x, y) &#123; let result = yield x + y; return result;&#125;;const gen = g(1, 2);gen.next(); // Object &#123;value: 3, done: false&#125;gen.next(1); // Object &#123;value: 1, done: true&#125;// ç›¸å½“äºå°† let result = yield x + y// æ›¿æ¢æˆ let result = 1; ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬äºŒä¸ªnext(1)æ–¹æ³•å°±ç›¸å½“äºå°†yieldè¡¨è¾¾å¼æ›¿æ¢æˆä¸€ä¸ªå€¼1ã€‚å¦‚æœnextæ–¹æ³•æ²¡æœ‰å‚æ•°ï¼Œå°±ç›¸å½“äºæ›¿æ¢æˆundefinedã€‚ throw()æ˜¯å°†yieldè¡¨è¾¾å¼æ›¿æ¢æˆä¸€ä¸ªthrowè¯­å¥ã€‚123gen.throw(new Error(&apos;å‡ºé”™äº†&apos;)); // Uncaught Error: å‡ºé”™äº†// ç›¸å½“äºå°† let result = yield x + y// æ›¿æ¢æˆ let result = throw(new Error(&apos;å‡ºé”™äº†&apos;)); return()æ˜¯å°†yieldè¡¨è¾¾å¼æ›¿æ¢æˆä¸€ä¸ªreturnè¯­å¥ã€‚ 123gen.return(2); // Object &#123;value: 2, done: true&#125;// ç›¸å½“äºå°† let result = yield x + y// æ›¿æ¢æˆ let result = return 2; ä½œä¸ºå¯¹è±¡å±æ€§çš„ Generator å‡½æ•°å¦‚æœä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ˜¯ Generator å‡½æ•°ï¼Œå¯ä»¥ç®€å†™æˆä¸‹é¢çš„å½¢å¼ã€‚12345let obj = &#123; * myGeneratorMethod() &#123; Â·Â·Â· &#125;&#125;; ä¸Šé¢ä»£ç ä¸­ï¼ŒmyGeneratorMethodå±æ€§å‰é¢æœ‰ä¸€ä¸ªæ˜Ÿå·ï¼Œè¡¨ç¤ºè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ª Generator å‡½æ•°ã€‚ å®ƒçš„å®Œæ•´å½¢å¼å¦‚ä¸‹ï¼Œä¸ä¸Šé¢çš„å†™æ³•æ˜¯ç­‰ä»·çš„ã€‚12345let obj = &#123; myGeneratorMethod: function* () &#123; // Â·Â·Â· &#125;&#125;; Generator å‡½æ•°æ€»æ˜¯è¿”å›ä¸€ä¸ªéå†å™¨ï¼ŒES6 è§„å®šè¿™ä¸ªéå†å™¨æ˜¯ Generator å‡½æ•°çš„å®ä¾‹ï¼Œä¹Ÿç»§æ‰¿äº† Generator å‡½æ•°çš„prototypeå¯¹è±¡ä¸Šçš„æ–¹æ³•ã€‚ 12345678910function* g() &#123;&#125;g.prototype.hello = function () &#123; return &apos;hi!&apos;;&#125;;let obj = g();obj instanceof g // trueobj.hello() // &apos;hi!&apos; Generator å‡½æ•°çš„thisGenerator å‡½æ•°æ€»æ˜¯è¿”å›ä¸€ä¸ªéå†å™¨ï¼ŒES6 è§„å®šè¿™ä¸ªéå†å™¨æ˜¯ Generator å‡½æ•°çš„å®ä¾‹ï¼Œä¹Ÿç»§æ‰¿äº† Generator å‡½æ•°çš„prototypeå¯¹è±¡ä¸Šçš„æ–¹æ³•ã€‚12345678910function* g() &#123;&#125;g.prototype.hello = function () &#123; return &apos;hi!&apos;;&#125;;let obj = g();obj instanceof g // trueobj.hello() // &apos;hi!&apos; ä¸Šé¢ä»£ç è¡¨æ˜ï¼ŒGenerator å‡½æ•°gè¿”å›çš„éå†å™¨objï¼Œæ˜¯gçš„å®ä¾‹ï¼Œè€Œä¸”ç»§æ‰¿äº†g.prototypeã€‚ä½†æ˜¯ï¼Œå¦‚æœæŠŠgå½“ä½œæ™®é€šçš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸ä¼šç”Ÿæ•ˆï¼Œå› ä¸ºgè¿”å›çš„æ€»æ˜¯éå†å™¨å¯¹è±¡ï¼Œè€Œä¸æ˜¯thiså¯¹è±¡ã€‚1234567function* g() &#123; this.a = 11;&#125;let obj = g();obj.next();obj.a // undefined ä¸Šé¢ä»£ç ä¸­ï¼ŒGenerator å‡½æ•°gåœ¨thiså¯¹è±¡ä¸Šé¢æ·»åŠ äº†ä¸€ä¸ªå±æ€§aï¼Œä½†æ˜¯objå¯¹è±¡æ‹¿ä¸åˆ°è¿™ä¸ªå±æ€§ã€‚ Generator å‡½æ•°ä¹Ÿä¸èƒ½è·Ÿnewå‘½ä»¤ä¸€èµ·ç”¨ï¼Œä¼šæŠ¥é”™ã€‚1234567function* F() &#123; yield this.x = 2; yield this.y = 3;&#125;new F()// TypeError: F is not a constructor ä¸Šé¢ä»£ç ä¸­ï¼Œnewå‘½ä»¤è·Ÿæ„é€ å‡½æ•°Fä¸€èµ·ä½¿ç”¨ï¼Œç»“æœæŠ¥é”™ï¼Œå› ä¸ºFä¸æ˜¯æ„é€ å‡½æ•°ã€‚ é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰åŠæ³•è®© Generator å‡½æ•°è¿”å›ä¸€ä¸ªæ­£å¸¸çš„å¯¹è±¡å®ä¾‹ï¼Œæ—¢å¯ä»¥ç”¨nextæ–¹æ³•ï¼Œåˆå¯ä»¥è·å¾—æ­£å¸¸çš„thisï¼Ÿ ä¸‹é¢æ˜¯ä¸€ä¸ªå˜é€šæ–¹æ³•ã€‚é¦–å…ˆï¼Œç”Ÿæˆä¸€ä¸ªç©ºå¯¹è±¡ï¼Œä½¿ç”¨callæ–¹æ³•ç»‘å®š Generator å‡½æ•°å†…éƒ¨çš„thisã€‚è¿™æ ·ï¼Œæ„é€ å‡½æ•°è°ƒç”¨ä»¥åï¼Œè¿™ä¸ªç©ºå¯¹è±¡å°±æ˜¯ Generator å‡½æ•°çš„å®ä¾‹å¯¹è±¡äº†ã€‚123456789101112131415function* F() &#123; this.a = 1; yield this.b = 2; yield this.c = 3;&#125;var obj = &#123;&#125;;var f = F.call(obj);f.next(); // Object &#123;value: 2, done: false&#125;f.next(); // Object &#123;value: 3, done: false&#125;f.next(); // Object &#123;value: undefined, done: true&#125;obj.a // 1obj.b // 2obj.c // 3 ä¸Šé¢ä»£ç ä¸­ï¼Œé¦–å…ˆæ˜¯Få†…éƒ¨çš„thiså¯¹è±¡ç»‘å®šobjå¯¹è±¡ï¼Œç„¶åè°ƒç”¨å®ƒï¼Œè¿”å›ä¸€ä¸ª Iterator å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡æ‰§è¡Œä¸‰æ¬¡nextæ–¹æ³•ï¼ˆå› ä¸ºFå†…éƒ¨æœ‰ä¸¤ä¸ªyieldè¡¨è¾¾å¼ï¼‰ï¼Œå®Œæˆ F å†…éƒ¨æ‰€æœ‰ä»£ç çš„è¿è¡Œã€‚è¿™æ—¶ï¼Œæ‰€æœ‰å†…éƒ¨å±æ€§éƒ½ç»‘å®šåœ¨objå¯¹è±¡ä¸Šäº†ï¼Œå› æ­¤objå¯¹è±¡ä¹Ÿå°±æˆäº†Fçš„å®ä¾‹ã€‚ ä¸Šé¢ä»£ç ä¸­ï¼Œæ‰§è¡Œçš„æ˜¯éå†å™¨å¯¹è±¡fï¼Œä½†æ˜¯ç”Ÿæˆçš„å¯¹è±¡å®ä¾‹æ˜¯objï¼Œæœ‰æ²¡æœ‰åŠæ³•å°†è¿™ä¸¤ä¸ªå¯¹è±¡ç»Ÿä¸€å‘¢ï¼Ÿ ä¸€ä¸ªåŠæ³•å°±æ˜¯å°†objæ¢æˆF.prototypeã€‚1234567891011121314function* F() &#123; this.a = 1; yield this.b = 2; yield this.c = 3;&#125;var f = F.call(F.prototype);f.next(); // Object &#123;value: 2, done: false&#125;f.next(); // Object &#123;value: 3, done: false&#125;f.next(); // Object &#123;value: undefined, done: true&#125;f.a // 1f.b // 2f.c // 3 å†å°†Fæ”¹æˆæ„é€ å‡½æ•°ï¼Œå°±å¯ä»¥å¯¹å®ƒæ‰§è¡Œnewå‘½ä»¤äº†ã€‚12345678910111213141516171819function* gen() &#123; this.a = 1; yield this.b = 2; yield this.c = 3;&#125;function F() &#123; return gen.call(gen.prototype);&#125;var f = new F();f.next(); // Object &#123;value: 2, done: false&#125;f.next(); // Object &#123;value: 3, done: false&#125;f.next(); // Object &#123;value: undefined, done: true&#125;f.a // 1f.b // 2f.c // 3 ğŸŒ´ Generatorå‡½æ•°å¼‚æ­¥ç¼–ç¨‹ å›è°ƒå‡½æ•° äº‹ä»¶ç›‘å¬ å‘å¸ƒ/è®¢é˜… Promise å¯¹è±¡","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"ES6","slug":"ES6","permalink":"http://xdd7130.github.io/tags/ES6/"}]},{"title":"ES6(ä¸‰) Promise","slug":"Promise","date":"2021-01-05T02:25:07.000Z","updated":"2022-11-02T11:15:20.542Z","comments":true,"path":"2021/01/05/Promise/","link":"","permalink":"http://xdd7130.github.io/2021/01/05/Promise/","excerpt":"","text":"å‚è€ƒ ğŸŒ´ æ¦‚è¿°é¦–å…ˆï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚1234function f1(resolve, reject) &#123; // å¼‚æ­¥ä»£ç &#125;var p1 = new Promise(f1) ä¸Šé¢ä»£ç ä¸­ï¼ŒPromiseæ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°f1ä½œä¸ºå‚æ•°ï¼Œf1é‡Œé¢æ˜¯å¼‚æ­¥æ“ä½œçš„ä»£ç ã€‚ç„¶åï¼Œè¿”å›çš„p1å°±æ˜¯ä¸€ä¸ª Promise å®ä¾‹ã€‚ Promise çš„è®¾è®¡æ€æƒ³æ˜¯ï¼Œæ‰€æœ‰å¼‚æ­¥ä»»åŠ¡éƒ½è¿”å›ä¸€ä¸ª Promise å®ä¾‹ã€‚Promise å®ä¾‹æœ‰ä¸€ä¸ªthenæ–¹æ³•ï¼Œç”¨æ¥æŒ‡å®šä¸‹ä¸€æ­¥çš„å›è°ƒå‡½æ•°ã€‚12var p1 = new Promise(f1);p1.then(f2); ä¸Šé¢ä»£ç ä¸­ï¼Œf1çš„å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œæˆï¼Œå°±ä¼šæ‰§è¡Œf2ã€‚ ä¼ ç»Ÿçš„å†™æ³•å¯èƒ½éœ€è¦æŠŠf2ä½œä¸ºå›è°ƒå‡½æ•°ä¼ å…¥f1ï¼Œæ¯”å¦‚å†™æˆf1(f2)ï¼Œå¼‚æ­¥æ“ä½œå®Œæˆåï¼Œåœ¨f1å†…éƒ¨è°ƒç”¨f2ã€‚Promise ä½¿å¾—f1å’Œf2å˜æˆäº†é“¾å¼å†™æ³•ã€‚ä¸ä»…æ”¹å–„äº†å¯è¯»æ€§ï¼Œè€Œä¸”å¯¹äºå¤šå±‚åµŒå¥—çš„å›è°ƒå‡½æ•°å°¤å…¶æ–¹ä¾¿ã€‚12345678910111213141516// ä¼ ç»Ÿå†™æ³•step1(function (value1) &#123; step2(value1, function(value2) &#123; step3(value2, function(value3) &#123; step4(value3, function(value4) &#123; // ... &#125;); &#125;); &#125;);&#125;);// Promise çš„å†™æ³•(new Promise(step1)) .then(step2) .then(step3) .then(step4); ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œé‡‡ç”¨ Promise ä»¥åï¼Œç¨‹åºæµç¨‹å˜å¾—éå¸¸æ¸…æ¥šï¼Œååˆ†æ˜“è¯»ã€‚æ³¨æ„ï¼Œä¸ºäº†ä¾¿äºç†è§£ï¼Œä¸Šé¢ä»£ç çš„Promiseå®ä¾‹çš„ç”Ÿæˆæ ¼å¼ï¼Œåšäº†ç®€åŒ–ï¼ŒçœŸæ­£çš„è¯­æ³•è¯·å‚ç…§ä¸‹æ–‡ã€‚ æ€»çš„æ¥è¯´ï¼Œä¼ ç»Ÿçš„å›è°ƒå‡½æ•°å†™æ³•ä½¿å¾—ä»£ç æ··æˆä¸€å›¢ï¼Œå˜å¾—æ¨ªå‘å‘å±•è€Œä¸æ˜¯å‘ä¸‹å‘å±•ã€‚Promise å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿å¾—å¼‚æ­¥æµç¨‹å¯ä»¥å†™æˆåŒæ­¥æµç¨‹ ğŸŒ´ å…³é”®è¯ğŸ‘‰å¼‚æ­¥æ“ä½œè§£å†³æ–¹æ¡ˆPromise å¯¹è±¡æ˜¯ JavaScript çš„å¼‚æ­¥æ“ä½œè§£å†³æ–¹æ¡ˆï¼Œä¸ºå¼‚æ­¥æ“ä½œæä¾›ç»Ÿä¸€æ¥å£ã€‚æ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆ:å›è°ƒå‡½æ•°å’Œäº‹ä»¶ï¼Œæ›´å¼ºå¤§,å®ƒèµ·åˆ°ä»£ç†ä½œç”¨ï¼ˆproxyï¼‰ï¼Œå……å½“å¼‚æ­¥æ“ä½œä¸å›è°ƒå‡½æ•°ä¹‹é—´çš„ä¸­ä»‹ï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œå…·å¤‡åŒæ­¥æ“ä½œçš„æ¥å£ã€‚Promise å¯ä»¥è®©å¼‚æ­¥æ“ä½œå†™èµ·æ¥ï¼Œå°±åƒåœ¨å†™åŒæ­¥æ“ä½œçš„æµç¨‹ï¼Œè€Œä¸å¿…ä¸€å±‚å±‚åœ°åµŒå¥—å›è°ƒå‡½æ•°ã€‚ ğŸ‘‰ ä¸‰ç§çŠ¶æ€Promise å¯¹è±¡é€šè¿‡è‡ªèº«çš„çŠ¶æ€ï¼Œæ¥æ§åˆ¶å¼‚æ­¥æ“ä½œã€‚Promise å®ä¾‹å…·æœ‰ä¸‰ç§çŠ¶æ€ã€‚ å¼‚æ­¥æ“ä½œæœªå®Œæˆï¼ˆpendingï¼‰ å¼‚æ­¥æ“ä½œæˆåŠŸï¼ˆfulfilledï¼‰ å¼‚æ­¥æ“ä½œå¤±è´¥ï¼ˆrejectedï¼‰ ä¸Šé¢ä¸‰ç§çŠ¶æ€é‡Œé¢ï¼Œfulfilledå’Œrejectedåˆåœ¨ä¸€èµ·ç§°ä¸ºresolvedï¼ˆå·²å®šå‹ï¼‰ã€‚ è¿™ä¸‰ç§çš„çŠ¶æ€çš„å˜åŒ–é€”å¾„åªæœ‰ä¸¤ç§ã€‚ ä»â€œæœªå®Œæˆâ€åˆ°â€œæˆåŠŸâ€ ä»â€œæœªå®Œæˆâ€åˆ°â€œå¤±è´¥â€ ä¸€æ—¦çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œå°±å‡å›ºäº†ï¼Œä¸ä¼šå†æœ‰æ–°çš„çŠ¶æ€å˜åŒ–ã€‚è¿™ä¹Ÿæ˜¯ Promise è¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€æ˜¯â€œæ‰¿è¯ºâ€ï¼Œä¸€æ—¦æ‰¿è¯ºæˆæ•ˆï¼Œå°±ä¸å¾—å†æ”¹å˜äº†ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼ŒPromise å®ä¾‹çš„çŠ¶æ€å˜åŒ–åªå¯èƒ½å‘ç”Ÿä¸€æ¬¡ã€‚ å› æ­¤ï¼ŒPromise çš„æœ€ç»ˆç»“æœåªæœ‰ä¸¤ç§ã€‚ å¼‚æ­¥æ“ä½œæˆåŠŸï¼ŒPromise å®ä¾‹ä¼ å›ä¸€ä¸ªå€¼ï¼ˆvalueï¼‰ï¼ŒçŠ¶æ€å˜ä¸ºfulfilledã€‚ å¼‚æ­¥æ“ä½œå¤±è´¥ï¼ŒPromise å®ä¾‹æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼ˆerrorï¼‰ï¼ŒçŠ¶æ€å˜ä¸ºrejected ğŸ‘‰ Promise API Promise.prototype.catch() Promise.prototype.finally() Promise.all() Promise.race() promise.allSettled() promise.any() Promise.resolve() Promise.reject() Promise.try() ğŸŒ´ Promise æ„é€ å‡½æ•°JavaScript æä¾›åŸç”Ÿçš„Promiseæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Promise å®ä¾‹ã€‚123456789var promise = new Promise(function (resolve, reject) &#123; // ... if (/* å¼‚æ­¥æ“ä½œæˆåŠŸ */)&#123; resolve(value); &#125; else &#123; /* å¼‚æ­¥æ“ä½œå¤±è´¥ */ reject(new Error()); &#125;&#125;); ä¸Šé¢ä»£ç ä¸­ï¼ŒPromiseæ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯resolveå’Œrejectã€‚å®ƒä»¬æ˜¯ä¸¤ä¸ªå‡½æ•°ï¼Œç”± JavaScript å¼•æ“æä¾›ï¼Œä¸ç”¨è‡ªå·±å®ç°ã€‚ resolveå‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†Promiseå®ä¾‹çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œæˆåŠŸâ€ï¼ˆå³ä»pendingå˜ä¸ºfulfilledï¼‰ï¼Œåœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»ã€‚rejectå‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†Promiseå®ä¾‹çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œå¤±è´¥â€ï¼ˆå³ä»pendingå˜ä¸ºrejectedï¼‰ï¼Œåœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œæŠ¥å‡ºçš„é”™è¯¯ï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚12345678910111213function timeout(ms) &#123; return new Promise((resolve, reject) =&gt; &#123; setTimeout(resolve, ms, 'done'); &#125;);&#125;timeout(100).then(function(val)&#123; console.log(val)&#125;)æˆ–timeout(100).then((val)=&gt;&#123; console.log(val)&#125;) ä¸Šé¢ä»£ç ä¸­ï¼Œtimeout(100)è¿”å›ä¸€ä¸ªPromiseå®ä¾‹ã€‚100æ¯«ç§’ä»¥åï¼Œè¯¥å®ä¾‹çš„çŠ¶æ€ä¼šå˜ä¸ºfulfilled ğŸŒ´ Promise APIç”¨æ³•Promise.prototype.then()Promise å®ä¾‹çš„thenæ–¹æ³•ï¼Œå®šä¹‰åœ¨åŸå‹å¯¹è±¡ä¸Šï¼Œç”¨æ¥æ·»åŠ å›è°ƒå‡½æ•°ã€‚ thenæ–¹æ³•å¯ä»¥æ¥å—ä¸¤ä¸ªå›è°ƒå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶ï¼ˆå˜ä¸ºfulfilledçŠ¶æ€ï¼‰æ—¶çš„å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯å¼‚æ­¥æ“ä½œå¤±è´¥ï¼ˆå˜ä¸ºrejectedï¼‰æ—¶çš„å›è°ƒå‡½æ•°ï¼ˆè¯¥å‚æ•°å¯ä»¥çœç•¥ï¼‰ã€‚ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±è°ƒç”¨ç›¸åº”çš„å›è°ƒå‡½æ•°ã€‚1234567891011var p1 = new Promise(function (resolve, reject) &#123; resolve('æˆåŠŸ');&#125;);p1.then(console.log, console.error);// \"æˆåŠŸ\"var p2 = new Promise(function (resolve, reject) &#123; reject(new Error('å¤±è´¥'));&#125;);p2.then(console.log, console.error);// Error: å¤±è´¥ ä¸Šé¢ä»£ç ä¸­ï¼Œp1å’Œp2éƒ½æ˜¯Promise å®ä¾‹ï¼Œå®ƒä»¬çš„thenæ–¹æ³•ç»‘å®šä¸¤ä¸ªå›è°ƒå‡½æ•°ï¼šæˆåŠŸæ—¶çš„å›è°ƒå‡½æ•°console.logï¼Œå¤±è´¥æ—¶çš„å›è°ƒå‡½æ•°console.errorï¼ˆå¯ä»¥çœç•¥ï¼‰ã€‚p1çš„çŠ¶æ€å˜ä¸ºæˆåŠŸï¼Œp2çš„çŠ¶æ€å˜ä¸ºå¤±è´¥ï¼Œå¯¹åº”çš„å›è°ƒå‡½æ•°ä¼šæ”¶åˆ°å¼‚æ­¥æ“ä½œä¼ å›çš„å€¼ï¼Œç„¶ååœ¨æ§åˆ¶å°è¾“å‡ºã€‚ thenæ–¹æ³•å¯ä»¥é“¾å¼ä½¿ç”¨ã€‚12345678p1 .then(step1) .then(step2) .then(step3) .then( console.log, console.error ); ä¸Šé¢ä»£ç ä¸­ï¼Œp1åé¢æœ‰å››ä¸ªthenï¼Œæ„å‘³ä¾æ¬¡æœ‰å››ä¸ªå›è°ƒå‡½æ•°ã€‚åªè¦å‰ä¸€æ­¥çš„çŠ¶æ€å˜ä¸ºfulfilledï¼Œå°±ä¼šä¾æ¬¡æ‰§è¡Œç´§è·Ÿåœ¨åé¢çš„å›è°ƒå‡½æ•°ã€‚ æœ€åä¸€ä¸ªthenæ–¹æ³•ï¼Œå›è°ƒå‡½æ•°æ˜¯console.logå’Œconsole.errorï¼Œç”¨æ³•ä¸Šæœ‰ä¸€ç‚¹é‡è¦çš„åŒºåˆ«ã€‚console.logåªæ˜¾ç¤ºstep3çš„è¿”å›å€¼ï¼Œè€Œconsole.errorå¯ä»¥æ˜¾ç¤ºp1ã€step1ã€step2ã€step3ä¹‹ä¸­ä»»æ„ä¸€ä¸ªå‘ç”Ÿçš„é”™è¯¯ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœstep1çš„çŠ¶æ€å˜ä¸ºrejectedï¼Œé‚£ä¹ˆstep2å’Œstep3éƒ½ä¸ä¼šæ‰§è¡Œäº†ï¼ˆå› ä¸ºå®ƒä»¬æ˜¯resolvedçš„å›è°ƒå‡½æ•°ï¼‰ã€‚Promise å¼€å§‹å¯»æ‰¾ï¼Œæ¥ä¸‹æ¥ç¬¬ä¸€ä¸ªä¸ºrejectedçš„å›è°ƒå‡½æ•°ï¼Œåœ¨ä¸Šé¢ä»£ç ä¸­æ˜¯console.errorã€‚è¿™å°±æ˜¯è¯´ï¼ŒPromise å¯¹è±¡çš„æŠ¥é”™å…·æœ‰ä¼ é€’æ€§ã€‚ Promise çš„ç”¨æ³•ï¼Œç®€å•è¯´å°±æ˜¯ä¸€å¥è¯ï¼šä½¿ç”¨thenæ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°ã€‚ä½†æ˜¯ï¼Œä¸åŒçš„å†™æ³•æœ‰ä¸€äº›ç»†å¾®çš„å·®åˆ«ï¼Œè¯·çœ‹ä¸‹é¢å››ç§å†™æ³•ï¼Œå®ƒä»¬çš„å·®åˆ«åœ¨å“ªé‡Œï¼Ÿ12345678910111213141516// å†™æ³•ä¸€f1().then(function () &#123; return f2();&#125;);// å†™æ³•äºŒf1().then(function () &#123; f2();&#125;);// å†™æ³•ä¸‰f1().then(f2());// å†™æ³•å››f1().then(f2); ä¸ºäº†ä¾¿äºè®²è§£ï¼Œä¸‹é¢è¿™å››ç§å†™æ³•éƒ½å†ç”¨thenæ–¹æ³•æ¥ä¸€ä¸ªå›è°ƒå‡½æ•°f3ã€‚å†™æ³•ä¸€çš„f3å›è°ƒå‡½æ•°çš„å‚æ•°ï¼Œæ˜¯f2å‡½æ•°çš„è¿è¡Œç»“æœã€‚123f1().then(function () &#123; return f2();&#125;).then(f3); å†™æ³•äºŒçš„f3å›è°ƒå‡½æ•°çš„å‚æ•°æ˜¯undefinedã€‚1234f1().then(function () &#123; f2(); return;&#125;).then(f3); å†™æ³•ä¸‰çš„f3å›è°ƒå‡½æ•°çš„å‚æ•°ï¼Œæ˜¯f2å‡½æ•°è¿”å›çš„å‡½æ•°çš„è¿è¡Œç»“æœã€‚12f1().then(f2()) .then(f3); å†™æ³•å››ä¸å†™æ³•ä¸€åªæœ‰ä¸€ä¸ªå·®åˆ«ï¼Œé‚£å°±æ˜¯f2ä¼šæ¥æ”¶åˆ°f1()è¿”å›çš„ç»“æœã€‚12f1().then(f2) .then(f3); Promise.prototype.catch()1ã€Promise.prototype.catch()æ–¹æ³•æ˜¯.then(null, rejection)æˆ–.then(undefined, rejection)çš„åˆ«åï¼Œç”¨äºæŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°ã€‚123456getJSON('/posts.json').then(function(posts) &#123; // ...&#125;).catch(function(error) &#123; // å¤„ç† getJSON å’Œ å‰ä¸€ä¸ªå›è°ƒå‡½æ•°è¿è¡Œæ—¶å‘ç”Ÿçš„é”™è¯¯ console.log('å‘ç”Ÿé”™è¯¯ï¼', error);&#125;); 2ã€Promise å¯¹è±¡çš„é”™è¯¯å…·æœ‰â€œå†’æ³¡â€æ€§è´¨ï¼Œä¼šä¸€ç›´å‘åä¼ é€’ï¼Œç›´åˆ°è¢«æ•è·ä¸ºæ­¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé”™è¯¯æ€»æ˜¯ä¼šè¢«ä¸‹ä¸€ä¸ªcatchè¯­å¥æ•è·ã€‚1234567getJSON('/post/1.json').then(function(post) &#123; return getJSON(post.commentURL);&#125;).then(function(comments) &#123; // some code&#125;).catch(function(error) &#123; // å¤„ç†å‰é¢ä¸‰ä¸ªPromiseäº§ç”Ÿçš„é”™è¯¯&#125;); ä¸Šé¢ä»£ç ä¸­ï¼Œä¸€å…±æœ‰ä¸‰ä¸ª Promise å¯¹è±¡ï¼šä¸€ä¸ªç”±getJSON()äº§ç”Ÿï¼Œä¸¤ä¸ªç”±then()äº§ç”Ÿã€‚å®ƒä»¬ä¹‹ä¸­ä»»ä½•ä¸€ä¸ªæŠ›å‡ºçš„é”™è¯¯ï¼Œéƒ½ä¼šè¢«æœ€åä¸€ä¸ªcatch()æ•è·ã€‚3ã€ä¸€èˆ¬æ¥è¯´ï¼Œä¸è¦åœ¨then()æ–¹æ³•é‡Œé¢å®šä¹‰ Reject çŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼ˆå³thençš„ç¬¬äºŒä¸ªå‚æ•°ï¼‰ï¼Œæ€»æ˜¯ä½¿ç”¨catchæ–¹æ³•ã€‚4ã€catch()æ–¹æ³•è¿”å›çš„è¿˜æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå› æ­¤åé¢è¿˜å¯ä»¥æ¥ç€è°ƒç”¨then()æ–¹æ³•ã€‚ Promise.prototype.finally()1ã€finally()æ–¹æ³•ç”¨äºæŒ‡å®šä¸ç®¡ Promise å¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œã€‚ä¸ç®¡promiseæœ€åçš„çŠ¶æ€ï¼Œåœ¨æ‰§è¡Œå®Œthenæˆ–catchæŒ‡å®šçš„å›è°ƒå‡½æ•°ä»¥åï¼Œéƒ½ä¼šæ‰§è¡Œfinallyæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚2ã€ä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œä¸ä¾èµ–promiseæ‰§è¡Œç»“æœã€‚1234promise.then(result =&gt; &#123;Â·Â·Â·&#125;).catch(error =&gt; &#123;Â·Â·Â·&#125;).finally(() =&gt; &#123;Â·Â·Â·&#125;); Promise.all() Promise.all()æ–¹æ³•ç”¨äºå°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚ 1const p = Promise.all([p1, p2, p3]); 1ã€p1ã€p2ã€p3éƒ½æ˜¯ Promise å®ä¾‹ï¼Œå¦‚æœä¸æ˜¯ï¼Œå°±ä¼šå…ˆè°ƒç”¨ä¸‹é¢è®²åˆ°çš„Promise.resolveæ–¹æ³•ï¼Œå°†å‚æ•°è½¬ä¸º Promise å®ä¾‹2ã€Promise.all()æ–¹æ³•çš„å‚æ•°å¯ä»¥ä¸æ˜¯æ•°ç»„ï¼Œä½†å¿…é¡»å…·æœ‰ Iterator æ¥å£ï¼Œä¸”è¿”å›çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ Promise å®ä¾‹3ã€åªæœ‰p1ã€p2ã€p3çš„çŠ¶æ€éƒ½å˜æˆfulfilledï¼Œpçš„çŠ¶æ€æ‰ä¼šå˜æˆfulfilledï¼Œæ­¤æ—¶p1ã€p2ã€p3çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ã€‚4ã€åªè¦p1ã€p2ã€p3ä¹‹ä¸­æœ‰ä¸€ä¸ªè¢«rejectedï¼Œpçš„çŠ¶æ€å°±å˜æˆrejectedï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªè¢«rejectçš„å®ä¾‹çš„è¿”å›å€¼ï¼Œä¼šä¼ é€’ç»™pçš„å›è°ƒå‡½æ•° Promise.race() Promise.race()æ–¹æ³•åŒæ ·æ˜¯å°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚1const p = Promise.race([p1, p2, p3]); 1ã€åªè¦p1ã€p2ã€p3ä¹‹ä¸­æœ‰ä¸€ä¸ªå®ä¾‹ç‡å…ˆæ”¹å˜çŠ¶æ€ï¼Œpçš„çŠ¶æ€å°±è·Ÿç€æ”¹å˜ã€‚é‚£ä¸ªç‡å…ˆæ”¹å˜çš„ Promise å®ä¾‹çš„è¿”å›å€¼ï¼Œå°±ä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ã€‚2ã€Promise.race()æ–¹æ³•çš„å‚æ•°ä¸Promise.all()æ–¹æ³•ä¸€æ ·ï¼Œå¦‚æœä¸æ˜¯ Promise å®ä¾‹ï¼Œå°±ä¼šå…ˆè°ƒç”¨ä¸‹é¢è®²åˆ°çš„Promise.resolve()æ–¹æ³•ï¼Œå°†å‚æ•°è½¬ä¸º Promise å®ä¾‹ï¼Œå†è¿›ä¸€æ­¥å¤„ç†ã€‚3ã€çŠ¶æ€ä¸å¯é€†ï¼šå¦‚æœæŒ‡å®šæ—¶é—´å†…æ²¡æœ‰è·å¾—ç»“æœï¼Œå°±å°† Promise çš„çŠ¶æ€å˜ä¸ºrejectï¼Œå¦åˆ™å˜ä¸ºresolve12345678910const p = Promise.race([ fetch('/resource-that-may-take-a-while'), new Promise(function (resolve, reject) &#123; setTimeout(() =&gt; reject(new Error('request timeout')), 5000) &#125;)]);p.then(console.log).catch(console.error); Promise.allSettled()1ã€Promise.allSettled()æ–¹æ³•æ¥å—ä¸€ç»„ Promise å®ä¾‹ä½œä¸ºå‚æ•°ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚åªæœ‰ç­‰åˆ°æ‰€æœ‰è¿™äº›å‚æ•°å®ä¾‹éƒ½è¿”å›ç»“æœï¼Œä¸ç®¡æ˜¯fulfilledè¿˜æ˜¯rejectedï¼ŒåŒ…è£…å®ä¾‹æ‰ä¼šç»“æŸ2ã€Promise.allSettled()çš„è¿”å›å€¼allSettledPromiseï¼ŒçŠ¶æ€åªå¯èƒ½å˜æˆfulfilledã€‚ã€123456789101112const resolved = Promise.resolve(42);const rejected = Promise.reject(-1);const allSettledPromise = Promise.allSettled([resolved, rejected]);allSettledPromise.then(function (results) &#123; console.log(results);&#125;);// [// &#123; status: 'fulfilled', value: 42 &#125;,// &#123; status: 'rejected', reason: -1 &#125;// ] Promise.any()æ¥å—ä¸€ç»„ Promise å®ä¾‹ä½œä¸ºå‚æ•°ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹è¿”å›ã€‚åªè¦å‚æ•°å®ä¾‹æœ‰ä¸€ä¸ªå˜æˆfulfilledçŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆfulfilledçŠ¶æ€ï¼›å¦‚æœæ‰€æœ‰å‚æ•°å®ä¾‹éƒ½å˜æˆrejectedçŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆrejectedçŠ¶æ€ã€‚1234567891011const promises = [ fetch('/endpoint-a').then(() =&gt; 'a'), fetch('/endpoint-b').then(() =&gt; 'b'), fetch('/endpoint-c').then(() =&gt; 'c'),];try &#123; const first = await Promise.any(promises); console.log(first);&#125; catch (error) &#123; console.log(error);&#125; Promise.any()æ–¹æ³•çš„å‚æ•°æ•°ç»„åŒ…å«ä¸‰ä¸ª Promise æ“ä½œã€‚å…¶ä¸­åªè¦æœ‰ä¸€ä¸ªå˜æˆfulfilledï¼ŒPromise.any()è¿”å›çš„ Promise å¯¹è±¡å°±å˜æˆfulfilledã€‚å¦‚æœæ‰€æœ‰ä¸‰ä¸ªæ“ä½œéƒ½å˜æˆrejectedï¼Œé‚£ä¹ˆawaitå‘½ä»¤å°±ä¼šæŠ›å‡ºé”™è¯¯ã€‚ Promise.resolve()1ã€å°†ç°æœ‰å¯¹è±¡è½¬ä¸º Promise å¯¹è±¡123Promise.resolve('foo')// ç­‰ä»·äºnew Promise(resolve =&gt; resolve('foo')) 2ã€Promise.resolve()æ–¹æ³•çš„å‚æ•°åˆ†æˆå››ç§æƒ…å†µï¼šï¼ˆ1ï¼‰å‚æ•°æ˜¯ä¸€ä¸ª Promise å®ä¾‹å¦‚æœå‚æ•°æ˜¯ Promise å®ä¾‹ï¼Œé‚£ä¹ˆPromise.resolveå°†ä¸åšä»»ä½•ä¿®æ”¹ã€åŸå°ä¸åŠ¨åœ°è¿”å›è¿™ä¸ªå®ä¾‹ã€‚ ï¼ˆ2ï¼‰å‚æ•°æ˜¯ä¸€ä¸ªthenableå¯¹è±¡thenableå¯¹è±¡æŒ‡çš„æ˜¯å…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªå¯¹è±¡ã€‚thenableå¯¹è±¡çš„then()æ–¹æ³•æ‰§è¡Œåï¼Œå¯¹è±¡p1çš„çŠ¶æ€å°±å˜ä¸ºresolvedï¼Œä»è€Œç«‹å³æ‰§è¡Œæœ€åé‚£ä¸ªthen()æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œè¾“å‡º42ã€‚12345678910let thenable = &#123; then: function(resolve, reject) &#123; resolve(42); &#125;&#125;;let p1 = Promise.resolve(thenable);p1.then(function (value) &#123; console.log(value); // 42&#125;); (3)å‚æ•°ä¸æ˜¯å…·æœ‰then()æ–¹æ³•çš„å¯¹è±¡ï¼Œæˆ–æ ¹æœ¬å°±ä¸æ˜¯å¯¹è±¡12345const p = Promise.resolve('Hello');p.then(function (s) &#123; console.log(s)&#125;); ç”Ÿæˆä¸€ä¸ªæ–°çš„ Promise å¯¹è±¡çš„å®ä¾‹pã€‚ç”±äºå­—ç¬¦ä¸²Helloä¸å±äºå¼‚æ­¥æ“ä½œï¼ˆåˆ¤æ–­æ–¹æ³•æ˜¯å­—ç¬¦ä¸²å¯¹è±¡ä¸å…·æœ‰ then æ–¹æ³•ï¼‰ï¼Œè¿”å› Promise å®ä¾‹çš„çŠ¶æ€ä»ä¸€ç”Ÿæˆå°±æ˜¯resolvedï¼Œæ‰€ä»¥å›è°ƒå‡½æ•°ä¼šç«‹å³æ‰§è¡Œã€‚Promise.resolve()æ–¹æ³•çš„å‚æ•°ï¼Œä¼šåŒæ—¶ä¼ ç»™å›è°ƒå‡½æ•°ã€‚ ï¼ˆ4ï¼‰ä¸å¸¦æœ‰ä»»ä½•å‚æ•°Promise.resolve()æ–¹æ³•å…è®¸è°ƒç”¨æ—¶ä¸å¸¦å‚æ•°ï¼Œç›´æ¥è¿”å›ä¸€ä¸ªresolvedçŠ¶æ€çš„ Promise å¯¹è±¡ã€‚ Promise.reject()Promise.reject(reason)æ–¹æ³•ä¹Ÿä¼šè¿”å›ä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ï¼Œè¯¥å®ä¾‹çš„çŠ¶æ€ä¸ºrejectedã€‚12345678const p = Promise.reject('å‡ºé”™äº†');// ç­‰åŒäºconst p = new Promise((resolve, reject) =&gt; reject('å‡ºé”™äº†'))p.then(null, function (s) &#123; console.log(s)&#125;);// å‡ºé”™äº† ğŸŒ´ å°ç»“Promise çš„ä¼˜ç‚¹åœ¨äºï¼Œè®©å›è°ƒå‡½æ•°å˜æˆäº†è§„èŒƒçš„é“¾å¼å†™æ³•ï¼Œç¨‹åºæµç¨‹å¯ä»¥çœ‹å¾—å¾ˆæ¸…æ¥šã€‚å®ƒæœ‰ä¸€æ•´å¥—æ¥å£ï¼Œå¯ä»¥å®ç°è®¸å¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œæ¯”å¦‚åŒæ—¶æ‰§è¡Œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼Œç­‰åˆ°å®ƒä»¬çš„çŠ¶æ€éƒ½æ”¹å˜ä»¥åï¼Œå†æ‰§è¡Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼›å†æ¯”å¦‚ï¼Œä¸ºå¤šä¸ªå›è°ƒå‡½æ•°ä¸­æŠ›å‡ºçš„é”™è¯¯ï¼Œç»Ÿä¸€æŒ‡å®šå¤„ç†æ–¹æ³•ç­‰ç­‰ã€‚ è€Œä¸”ï¼ŒPromise è¿˜æœ‰ä¸€ä¸ªä¼ ç»Ÿå†™æ³•æ²¡æœ‰çš„å¥½å¤„ï¼šå®ƒçš„çŠ¶æ€ä¸€æ—¦æ”¹å˜ï¼Œæ— è®ºä½•æ—¶æŸ¥è¯¢ï¼Œéƒ½èƒ½å¾—åˆ°è¿™ä¸ªçŠ¶æ€ã€‚è¿™æ„å‘³ç€ï¼Œæ— è®ºä½•æ—¶ä¸º Promise å®ä¾‹æ·»åŠ å›è°ƒå‡½æ•°ï¼Œè¯¥å‡½æ•°éƒ½èƒ½æ­£ç¡®æ‰§è¡Œã€‚æ‰€ä»¥ï¼Œä½ ä¸ç”¨æ‹…å¿ƒæ˜¯å¦é”™è¿‡äº†æŸä¸ªäº‹ä»¶æˆ–ä¿¡å·ã€‚å¦‚æœæ˜¯ä¼ ç»Ÿå†™æ³•ï¼Œé€šè¿‡ç›‘å¬äº‹ä»¶æ¥æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œä¸€æ—¦é”™è¿‡äº†äº‹ä»¶ï¼Œå†æ·»åŠ å›è°ƒå‡½æ•°æ˜¯ä¸ä¼šæ‰§è¡Œçš„ã€‚ Promise çš„ç¼ºç‚¹æ˜¯ï¼Œç¼–å†™çš„éš¾åº¦æ¯”ä¼ ç»Ÿå†™æ³•é«˜ï¼Œè€Œä¸”é˜…è¯»ä»£ç ä¹Ÿä¸æ˜¯ä¸€çœ¼å¯ä»¥çœ‹æ‡‚ã€‚ä½ åªä¼šçœ‹åˆ°ä¸€å †thenï¼Œå¿…é¡»è‡ªå·±åœ¨thençš„å›è°ƒå‡½æ•°é‡Œé¢ç†æ¸…é€»è¾‘ã€‚ ğŸŒ´ å¾®ä»»åŠ¡Promise çš„å›è°ƒå‡½æ•°å±äºå¼‚æ­¥ä»»åŠ¡ï¼Œä¼šåœ¨åŒæ­¥ä»»åŠ¡ä¹‹åæ‰§è¡Œã€‚1234567new Promise(function (resolve, reject) &#123; resolve(1);&#125;).then(console.log);console.log(2);// 2// 1 ä¸Šé¢ä»£ç ä¼šå…ˆè¾“å‡º2ï¼Œå†è¾“å‡º1ã€‚å› ä¸ºconsole.log(2)æ˜¯åŒæ­¥ä»»åŠ¡ï¼Œè€Œthençš„å›è°ƒå‡½æ•°å±äºå¼‚æ­¥ä»»åŠ¡ï¼Œä¸€å®šæ™šäºåŒæ­¥ä»»åŠ¡æ‰§è¡Œã€‚ ä½†æ˜¯ï¼ŒPromise çš„å›è°ƒå‡½æ•°ä¸æ˜¯æ­£å¸¸çš„å¼‚æ­¥ä»»åŠ¡ï¼Œè€Œæ˜¯å¾®ä»»åŠ¡ï¼ˆmicrotaskï¼‰ã€‚å®ƒä»¬çš„åŒºåˆ«åœ¨äºï¼Œæ­£å¸¸ä»»åŠ¡è¿½åŠ åˆ°ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯ï¼Œå¾®ä»»åŠ¡è¿½åŠ åˆ°æœ¬è½®äº‹ä»¶å¾ªç¯ã€‚è¿™æ„å‘³ç€ï¼Œå¾®ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´ä¸€å®šæ—©äºæ­£å¸¸ä»»åŠ¡ã€‚123456789101112setTimeout(function() &#123; console.log(1);&#125;, 0);new Promise(function (resolve, reject) &#123; resolve(2);&#125;).then(console.log);console.log(3);// 3// 2// 1 ä¸Šé¢ä»£ç çš„è¾“å‡ºç»“æœæ˜¯321ã€‚è¿™è¯´æ˜thençš„å›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶é—´ï¼Œæ—©äºsetTimeout(fn, 0)ã€‚å› ä¸ºthenæ˜¯æœ¬è½®äº‹ä»¶å¾ªç¯æ‰§è¡Œï¼ŒsetTimeout(fn, 0)åœ¨ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯å¼€å§‹æ—¶æ‰§è¡Œã€‚","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"ES6","slug":"ES6","permalink":"http://xdd7130.github.io/tags/ES6/"},{"name":"Promise","slug":"Promise","permalink":"http://xdd7130.github.io/tags/Promise/"}]},{"title":"ES6(å››) Iterator","slug":"es6-Iterator","date":"2021-01-05T01:52:51.000Z","updated":"2022-11-02T11:15:20.549Z","comments":true,"path":"2021/01/05/es6-Iterator/","link":"","permalink":"http://xdd7130.github.io/2021/01/05/es6-Iterator/","excerpt":"","text":"éå†å™¨ï¼ˆIteratorï¼‰ä¸ºæŸç§æ•°æ®ç»“æ„æä¾›ä¸€ç§ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶ï¼Œéå†å™¨æœ¬è´¨æ˜¯ä¸€ä¸ªåªé’ˆå¯¹è±¡ 1ã€JSä¸­è¡¨ç¤ºâ€é›†åˆâ€œçš„æ•°æ®ç»“æ„æœ‰ï¼šæ•°ç»„ï¼ˆArrayï¼‰ï¼Œå¯¹è±¡ï¼ˆObjectï¼‰ï¼ŒMapå’ŒSetã€‚ä½†æœ‰çš„å¯ç›´æ¥éå†ï¼Œæœ‰çš„åœ¨éƒ¨ç½²Iteratoræ‰å¯ä»¥éå†ã€‚2ã€éå†å™¨ä¸ºå„ç§ä¸åŒçš„æ•°æ®æä¾›è®¿é—®æœºåˆ¶ï¼Œä»»ä½•æ•°æ®ç»“æ„åªè¦éƒ¨ç½²Iterator,å°±å¯ä»¥éå†å¤„ç†è¯¥æ•°æ®ç»“æ„çš„æ‰€æœ‰æˆå‘˜ã€‚3ã€éå†å™¨ä½œç”¨ï¼š ï¼ˆ1ï¼‰ä¸ºå„ç§æ•°æ®ç»“æ„ï¼Œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„ã€ç®€ä¾¿çš„è®¿é—®æ¥å£ï¼› ï¼ˆ2ï¼‰ä½¿å¾—æ•°æ®ç»“æ„çš„æˆå‘˜èƒ½å¤ŸæŒ‰æŸç§æ¬¡åºæ’åˆ—ï¼› ï¼ˆ3ï¼‰ES6 åˆ›é€ äº†ä¸€ç§æ–°çš„éå†å‘½ä»¤forâ€¦ofå¾ªç¯ï¼ŒIterator æ¥å£ä¸»è¦ä¾›forâ€¦ofæ¶ˆè´¹ 4ã€éå†è¿‡ç¨‹è¿‡ç¨‹ï¼š ï¼ˆ1ï¼‰åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ï¼ŒæŒ‡å‘å½“å‰æ•°æ®ç»“æ„çš„èµ·å§‹ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œéå†å™¨å¯¹è±¡æœ¬è´¨ä¸Šï¼Œå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ã€‚ ï¼ˆ2ï¼‰ç¬¬ä¸€æ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œå¯ä»¥å°†æŒ‡é’ˆæŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬ä¸€ä¸ªæˆå‘˜ã€‚ ï¼ˆ3ï¼‰ç¬¬äºŒæ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼ŒæŒ‡é’ˆå°±æŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬äºŒä¸ªæˆå‘˜ã€‚ ï¼ˆ4ï¼‰ä¸æ–­è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œç›´åˆ°å®ƒæŒ‡å‘æ•°æ®ç»“æ„çš„ç»“æŸä½ç½®ã€‚ æ¯ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œéƒ½ä¼šè¿”å›æ•°æ®ç»“æ„çš„å½“å‰æˆå‘˜çš„ä¿¡æ¯ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªåŒ…å«valueå’Œdoneä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚å…¶ä¸­ï¼Œvalueå±æ€§æ˜¯å½“å‰æˆå‘˜çš„å€¼ï¼Œdoneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºéå†æ˜¯å¦ç»“æŸ é»˜è®¤Iteratoræ¥å£1ã€Iterator æ¥å£çš„ç›®çš„ï¼Œå°±æ˜¯ä¸ºæ‰€æœ‰æ•°æ®ç»“æ„ï¼Œæä¾›äº†ä¸€ç§ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶ï¼Œå³forâ€¦ofå¾ªç¯ï¼›2ã€ä¸€ç§æ•°æ®ç»“æ„åªè¦éƒ¨ç½²äº† Iterator æ¥å£ï¼Œæˆ‘ä»¬å°±ç§°è¿™ç§æ•°æ®ç»“æ„æ˜¯â€œå¯éå†çš„â€ï¼ˆiterableï¼‰3ã€ES6 è§„å®šï¼Œé»˜è®¤çš„ Iterator æ¥å£éƒ¨ç½²åœ¨æ•°æ®ç»“æ„çš„ Symbol.iterator å±æ€§ï¼Œå³ï¼Œä¸€ä¸ªæ•°æ®ç»“æ„åªè¦å…·æœ‰Symbol.iteratorå±æ€§ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯â€œå¯éå†çš„â€ï¼ˆiterableï¼‰ã€‚","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"ES6","slug":"ES6","permalink":"http://xdd7130.github.io/tags/ES6/"}]},{"title":"ç”Ÿå‘½å‘¨æœŸ","slug":"Reactç”Ÿå‘½å‘¨æœŸ","date":"2020-12-29T11:33:26.000Z","updated":"2022-11-02T11:15:20.543Z","comments":true,"path":"2020/12/29/Reactç”Ÿå‘½å‘¨æœŸ/","link":"","permalink":"http://xdd7130.github.io/2020/12/29/Reactç”Ÿå‘½å‘¨æœŸ/","excerpt":"","text":"åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ï¼Œéšç€è¯¥ç»„ä»¶çš„propsæˆ–è€…stateå‘ç”Ÿæ”¹å˜ï¼Œå…¶DOMè¡¨ç°ä¹Ÿä¼šæœ‰ç›¸åº”çš„å˜åŒ–ã€‚ ä¸€ä¸ªç»„ä»¶å°±æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå¯¹äºç‰¹å®šåœ°è¾“å…¥ï¼Œå®ƒæ€»è¿”å›ä¸€è‡´çš„è¾“å‡ºã€‚ ä¸€ä¸ªReactç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šå®ä¾‹åŒ–ã€å­˜åœ¨æœŸå’Œé”€æ¯æ—¶ã€‚ Reactåº”ç”¨ä¸­ï¼Œç»„ä»¶åŠ è½½é¡ºåºåŠç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š constructor( )constructoræ˜¯ES6å¯¹ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡ new å‘½ä»¤ç”Ÿæˆå¯¹è±¡å®ä¾‹æ—¶è‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚å¹¶ä¸”ï¼Œè¯¥æ–¹æ³•æ˜¯ç±»ä¸­å¿…é¡»æœ‰çš„ï¼Œå¦‚æœæ²¡æœ‰æ˜¾ç¤ºå®šä¹‰ï¼Œåˆ™ä¼šé»˜è®¤æ·»åŠ ç©ºçš„constructor( )æ–¹æ³•ã€‚å½“å­˜åœ¨constructorçš„æ—¶å€™âš ï¸å¿…é¡»æ‰‹åŠ¨è°ƒç”¨superæ–¹æ³•ã€‚ åœ¨constructorä¸­å¦‚æœè¦è®¿é—®this.propséœ€è¦ä¼ å…¥propsï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š1234567891011121314151617class MyClass extends React.component&#123; constructor(props)&#123; super(props); // å£°æ˜constructoræ—¶å¿…é¡»è°ƒç”¨superæ–¹æ³• console.log(this.props); // å¯ä»¥æ­£å¸¸è®¿é—®this.props &#125;&#125;constructor å¸¸ç”¨æ¥åˆå§‹åŒ–stateclass MyClass extends React.Component &#123; constructor(props)&#123; super(props); this.state = &#123; list: this.props.List &#125;; &#125;&#125; componentWillMount()è¯¥æ–¹æ³•åœ¨ç»„ä»¶æŒ‚è½½ä¹‹å‰ç”Ÿæ•ˆã€‚ åœ¨ç»„ä»¶æŒ‚è½½ä¹‹å‰è°ƒç”¨ä¸”å…¨å±€åªè°ƒç”¨ä¸€æ¬¡ã€‚å¦‚æœåœ¨è¿™ä¸ªé’©å­é‡Œå¯ä»¥setStateï¼Œrenderåå¯ä»¥çœ‹åˆ°æ›´æ–°åçš„stateï¼Œä¸ä¼šè§¦å‘é‡å¤æ¸²æŸ“ã€‚è¯¥ç”Ÿå‘½å‘¨æœŸå¯ä»¥å‘èµ·å¼‚æ­¥è¯·æ±‚ï¼Œå¹¶setStateã€‚ï¼ˆReact v16.3ååºŸå¼ƒè¯¥ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥åœ¨constructorä¸­å®Œæˆè®¾ç½®stateï¼‰ render()renderæ˜¯ä¸€ä¸ªReactç»„ä»¶å¿…é¡»å®šä¹‰çš„ç”Ÿå‘½å‘¨æœŸï¼Œç”¨æ¥æ¸²æŸ“domã€‚âš ï¸ä¸è¦åœ¨renderé‡Œé¢ä¿®æ”¹stateï¼Œä¼šè§¦å‘æ­»å¾ªç¯å¯¼è‡´æ ˆæº¢å‡ºã€‚renderå¿…é¡»è¿”å›reactDomã€‚123456789render() &#123; const &#123;nodeResultData: &#123;res&#125; = &#123;&#125;&#125; = this.props; if (isEmpty(res)) return noDataInfo; const nodeResult = this.getNodeResult(res); return ( &lt;div className=\"workspace-dialog-result\"&gt; &#123;nodeResult&#125; &lt;/div&gt; ); componentDidMount()åœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåè°ƒç”¨ï¼Œä¸”å…¨å±€åªè°ƒç”¨ä¸€æ¬¡ã€‚å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨refsï¼Œè·å–çœŸå®domå…ƒç´ ã€‚è¯¥é’©å­å†…ä¹Ÿå¯ä»¥å‘èµ·å¼‚æ­¥è¯·æ±‚ï¼Œå¹¶åœ¨å¼‚æ­¥è¯·æ±‚ä¸­å¯ä»¥è¿›è¡ŒsetStateã€‚123456componentDidMount() &#123; axios.get('/auth/getTemplate').then(res =&gt; &#123; const &#123;TemplateList = []&#125; = res; this.setState(&#123;TemplateList&#125;); &#125;);&#125; componentWillReceiveProps (nextProps )propså‘ç”Ÿå˜åŒ–ä»¥åŠçˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶éƒ½ä¼šè§¦å‘è¯¥ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨è¯¥é’©å­å†…å¯ä»¥é€šè¿‡å‚æ•°nextPropsè·å–å˜åŒ–åçš„propså‚æ•°ï¼Œé€šè¿‡this.propsè®¿é—®ä¹‹å‰çš„propsã€‚è¯¥ç”Ÿå‘½å‘¨æœŸå†…å¯ä»¥è¿›è¡ŒsetStateã€‚(React v16.3ååºŸå¼ƒè¯¥ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥ç”¨æ–°çš„å‘¨æœŸ static getDerivedStateFromProps ä»£æ›¿) shouldComponentUpdate(nextProps, nextState)ç”¨äºåˆ¤æ–­æ˜¯å¦é‡æ–°æ¸²æŸ“ï¼Œç»„ä»¶æŒ‚è½½ä¹‹åï¼Œæ¯æ¬¡è°ƒç”¨setStateåéƒ½ä¼šè°ƒç”¨shouldComponentUpdateåˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚é»˜è®¤è¿”å›trueï¼Œéœ€è¦é‡æ–°renderã€‚è¿”å›falseåˆ™ä¸è§¦å‘æ¸²æŸ“ã€‚åœ¨æ¯”è¾ƒå¤æ‚çš„åº”ç”¨é‡Œï¼Œæœ‰ä¸€äº›æ•°æ®çš„æ”¹å˜å¹¶ä¸å½±å“ç•Œé¢å±•ç¤ºï¼Œå¯ä»¥åœ¨è¿™é‡Œåšåˆ¤æ–­ï¼Œä¼˜åŒ–æ¸²æŸ“æ•ˆç‡ã€‚ componentWillUpdate(nextProps, nextState)shouldComponentUpdateè¿”å›trueæˆ–è€…è°ƒç”¨forceUpdateä¹‹åï¼ŒcomponentWillUpdateä¼šè¢«è°ƒç”¨ã€‚ä¸èƒ½åœ¨è¯¥é’©å­ä¸­setStateï¼Œä¼šè§¦å‘é‡å¤å¾ªç¯ã€‚(React v16.3ååºŸå¼ƒè¯¥ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥ç”¨æ–°çš„å‘¨æœŸ getSnapshotBeforeUpdate) componentDidUpdate()å®Œæˆç»„ä»¶æ¸²æŸ“ï¼Œé™¤äº†é¦–æ¬¡renderä¹‹åè°ƒç”¨componentDidMountï¼Œå…¶å®ƒrenderç»“æŸä¹‹åéƒ½æ˜¯è°ƒç”¨componentDidUpdateã€‚è¯¥é’©å­å†…setStateæœ‰å¯èƒ½ä¼šè§¦å‘é‡å¤æ¸²æŸ“ï¼Œéœ€è¦è‡ªè¡Œåˆ¤æ–­ï¼Œå¦åˆ™ä¼šè¿›å…¥æ­»å¾ªç¯ã€‚1234567componentDidUpdate() &#123; if(condition) &#123; this.setState(&#123;..&#125;) // è®¾ç½®state &#125; else &#123; // ä¸å†è®¾ç½®state &#125;&#125; componentWillUnmount()ç»„ä»¶è¢«å¸è½½çš„æ—¶å€™è°ƒç”¨ã€‚ä¸€èˆ¬åœ¨componentDidMounté‡Œé¢æ³¨å†Œçš„äº‹ä»¶éœ€è¦åœ¨è¿™é‡Œåˆ é™¤ã€‚","categories":[{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/tags/React/"}]},{"title":"ES6(äºŒ) Setå’ŒMap","slug":"ES6-setmap","date":"2020-11-23T11:18:34.000Z","updated":"2022-11-02T11:15:20.541Z","comments":true,"path":"2020/11/23/ES6-setmap/","link":"","permalink":"http://xdd7130.github.io/2020/11/23/ES6-setmap/","excerpt":"","text":"ğŸŒ´ Set å’Œ WeakSetæ•°æ®ç»“æ„ğŸ‘‰ Setï¼š1ã€ES6 æä¾›äº†æ–°çš„æ•°æ®ç»“æ„ Setã€‚å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚ 12345678910111213141516//addæ–¹æ³•const s = new Set();[2, 3, 5, 4, 5, 2, 2].forEach(x =&gt; s.add(x));for (let i of s) &#123;console.log(i);&#125;// 2 3 5 4// ä¸€ã€ æ•°ç»„å»é‡[...new Set(array)]// äºŒã€Array.fromæ–¹æ³•å¯ä»¥å°† Set ç»“æ„è½¬ä¸ºæ•°ç»„ã€‚const items = new Set([1, 2, 3, 4, 5]);const array = Array.from(items); 2ã€Set å®ä¾‹çš„å±æ€§å’Œæ–¹æ³• å®ä¾‹å±æ€§ï¼šSet.prototype.constructorï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Setå‡½æ•°ã€‚Set.prototype.sizeï¼šè¿”å›Setå®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚ å®ä¾‹æ–¹æ³•:Set.prototype.add(value)ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› Set ç»“æ„æœ¬èº«ã€‚Set.prototype.delete(value)ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚Set.prototype.has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚Set.prototype.clear()ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ ä¾‹ï¼š1234567891011s.add(1).add(2).add(2);// æ³¨æ„2è¢«åŠ å…¥äº†ä¸¤æ¬¡s.size // 2s.has(1) // trues.has(2) // trues.has(3) // falses.delete(2);s.has(2) // false 3ã€éå†æ“ä½œ å››ä¸ªéå†æ–¹æ³•ï¼š Set.prototype.keys()ï¼šè¿”å›é”®åçš„éå†å™¨Set.prototype.values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨Set.prototype.entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨Set.prototype.forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ WeakSetWeakSet ç»“æ„ä¸ Set ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸é‡å¤çš„å€¼çš„é›†åˆã€‚ä½†æ˜¯ï¼Œå®ƒä¸ Set æœ‰ä¸¤ä¸ªåŒºåˆ«:1ã€WeakSet çš„æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡ï¼Œè€Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹çš„å€¼ã€‚2ã€WeakSet ä¸­çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå³åƒåœ¾å›æ”¶æœºåˆ¶ä¸è€ƒè™‘ WeakSet å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ WeakSet ç»“æ„æœ‰ä»¥ä¸‹ä¸‰ä¸ªæ–¹æ³•ï¼š WeakSet.prototype.add(value)ï¼šå‘ WeakSet å®ä¾‹æ·»åŠ ä¸€ä¸ªæ–°æˆå‘˜ã€‚WeakSet.prototype.delete(value)ï¼šæ¸…é™¤ WeakSet å®ä¾‹çš„æŒ‡å®šæˆå‘˜ã€‚WeakSet.prototype.has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªå€¼æ˜¯å¦åœ¨ WeakSet å®ä¾‹ä¹‹ä¸­ ğŸŒ´ Map å’Œ WeakMapæ•°æ®ç»“æ„MapJavaScript çš„å¯¹è±¡ï¼ˆObjectï¼‰ï¼Œæœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼ˆHash ç»“æ„ï¼‰ï¼Œä½†æ˜¯ä¼ ç»Ÿä¸Šåªèƒ½ç”¨å­—ç¬¦ä¸²å½“ä½œé”®ã€‚è¿™ç»™å®ƒçš„ä½¿ç”¨å¸¦æ¥äº†å¾ˆå¤§çš„é™åˆ¶ã€‚ES6 æä¾›äº† Map æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®123456789const m = new Map();const o = &#123;p: 'Hello World'&#125;;m.set(o, 'content')m.get(o) // \"content\"m.has(o) // truem.delete(o) // truem.has(o) // false å¦‚æœå¯¹åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼ï¼Œåé¢çš„å€¼å°†è¦†ç›–å‰é¢çš„å€¼ï¼š1234567const map = new Map();map.set(1, 'aaa').set(1, 'bbb');map.get(1) // \"bbb\" å¦‚æœè¯»å–ä¸€ä¸ªæœªçŸ¥çš„é”®ï¼Œåˆ™è¿”å›undefinedã€‚12new Map().get('asfddfsasadf')// undefined æ³¨æ„ï¼Œåªæœ‰å¯¹åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼ŒMap ç»“æ„æ‰å°†å…¶è§†ä¸ºåŒä¸€ä¸ªé”®ã€‚1234const map = new Map();map.set(['a'], 555);map.get(['a']) // undefined ä¸Šé¢ä»£ç çš„setå’Œgetæ–¹æ³•ï¼Œè¡¨é¢æ˜¯é’ˆå¯¹åŒä¸€ä¸ªé”®ï¼Œä½†å®é™…ä¸Šè¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„æ•°ç»„å®ä¾‹ï¼Œå†…å­˜åœ°å€æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤getæ–¹æ³•æ— æ³•è¯»å–è¯¥é”®ï¼Œè¿”å›undefinedã€‚åŒæ ·çš„å€¼çš„ä¸¤ä¸ªå®ä¾‹ï¼Œåœ¨ Map ç»“æ„ä¸­è¢«è§†ä¸ºä¸¤ä¸ªé”®ã€‚1234567891011const map = new Map();const k1 = ['a'];const k2 = ['a'];map.set(k1, 111).set(k2, 222);map.get(k1) // 111map.get(k2) // 222 å¦å¤–ï¼š123456789101112131415let map = new Map();map.set(-0, 123);map.get(+0) // 123map.set(true, 1);map.set('true', 2);map.get(true) // 1map.set(undefined, 3);map.set(null, 4);map.get(undefined) // 3map.set(NaN, 123);map.get(NaN) // 123 å®ä¾‹çš„å±æ€§å’Œæ“ä½œæ–¹æ³•1ã€size å±æ€§sizeå±æ€§è¿”å› Map ç»“æ„çš„æˆå‘˜æ€»æ•°2ã€Map.prototype.set(key, value)setæ–¹æ³•è®¾ç½®é”®åkeyå¯¹åº”çš„é”®å€¼ä¸ºvalueï¼Œç„¶åè¿”å›æ•´ä¸ª Map ç»“æ„ã€‚å¦‚æœkeyå·²ç»æœ‰å€¼ï¼Œåˆ™é”®å€¼ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™å°±æ–°ç”Ÿæˆè¯¥é”®ã€‚setæ–¹æ³•è¿”å›çš„æ˜¯å½“å‰çš„Mapå¯¹è±¡ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ã€‚3ã€Map.prototype.get(key)getæ–¹æ³•è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°keyï¼Œè¿”å›undefinedã€‚4ã€Map.prototype.has(key)hasæ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­ã€‚5ã€Map.prototype.delete(key)deleteæ–¹æ³•åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›trueã€‚å¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å›falseã€‚6ã€Map.prototype.clear()clearæ–¹æ³•æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ éå†æ–¹æ³•Map.prototype.keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚Map.prototype.values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚Map.prototype.entries()ï¼šè¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨ã€‚Map.prototype.forEach()ï¼šéå† Map çš„æ‰€æœ‰æˆå‘˜ã€‚ Map ç»“æ„è½¬ä¸ºæ•°ç»„ç»“æ„ï¼Œæ¯”è¾ƒå¿«é€Ÿçš„æ–¹æ³•æ˜¯ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ã€‚1234567891011121314151617const map = new Map([ [1, 'one'], [2, 'two'], [3, 'three'],]);[...map.keys()]// [1, 2, 3][...map.values()]// ['one', 'two', 'three'][...map.entries()]// [[1,'one'], [2, 'two'], [3, 'three']][...map]// [[1,'one'], [2, 'two'], [3, 'three']] ä¸å…¶ä»–æ•°æ®ç»“æ„çš„äº’ç›¸è½¬æ¢1ã€Map è½¬ä¸ºæ•°ç»„12345const myMap = new Map() .set(true, 7) .set(&#123;foo: 3&#125;, ['abc']);[...myMap]// [ [ true, 7 ], [ &#123; foo: 3 &#125;, [ 'abc' ] ] ] 2ã€æ•°ç»„ è½¬ä¸º Mapå°†æ•°ç»„ä¼ å…¥ Map æ„é€ å‡½æ•°ï¼Œå°±å¯ä»¥è½¬ä¸º Mapã€‚12345678new Map([ [true, 7], [&#123;foo: 3&#125;, ['abc']]])// Map &#123;// true =&gt; 7,// Object &#123;foo: 3&#125; =&gt; ['abc']// &#125; 3ã€Map è½¬ä¸ºå¯¹è±¡å¦‚æœæ‰€æœ‰ Map çš„é”®éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå®ƒå¯ä»¥æ— æŸåœ°è½¬ä¸ºå¯¹è±¡12345678910111213function strMapToObj(strMap) &#123; let obj = Object.create(null); for (let [k,v] of strMap) &#123; obj[k] = v; &#125; return obj;&#125;const myMap = new Map() .set('yes', true) .set('no', false);strMapToObj(myMap)// &#123; yes: true, no: false &#125; å¦‚æœæœ‰éå­—ç¬¦ä¸²çš„é”®åï¼Œé‚£ä¹ˆè¿™ä¸ªé”®åä¼šè¢«è½¬æˆå­—ç¬¦ä¸²ï¼Œå†ä½œä¸ºå¯¹è±¡çš„é”®åã€‚ 4ã€å¯¹è±¡è½¬ä¸º Mapå¯¹è±¡è½¬ä¸º Map å¯ä»¥é€šè¿‡Object.entries()ã€‚12345678910111213141516let obj = &#123;\"a\":1, \"b\":2&#125;;let map = new Map(Object.entries(obj));//æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å®ç°ä¸€ä¸ªè½¬æ¢å‡½æ•°ã€‚function objToStrMap(obj) &#123; let strMap = new Map(); for (let k of Object.keys(obj)) &#123; strMap.set(k, obj[k]); &#125; return strMap;&#125;objToStrMap(&#123;yes: true, no: false&#125;)// Map &#123;\"yes\" =&gt; true, \"no\" =&gt; false&#125; 5ã€Map è½¬ä¸º JSONMap è½¬ä¸º JSON è¦åŒºåˆ†ä¸¤ç§æƒ…å†µ:ä¸€ç§æƒ…å†µæ˜¯ï¼ŒMap çš„é”®åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™æ—¶å¯ä»¥é€‰æ‹©è½¬ä¸ºå¯¹è±¡ JSONã€‚1234567function strMapToJson(strMap) &#123; return JSON.stringify(strMapToObj(strMap));&#125;let myMap = new Map().set('yes', true).set('no', false);strMapToJson(myMap)// '&#123;\"yes\":true,\"no\":false&#125;' å¦ä¸€ç§æƒ…å†µæ˜¯ï¼ŒMap çš„é”®åæœ‰éå­—ç¬¦ä¸²ï¼Œè¿™æ—¶å¯ä»¥é€‰æ‹©è½¬ä¸ºæ•°ç»„ JSONã€‚1234567function mapToArrayJson(map) &#123; return JSON.stringify([...map]);&#125;let myMap = new Map().set(true, 7).set(&#123;foo: 3&#125;, ['abc']);mapToArrayJson(myMap)// '[[true,7],[&#123;\"foo\":3&#125;,[\"abc\"]]]' 6ã€JSON è½¬ä¸º Map JSON è½¬ä¸º Mapï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œæ‰€æœ‰é”®åéƒ½æ˜¯å­—ç¬¦ä¸²ã€‚123456function jsonToStrMap(jsonStr) &#123; return objToStrMap(JSON.parse(jsonStr));&#125;jsonToStrMap('&#123;\"yes\": true, \"no\": false&#125;')// Map &#123;'yes' =&gt; true, 'no' =&gt; false&#125; ä½†æ˜¯ï¼Œæœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œæ•´ä¸ª JSON å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¸”æ¯ä¸ªæ•°ç»„æˆå‘˜æœ¬èº«ï¼Œåˆæ˜¯ä¸€ä¸ªæœ‰ä¸¤ä¸ªæˆå‘˜çš„æ•°ç»„ã€‚è¿™æ—¶ï¼Œå®ƒå¯ä»¥ä¸€ä¸€å¯¹åº”åœ°è½¬ä¸º Mapã€‚è¿™å¾€å¾€æ˜¯ Map è½¬ä¸ºæ•°ç»„ JSON çš„é€†æ“ä½œã€‚123456function jsonToMap(jsonStr) &#123; return new Map(JSON.parse(jsonStr));&#125;jsonToMap('[[true,7],[&#123;\"foo\":3&#125;,[\"abc\"]]]')// Map &#123;true =&gt; 7, Object &#123;foo: 3&#125; =&gt; ['abc']&#125;","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"ES6","slug":"ES6","permalink":"http://xdd7130.github.io/tags/ES6/"}]},{"title":"ES6(ä¸€)","slug":"ES6","date":"2020-10-25T11:18:34.000Z","updated":"2022-11-02T11:15:20.541Z","comments":true,"path":"2020/10/25/ES6/","link":"","permalink":"http://xdd7130.github.io/2020/10/25/ES6/","excerpt":"","text":"ğŸŒ´ let ä¸ constğŸ‘‰ æ€»ç»“ï¼š let :å£°æ˜çš„å˜é‡åªåœ¨ let å‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆï¼Œä¸”åªèƒ½å£°æ˜ä¸€æ¬¡ï¼Œå¤šæ¬¡å£°æ˜ï¼ŒæŠ¥é”™ï¼šâ€œIdentifier XX has already been declaredâ€,forå¾ªç¯å¾ˆé€‚åˆletã€‚ const:å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚ ğŸ‘‰ æ¯”è¾ƒï¼š1ã€ä¸å­˜åœ¨å˜é‡æå‡ï¼šletæ²¡æœ‰é¢„è§£æï¼Œä¸å­˜åœ¨å˜é‡æå‡ï¼Œvar ä¼šå˜é‡æå‡ã€‚ 12345678console.log(a); // undefined ===&gt; aå·²å£°æ˜è¿˜æ²¡èµ‹å€¼ï¼Œé»˜è®¤å¾—åˆ°undefinedå€¼var a = 100;console.log(b); // æŠ¥é”™ï¼šb is not defined ===&gt; æ‰¾ä¸åˆ°bè¿™ä¸ªå˜é‡let b = 10;console.log(c); // æŠ¥é”™ï¼šc is not defined ===&gt; æ‰¾ä¸åˆ°cè¿™ä¸ªå˜é‡const c = 10; 2ã€const å£°æ˜ä¸€ä¸ªåªè¯»å˜é‡ï¼Œå£°æ˜ä¹‹åä¸å…è®¸æ”¹å˜ã€‚æ„å‘³ç€ï¼Œä¸€æ—¦å£°æ˜å¿…é¡»åˆå§‹åŒ–ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚3ã€æš‚æ—¶æ€§æ­»åŒºï¼šä»£ç å—å†…å¦‚æœå­˜åœ¨ let æˆ–è€… constï¼Œä»£ç å—ä¼šå¯¹è¿™äº›å‘½ä»¤å£°æ˜çš„å˜é‡ä»å—çš„å¼€å§‹å°±å½¢æˆä¸€ä¸ªå°é—­ä½œç”¨åŸŸã€‚4ã€varå£°æ˜çš„å˜é‡ä¼šæŒ‚è½½åœ¨windowä¸Šï¼Œè€Œletå’Œconstå£°æ˜çš„å˜é‡ä¸ä¼šã€‚ 12345678var a = 100;console.log(a,window.a); // 100 100let b = 10;console.log(b,window.b); // 10 undefinedconst c = 1;console.log(c,window.c); // 1 undefined ğŸ‘‰ æ³¨æ„:å¯¹äºç®€å•ç±»å‹ï¼ˆæ•°å€¼ numberã€å­—ç¬¦ä¸² string ã€å¸ƒå°”å€¼ booleanï¼‰,å€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ const å£°æ˜çš„ç®€å•ç±»å‹å˜é‡ç­‰åŒäºå¸¸é‡ã€‚å¤æ‚ç±»å‹ï¼ˆå¯¹è±¡ objectï¼Œæ•°ç»„ arrayï¼Œå‡½æ•° functionï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€å…¶å®æ˜¯ä¿å­˜äº†ä¸€ä¸ªæŒ‡å‘å®é™…æ•°æ®çš„æŒ‡é’ˆï¼Œæ‰€ä»¥ const åªèƒ½ä¿è¯æŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œè‡³äºæŒ‡é’ˆæŒ‡å‘çš„æ•°æ®ç»“æ„å˜ä¸å˜å°±æ— æ³•æ§åˆ¶äº†ï¼Œæ‰€ä»¥ä½¿ç”¨ const å£°æ˜å¤æ‚ç±»å‹å¯¹è±¡æ—¶è¦æ…é‡ã€‚ ğŸŒ´ è§£æ„èµ‹å€¼è§£æ„èµ‹å€¼æ˜¯å¯¹èµ‹å€¼è¿ç®—ç¬¦çš„æ‰©å±•ã€‚ ä»–æ˜¯ä¸€ç§é’ˆå¯¹æ•°ç»„æˆ–è€…å¯¹è±¡è¿›è¡Œæ¨¡å¼åŒ¹é…ï¼Œç„¶åå¯¹å…¶ä¸­çš„å˜é‡è¿›è¡Œèµ‹å€¼ã€‚ åœ¨ä»£ç ä¹¦å†™ä¸Šç®€æ´ä¸”æ˜“è¯»ï¼Œè¯­ä¹‰æ›´åŠ æ¸…æ™°æ˜äº†ï¼›ä¹Ÿæ–¹ä¾¿äº†å¤æ‚å¯¹è±¡ä¸­æ•°æ®å­—æ®µè·å–ã€‚åœ¨è§£æ„ä¸­ï¼Œæœ‰ä¸‹é¢ä¸¤éƒ¨åˆ†å‚ä¸ï¼š è§£æ„çš„æºï¼Œè§£æ„èµ‹å€¼è¡¨è¾¾å¼çš„å³è¾¹éƒ¨åˆ†ã€‚è§£æ„çš„ç›®æ ‡ï¼Œè§£æ„èµ‹å€¼è¡¨è¾¾å¼çš„å·¦è¾¹éƒ¨åˆ†ã€‚ ä¸€ä¸€å¯¹åº”çš„å…³ç³» 123456789101112131415161718192021222324let [a,b,c] = [1,2,3];let [a,[b,c]] = [1,[2,3]];let json = &#123; name:'DANDAN', age:18, job:\"æ‰“å·¥äºº\"&#125;let &#123;name,age,job&#125; = &#123; nama:\"DANDAN\", age:18, job:\"æ‰“å·¥äºº\"&#125;//åˆ«ålet &#123;name:n,age:g,job:b&#125; = jsonconsole.log(n,g,b)//è§£æ„å¯ä»¥ç»™é»˜è®¤å€¼let [a,b,c=\"æš‚æ— æ•°æ®\"] = [1,2,undefined];//let = a;(&#123;a&#125; = &#123;a:\"apple\",b:\"banana\"&#125;);console.log(a) ğŸŒ´ å­—ç¬¦ä¸²æ¨¡æ¿ä»£æ›¿å­—ç¬¦ä¸²æ‹¼æ¥1234let name = \"DANDAN\";let age = 18;let str = `æˆ‘æ˜¯$&#123;name&#125;,å¹´é¾„æ°¸è¿œ$&#123;age&#125;å²`; ğŸŒ´ å‡½æ•°é»˜è®¤å‚æ•°å‡½æ•°å‚æ•°é»˜è®¤å·²ç»å®šä¹‰ï¼Œä¸èƒ½å†ç”¨let,constå£°æ˜123function(a=0,b=0)&#123; console.log(a,b)&#125; ç®­å¤´å‡½æ•°()=&gt;{ è¯­å¥ return}æ³¨: thisé—®é¢˜ï¼Œå®šä¹‰å‡½æ•°æ‰€åœ¨çš„å¯¹è±¡ï¼Œä¸æ˜¯è¿è¡Œæ—¶æ‰€åœ¨å¯¹è±¡ã€‚ ç®­å¤´å‡½æ•°é‡Œæ²¡æœ‰argumentsï¼›ç”¨â€œâ€¦â€ã€‚ ç®­å¤´å‡½æ•°ä¸èƒ½ä½œæ„é€ å‡½æ•° å‰©ä½™å‚æ•°æ‰©å±•è¿ç®—ç¬¦ï¼Œresetè¿ç®—ç¬¦(â€¦)ï¼šå‰©ä½™å‚æ•°å¿…é¡»æ”¾åˆ°æœ€å 12345678let arr = [a,b,c]console.log(...arr);function show(...a)&#123; console.log(a)&#125;show(1,2,3,4,5) ğŸŒ´ çƒ­é—¹çš„æ•°ç»„å¾ªç¯ forEach() ä»£æ›¿for,ä¸¤ä¸ªå‚æ•° map() filter() some() every() 1ã€arr.forEach(function(){},æŒ‡å‘)ã€arr.map(function(){},æŒ‡å‘),æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªï¼šå¾ªç¯å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªï¼šthisæŒ‡å‘ã€‚ 123arr.forEach(function(val,index,arr)&#123; console.log(this,val,index,arr);&#125;,windows) 2ã€arr.map(function(){},æŒ‡å‘),å’ŒforEach()ä¸€æ ·ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªï¼šå¾ªç¯å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªï¼šthisæŒ‡å‘ã€‚ ä¸€èˆ¬ç”¨æ¥åšæ•°æ®äº¤äº’æ˜ å°„ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œéœ€è¦é…åˆreturn,è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ è‹¥æ²¡æœ‰returnç›¸å½“äºforEach, æ—¥å¸¸ç”¨returnè¿”å›ç›®æ ‡æ•°æ®ã€‚3ã€arr.filter(),è¿‡æ»¤æ‰â€œä¸åˆæ ¼â€æ•°æ®. 12345678let arr = [ &#123;type:true&#125;, &#123;type:false&#125;]let newArr = arr.filter(function(item,index,arr)&#123; return item.type === true;&#125;)console.log(newArr); 4ã€arr.some(),ç±»ä¼¼æŸ¥æ‰¾ï¼Œæ•°ç»„é‡Œé¢æœ‰ä¸€ä¸ªå…ƒç´ ç¬¦åˆæ¡ä»¶ï¼Œè¿”å›true. 1234let arr = [1,2,3,4,5,6];let r = arr.some((val,index,arr) =&gt;&#123; return val%2 = 1;&#125;) 5ã€arr.every(),æ•°ç»„é‡Œé¢æ‰€æœ‰å…ƒç´ ç¬¦åˆæ¡ä»¶ï¼Œè¿”å›trueã€‚6ã€arr.reduce(),ä¸ä¸Šé¢çš„ä¸åŒï¼Œæœ‰å››ä¸ªå‚æ•°,ä»å·¦å¾€å³ã€‚123let r = arr.reduce((pre,cur,index,arr)=&gt;&#123; return pre+cur; //æ±‚å’Œ&#125;) 7ã€arr.reduceRight(),æœ‰å››ä¸ªå‚æ•°,ä»å³å¾€å·¦ã€‚8ã€forâ€¦of 123456789101112for(let val of arr)&#123; console.log(val);&#125;for(let index of arr.keys())&#123; console.log(val);&#125;for(let item of arr.entries())&#123; console.log(val);&#125;for(let [key,val] of arr.entries())&#123; console.log(key,val);&#125; ğŸŒ´ æ•°ç»„æ–°å¢1ã€Array.from():æŠŠç±»æ•°ç»„å¯¹è±¡è½¬ä¸ºæ•°ç»„ã€‚2ã€Array.of():æŠŠä¸€ç»„å€¼è½¬ä¸ºæ•°ç»„ã€‚ 1Array.of('1','2','3') //['1','2','3'] 3ã€Array.find():æ•°ç»„æŸ¥æ‰¾ï¼Œæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶ï¼Œè‹¥æ²¡æ‰¾åˆ°ï¼Œè¿”å›undefinedã€‚4ã€Array.findIndex():è¿”å›æ‰¾åˆ°çš„ä½ç½®ï¼Œæ²¡æ‰¾åˆ°è¿”å›-1.5ã€arr.fill()6ã€arr.includes()6ã€arr.indexOf() ğŸŒ´ Promise1ã€è§£å†³å¼‚æ­¥å›è°ƒé—®é¢˜ 123456789101112131415161718new Promise(function(resolve,reject)&#123; //resolveæˆåŠŸè°ƒç”¨ //reject å¤±è´¥è°ƒç”¨&#125;)let a=10;let promise = new Promise(function(resolve,reject)&#123; if(a==10)&#123; resolve('æˆåŠŸï¼'); &#125;else&#123; resolve('å¤±è´¥ï¼'); &#125;&#125;)promise.then(res=&gt;&#123; console.log(res);&#125;,err=&gt;&#123; console.log(err);&#125;) 2ã€Promise.resolve(â€˜aâ€™):å°†ç°æœ‰çš„ä¸œè¥¿è½¬æˆä¸€ä¸ªpromiseå¯¹è±¡ï¼ŒresolveçŠ¶æ€ï¼ŒæˆåŠŸçŠ¶æ€ã€‚ç­‰ä»·äºï¼šnew Promise(resolve=&gt;{resolve(â€œaâ€)})ã€‚Promise.reject(â€˜aâ€™):å°†ç°æœ‰çš„ä¸œè¥¿è½¬æˆä¸€ä¸ªpromiseå¯¹è±¡ï¼ŒrejectçŠ¶æ€ï¼Œå¤±è´¥çŠ¶æ€ã€‚3ã€Promise.all([p1,p2,p3]):æŠŠpromiseæ‰“åŒ…ï¼Œæ‰”åˆ°æ•°ç»„é‡Œï¼Œæ‰“åŒ…å®Œè¿˜æ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ã€‚å¿…é¡»ç¡®ä¿æ‰€æœ‰çš„promiseå¯¹è±¡éƒ½æ˜¯resolveçŠ¶æ€ï¼Œéƒ½æ˜¯æˆåŠŸçŠ¶æ€ã€‚4ã€Promise.race([p1,p2,p3]):åªè¦æœ‰ä¸€ä¸ªæˆåŠŸï¼Œå°±è¿”å›ã€‚ ğŸŒ´ æ¨¡å—åŒ–åœ¨ES6ä¹‹å‰ï¼Œç¤¾åŒºå®šåˆ¶ä¸€å¥—æ¨¡å—è§„èŒƒ Commonjsâ€”-ä¸»è¦æœåŠ¡ç«¯nodejs require(â€˜httpâ€™) AMDâ€”â€”â€”requirejs,curljs CMDâ€”â€”â€”seajs ES6 ï¼Œ import/export/export default . å¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ç»å¯¹è·¯å¾„ã€‚ importåªä¼šå¯¼å…¥ä¸€æ¬¡ï¼Œæ— è®ºå¼•å…¥å¤šå°‘æ¬¡ã€‚ import â€œ./modules/1.jsâ€;å¦‚æœè¿™ä¹ˆç”¨ï¼Œç›¸å½“äºå¼•å…¥æ–‡ä»¶ã€‚ importä¼šè‡ªåŠ¨æå‡åˆ°é¡¶éƒ¨ï¼Œå…ˆæ‰§è¡Œ å¯¼å‡ºå»æ¨¡å—å†…å®¹ï¼Œå¦‚æœé‡Œé¢æœ‰å®šæ—¶å™¨æ›´æ”¹ï¼Œå¤–é¢ä¹Ÿä¼šæ”¹åŠ¨ï¼Œä¸åƒCommonJSè§„èŒƒç¼“å­˜ã€‚ åŠ¨æ€å¼•å…¥ï¼šç±»ä¼¼nodeé‡Œçš„requireï¼Œå¯ä»¥åŠ¨æ€å¼•å…¥ï¼Œé»˜è®¤importè¯­æ³•ä¸èƒ½å†™å…¥ifä¹‹ç±»çš„é‡Œé¢ï¼Œè¿”å›å€¼æ˜¯promiseå¯¹è±¡ ä¼˜ç‚¹ï¼š1ã€æŒ‰éœ€åŠ è½½ï¼›2ã€å¯ä»¥å†™ifä¸­ï¼›3ã€è·¯å¾„ä¹Ÿå¯ä»¥åŠ¨æ€ã€‚ 123456789101112131415161718192021222324252627//1ã€importã€export //æ¨¡å— const a=1; const b=2; let c=3 export &#123; a as first b as second c as third &#125; //å¼•å…¥ import &#123;first,second,third&#125; from ./modules.js//2ã€importã€export default export defaultå¼•å…¥æ—¶ä¸ç”¨åŠ èŠ±æ‹¬å·. //æ¨¡å— export default a=3; //å¼•å…¥ import a from \"./modules.js\"//3ã€åŠ¨æ€å¼•å…¥ import('./modules.js).then(res=&gt;&#123; console.log(res.a+res.b); &#125;) Promise.all([import('./1.js'),[import('./2.js')]).then(([res1,res2])=&gt;&#123; console.log(res1,res2); &#125;) ğŸŒ´ ClassES6 çš„classå¯ä»¥çœ‹ä½œåªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå®ƒçš„ç»å¤§éƒ¨åˆ†åŠŸèƒ½ï¼ŒES5 éƒ½å¯ä»¥åšåˆ°ï¼Œæ–°çš„classå†™æ³•åªæ˜¯è®©å¯¹è±¡åŸå‹çš„å†™æ³•æ›´åŠ æ¸…æ™°ã€æ›´åƒé¢å‘å¯¹è±¡ç¼–ç¨‹çš„è¯­æ³•è€Œå·²ã€‚ 123456789101112131415161718function Point(x, y) &#123; this.x = x; this.y = y;&#125;Point.prototype.toString = function () &#123; return '(' + this.x + ', ' + this.y + ')';&#125;;var p = new Point(1, 2);//ES6æ”¹å†™class Point &#123; constructor(x, y) &#123; this.x = x; this.y = y; &#125; toString() &#123; return '(' + this.x + ', ' + this.y + ')'; &#125;&#125; constructor æ–¹æ³•1ã€constructoræ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡newå‘½ä»¤ç”Ÿæˆå¯¹è±¡å®ä¾‹æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚ä¸€ä¸ªç±»å¿…é¡»æœ‰constructoræ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼å®šä¹‰ï¼Œä¸€ä¸ªç©ºçš„constructoræ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ã€‚2ã€constructoræ–¹æ³•é»˜è®¤è¿”å›å®ä¾‹å¯¹è±¡ï¼ˆå³thisï¼‰ï¼Œå®Œå…¨å¯ä»¥æŒ‡å®šè¿”å›å¦å¤–ä¸€ä¸ªå¯¹è±¡ã€‚3ã€ç±»å¿…é¡»ä½¿ç”¨newè°ƒç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å®ƒè·Ÿæ™®é€šæ„é€ å‡½æ•°çš„ä¸€ä¸ªä¸»è¦åŒºåˆ«ï¼Œåè€…ä¸ç”¨newä¹Ÿå¯ä»¥æ‰§è¡Œã€‚ ç±»çš„å®ä¾‹ç”Ÿæˆç±»çš„å®ä¾‹çš„å†™æ³•ï¼Œä¸ ES5 å®Œå…¨ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä½¿ç”¨newå‘½ä»¤ã€‚å‰é¢è¯´è¿‡ï¼Œå¦‚æœå¿˜è®°åŠ ä¸Šnewï¼Œåƒå‡½æ•°é‚£æ ·è°ƒç”¨Classï¼Œå°†ä¼šæŠ¥é”™ã€‚ å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰ä¸ ES5 ä¸€æ ·ï¼Œåœ¨â€œç±»â€çš„å†…éƒ¨å¯ä»¥ä½¿ç”¨getå’Œsetå…³é”®å­—ï¼Œå¯¹æŸä¸ªå±æ€§è®¾ç½®å­˜å€¼å‡½æ•°å’Œå–å€¼å‡½æ•°ï¼Œæ‹¦æˆªè¯¥å±æ€§çš„å­˜å–è¡Œä¸º å±æ€§è¡¨è¾¾å¼ç±»çš„å±æ€§åï¼Œå¯ä»¥é‡‡ç”¨è¡¨è¾¾å¼ã€‚ 123456789101112//Squareç±»çš„æ–¹æ³•ågetAreaï¼Œæ˜¯ä»è¡¨è¾¾å¼å¾—åˆ°çš„let methodName = 'getArea';class Square &#123; constructor(length) &#123; // ... &#125; [methodName]() &#123; // ... &#125;&#125; Classè¡¨è¾¾å¼12345const MyClass = class Me &#123; getClassName() &#123; return Me.name; &#125;&#125;; é™æ€æ–¹æ³•1ã€åœ¨ä¸€ä¸ªæ–¹æ³•å‰ï¼ŒåŠ ä¸Šstaticå…³é”®å­—ï¼Œå°±è¡¨ç¤ºè¯¥æ–¹æ³•ä¸ä¼šè¢«å®ä¾‹ç»§æ‰¿ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡ç±»æ¥è°ƒç”¨ï¼Œè¿™å°±ç§°ä¸ºâ€œé™æ€æ–¹æ³•â€ã€‚ 123456789class Foo &#123; static classMethod() &#123; return 'hello'; &#125;&#125;Foo.classMethod() // 'hello'var foo = new Foo();foo.classMethod()// TypeError: foo.classMethod is not a function 2ã€çˆ¶ç±»çš„é™æ€æ–¹æ³•ï¼Œå¯ä»¥è¢«å­ç±»ç»§æ‰¿ï¼Œä¸‹èŠ‚è®¨è®ºã€‚ å®ä¾‹å±æ€§çš„æ–°å†™æ³•å®ä¾‹å±æ€§é™¤äº†å®šä¹‰åœ¨constructor()æ–¹æ³•é‡Œé¢çš„thisä¸Šé¢ï¼Œä¹Ÿå¯ä»¥å®šä¹‰åœ¨ç±»çš„æœ€é¡¶å±‚ã€‚123456789101112131415161718192021222324class IncreasingCounter &#123; constructor() &#123; this._count = 0; &#125; get value() &#123; console.log('Getting the current value!'); return this._count; &#125; increment() &#123; this._count++; &#125;&#125;//ä¹Ÿå¯ä»¥class IncreasingCounter &#123; _count = 0; get value() &#123; console.log('Getting the current value!'); return this._count; &#125; increment() &#123; this._count++; &#125;&#125; é™æ€å±æ€§é™æ€å±æ€§æŒ‡çš„æ˜¯ Class æœ¬èº«çš„å±æ€§ï¼Œå³Class.propNameï¼Œè€Œä¸æ˜¯å®šä¹‰åœ¨å®ä¾‹å¯¹è±¡ï¼ˆthisï¼‰ä¸Šçš„å±æ€§ã€‚ 123456789101112131415//ä¸ºFooç±»å®šä¹‰äº†ä¸€ä¸ªé™æ€å±æ€§propã€‚class Foo &#123;&#125;Foo.prop = 1;Foo.prop // 1//ææ¡ˆclass MyClass &#123; static myStaticProp = 42; constructor() &#123; console.log(MyClass.myStaticProp); // 42 &#125;&#125; ç§æœ‰æ–¹æ³•å’Œç§æœ‰å±æ€§ç§æœ‰æ–¹æ³•å’Œç§æœ‰å±æ€§ï¼Œæ˜¯åªèƒ½åœ¨ç±»çš„å†…éƒ¨è®¿é—®çš„æ–¹æ³•å’Œå±æ€§ï¼Œå¤–éƒ¨ä¸èƒ½è®¿é—®ã€‚è¿™æ˜¯å¸¸è§éœ€æ±‚ï¼Œæœ‰åˆ©äºä»£ç çš„å°è£…ã€‚ä¸€ç§åšæ³•æ˜¯åœ¨å‘½åä¸ŠåŠ ä»¥åŒºåˆ«ã€‚ä¸‹é¢ä»£ç _bar()æ–¹æ³•å‰é¢çš„ä¸‹åˆ’çº¿ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªåªé™äºå†…éƒ¨ä½¿ç”¨çš„ç§æœ‰æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œè¿™ç§å‘½åæ˜¯ä¸ä¿é™©çš„ï¼Œåœ¨ç±»çš„å¤–éƒ¨ï¼Œè¿˜æ˜¯å¯ä»¥è°ƒç”¨åˆ°è¿™ä¸ªæ–¹æ³•ã€‚12345678910class Widget &#123; // å…¬æœ‰æ–¹æ³• foo (baz) &#123; this._bar(baz); &#125; // ç§æœ‰æ–¹æ³• _bar(baz) &#123; return this.snaf = baz; &#125;&#125; å¦ä¸€ç§æ–¹æ³•å°±æ˜¯å°†ç§æœ‰æ–¹æ³•ç§»å‡ºç±»ï¼Œå› ä¸ºç±»å†…éƒ¨çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯å¯¹å¤–å¯è§çš„ã€‚ ç§æœ‰å±æ€§çš„ææ¡ˆç›®å‰ï¼Œæœ‰ä¸€ä¸ªææ¡ˆï¼Œä¸ºclassåŠ äº†ç§æœ‰å±æ€§ã€‚æ–¹æ³•æ˜¯åœ¨å±æ€§åä¹‹å‰ï¼Œä½¿ç”¨#è¡¨ç¤ºã€‚#countå°±æ˜¯ç§æœ‰å±æ€§ï¼Œåªèƒ½åœ¨ç±»çš„å†…éƒ¨ä½¿ç”¨ï¼ˆthis.#countï¼‰ã€‚å¦‚æœåœ¨ç±»çš„å¤–éƒ¨ä½¿ç”¨ï¼Œå°±ä¼šæŠ¥é”™ã€‚ new.target å±æ€§newæ˜¯ä»æ„é€ å‡½æ•°ç”Ÿæˆå®ä¾‹å¯¹è±¡çš„å‘½ä»¤ã€‚ES6 ä¸ºnewå‘½ä»¤å¼•å…¥äº†ä¸€ä¸ªnew.targetå±æ€§ï¼Œè¯¥å±æ€§ä¸€èˆ¬ç”¨åœ¨æ„é€ å‡½æ•°ä¹‹ä¸­ï¼Œè¿”å›newå‘½ä»¤ä½œç”¨äºçš„é‚£ä¸ªæ„é€ å‡½æ•°ã€‚å¦‚æœæ„é€ å‡½æ•°ä¸æ˜¯é€šè¿‡newå‘½ä»¤æˆ–Reflect.construct()è°ƒç”¨çš„ï¼Œnew.targetä¼šè¿”å›undefinedï¼Œå› æ­¤è¿™ä¸ªå±æ€§å¯ä»¥ç”¨æ¥ç¡®å®šæ„é€ å‡½æ•°æ˜¯æ€ä¹ˆè°ƒç”¨çš„ã€‚ Class å†…éƒ¨è°ƒç”¨new.targetï¼Œè¿”å›å½“å‰ Classã€‚å­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶ï¼Œnew.targetä¼šè¿”å›å­ç±»ã€‚å¯ä»¥å†™å‡ºä¸èƒ½ç‹¬ç«‹ä½¿ç”¨ã€å¿…é¡»ç»§æ‰¿åæ‰èƒ½ä½¿ç”¨çš„ç±»ã€‚ä¸‹é¢ä»£ç ä¸­ï¼ŒShapeç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½ç”¨äºç»§æ‰¿ã€‚ 1234567891011121314151617class Shape &#123; constructor() &#123; if (new.target === Shape) &#123; throw new Error('æœ¬ç±»ä¸èƒ½å®ä¾‹åŒ–'); &#125; &#125;&#125;class Rectangle extends Shape &#123; constructor(length, width) &#123; super(); // ... &#125;&#125;var x = new Shape(); // æŠ¥é”™var y = new Rectangle(3, 4); // æ­£ç¡® 12345678910class IncreasingCounter &#123; #count = 0; get value() &#123; console.log('Getting the current value!'); return this.#count; &#125; increment() &#123; this.#count++; &#125;&#125; ğŸŒ´ Classç»§æ‰¿ï¼ˆextendsï¼‰1ã€Class å¯ä»¥é€šè¿‡extendså…³é”®å­—å®ç°ç»§æ‰¿ã€‚2ã€å­ç±»å¿…é¡»åœ¨constructoræ–¹æ³•ä¸­è°ƒç”¨superæ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®ä¾‹æ—¶ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»è‡ªå·±çš„thiså¯¹è±¡ï¼Œå¿…é¡»å…ˆé€šè¿‡çˆ¶ç±»çš„æ„é€ å‡½æ•°å®Œæˆå¡‘é€ ï¼Œå¾—åˆ°ä¸çˆ¶ç±»åŒæ ·çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œç„¶åå†å¯¹å…¶è¿›è¡ŒåŠ å·¥ï¼ŒåŠ ä¸Šå­ç±»è‡ªå·±çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ã€‚å¦‚æœä¸è°ƒç”¨superæ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°thiså¯¹è±¡ã€‚3ã€å¦‚æœå­ç±»æ²¡æœ‰å®šä¹‰constructoræ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ã€‚4ã€åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œåªæœ‰è°ƒç”¨superä¹‹åï¼Œæ‰å¯ä»¥ä½¿ç”¨thiså…³é”®å­—ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»å®ä¾‹çš„æ„å»ºï¼ŒåŸºäºçˆ¶ç±»å®ä¾‹ï¼Œåªæœ‰superæ–¹æ³•æ‰èƒ½è°ƒç”¨çˆ¶ç±»å®ä¾‹ã€‚5ã€çˆ¶ç±»çš„é™æ€æ–¹æ³•ï¼Œä¹Ÿä¼šè¢«å­ç±»ç»§æ‰¿ã€‚123456789101112131415161718192021222324class Parent &#123;&#125;class Child extends Parent &#123; constructor(x, y, color) &#123; super(x, y); // è°ƒç”¨çˆ¶ç±»çš„constructor(x, y) this.color = color; &#125; toString() &#123; return this.color + ' ' + super.toString(); // è°ƒç”¨çˆ¶ç±»çš„toString() &#125;&#125;//3ã€class ColorPoint extends Point &#123;&#125;// ç­‰åŒäºclass ColorPoint extends Point &#123; constructor(...args) &#123; super(...args); &#125;&#125; Object.getPrototypeOf()åˆ¤æ–­ï¼Œä¸€ä¸ªç±»æ˜¯å¦ç»§æ‰¿äº†å¦ä¸€ä¸ªç±» 12Object.getPrototypeOf(ColorPoint) === Point //true super å…³é”®å­—å½“ä½œå‡½æ•°ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥å½“ä½œå¯¹è±¡ä½¿ç”¨ï¼Œåœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œå®ƒçš„ç”¨æ³•å®Œå…¨ä¸åŒã€‚1ã€ç¬¬ä¸€ç§æƒ…å†µï¼Œsuperä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼Œsuper()åªèƒ½ç”¨åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¹‹ä¸­,ä»£è¡¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚ES6 è¦æ±‚ï¼Œå­ç±»çš„æ„é€ å‡½æ•°å¿…é¡»æ‰§è¡Œä¸€æ¬¡superå‡½æ•°ã€‚æ³¨æ„ï¼šsuperè™½ç„¶ä»£è¡¨äº†çˆ¶ç±»Açš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯å­ç±»Bçš„å®ä¾‹ï¼Œå³superå†…éƒ¨çš„thisæŒ‡çš„æ˜¯Bçš„å®ä¾‹ï¼Œå› æ­¤super()åœ¨è¿™é‡Œç›¸å½“äºA.prototype.constructor.call(this)ã€‚ä¸‹é¢ï¼Œnew.targetæŒ‡å‘å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°ã€‚å¯ä»¥çœ‹åˆ°ï¼Œåœ¨super()æ‰§è¡Œæ—¶ï¼Œå®ƒæŒ‡å‘çš„æ˜¯å­ç±»Bçš„æ„é€ å‡½æ•°ï¼Œè€Œä¸æ˜¯çˆ¶ç±»Açš„æ„é€ å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œsuper()å†…éƒ¨çš„thisæŒ‡å‘çš„æ˜¯Bã€‚123456789101112class A &#123; constructor() &#123; console.log(new.target.name); &#125;&#125;class B extends A &#123; constructor() &#123; super(); &#125;&#125;new A() // Anew B() // B 2ã€ç¬¬äºŒç§æƒ…å†µï¼Œsuperä½œä¸ºå¯¹è±¡æ—¶ï¼Œåœ¨æ™®é€šæ–¹æ³•ä¸­ï¼ŒæŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼›åœ¨é™æ€æ–¹æ³•ä¸­ï¼ŒæŒ‡å‘çˆ¶ç±»ã€‚ ä¸‹é¢ï¼Œå­ç±»Bå½“ä¸­çš„super.p()ï¼Œå°±æ˜¯å°†superå½“ä½œä¸€ä¸ªå¯¹è±¡ä½¿ç”¨ã€‚è¿™æ—¶ï¼Œsuperåœ¨æ™®é€šæ–¹æ³•ä¹‹ä¸­ï¼ŒæŒ‡å‘A.prototypeï¼Œæ‰€ä»¥super.p()å°±ç›¸å½“äºA.prototype.p()ã€‚æ³¨ï¼šsuperæŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼Œæ‰€ä»¥å®šä¹‰åœ¨çˆ¶ç±»å®ä¾‹ä¸Šçš„æ–¹æ³•æˆ–å±æ€§ï¼Œæ˜¯æ— æ³•é€šè¿‡superè°ƒç”¨çš„ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839//1ã€åœ¨æ™®é€šæ–¹æ³•ä¸­class A &#123; p() &#123; return 2; &#125;&#125;class B extends A &#123; constructor() &#123; super(); console.log(super.p()); // 2 &#125;&#125;let b = new B();class Parent &#123; static myMethod(msg) &#123; console.log('static', msg); &#125; myMethod(msg) &#123; console.log('instance', msg); &#125;&#125;class Child extends Parent &#123; static myMethod(msg) &#123; super.myMethod(msg); &#125; myMethod(msg) &#123; super.myMethod(msg); &#125;&#125;Child.myMethod(1); // static 1var child = new Child();child.myMethod(2); // instance 2 ç±»çš„ prototype å±æ€§å’Œprotoå±æ€§ES5 ä¸­ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰protoå±æ€§ï¼ŒæŒ‡å‘å¯¹åº”çš„æ„é€ å‡½æ•°çš„prototypeå±æ€§ã€‚Class ä½œä¸ºæ„é€ å‡½æ•°çš„è¯­æ³•ç³–ï¼ŒåŒæ—¶æœ‰prototypeå±æ€§å’Œprotoå±æ€§ï¼Œå› æ­¤åŒæ—¶å­˜åœ¨ä¸¤æ¡ç»§æ‰¿é“¾ã€‚1ã€å­ç±»çš„protoå±æ€§ï¼Œè¡¨ç¤ºæ„é€ å‡½æ•°çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»ã€‚2ã€å­ç±»prototypeå±æ€§çš„protoå±æ€§ï¼Œè¡¨ç¤ºæ–¹æ³•çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»çš„prototypeå±æ€§ã€‚ 12345678class A &#123;&#125;class B extends A &#123;&#125;B.__proto__ === A // trueB.prototype.__proto__ === A.prototype // true å®ä¾‹çš„ proto å±æ€§1ã€å­ç±»å®ä¾‹çš„protoå±æ€§çš„protoå±æ€§ï¼ŒæŒ‡å‘çˆ¶ç±»å®ä¾‹çš„protoå±æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå­ç±»çš„åŸå‹çš„åŸå‹ï¼Œæ˜¯çˆ¶ç±»çš„åŸå‹ã€‚2ã€é€šè¿‡å­ç±»å®ä¾‹çš„proto.protoå±æ€§ï¼Œå¯ä»¥ä¿®æ”¹çˆ¶ç±»å®ä¾‹çš„è¡Œä¸ºã€‚ 12345p2.__proto__.__proto__.printName = function () &#123; console.log(&apos;Ha&apos;);&#125;;p1.printName() // &quot;Ha&quot; ğŸŒ´ SymbolES6 æ•°æ®ç±»å‹é™¤äº† Number ã€ String ã€ Boolean ã€ Objectã€ null å’Œ undefined ï¼Œè¿˜æ–°å¢äº† Symbol ã€‚ åŸºæœ¬ç”¨æ³•Symbol å‡½æ•°æ ˆä¸èƒ½ç”¨ new å‘½ä»¤ï¼Œå› ä¸º Symbol æ˜¯åŸå§‹æ•°æ®ç±»å‹ï¼Œä¸æ˜¯å¯¹è±¡ã€‚å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œä¸ºæ–°åˆ›å»ºçš„ Symbol æä¾›æè¿°ï¼Œç”¨æ¥æ˜¾ç¤ºåœ¨æ§åˆ¶å°æˆ–è€…ä½œä¸ºå­—ç¬¦ä¸²çš„æ—¶å€™ä½¿ç”¨ï¼Œä¾¿äºåŒºåˆ†ã€‚","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"ES6","slug":"ES6","permalink":"http://xdd7130.github.io/tags/ES6/"}]},{"title":"vue","slug":"vue","date":"2020-10-25T11:18:34.000Z","updated":"2022-11-02T11:15:20.677Z","comments":true,"path":"2020/10/25/vue/","link":"","permalink":"http://xdd7130.github.io/2020/10/25/vue/","excerpt":"","text":"ç”Ÿå‘½å‘¨æœŸé’©å­Vueå®ä¾‹ä»åˆ›å»ºåˆ°é”€æ¯çš„è¿‡ç¨‹ï¼Œç”Ÿå‘½å‘¨æœŸåˆ†ä¸º8ä¸ªè¿‡ç¨‹ï¼šåˆ›å»ºå‰ï¼Œåˆ›å»ºåï¼ŒæŒ‚è½½å‰ï¼ŒæŒ‚è½½åï¼Œæ›´æ–°å‰ï¼Œæ›´æ–°åï¼Œé”€æ¯å‰ï¼Œé”€æ¯åã€‚ beforeCreate:åˆå§‹åŒ–vueå®ä¾‹ï¼Œè¿›è¡Œæ•°æ®è§‚æµ‹ï¼Œå‘ç”Ÿåœ¨å®ä¾‹å¯¹è±¡åˆ›å»ºä¹‹å‰ï¼Œä¸€èˆ¬æ¥å®ç°åŠ è½½åŠ¨ç”»ç­‰ã€‚ created:ç»„ä»¶åˆ›å»ºï¼Œå±æ€§è¢«ç»‘å®šï¼Œä½†DOMè¿˜æ²¡ç”Ÿæˆï¼Œä¸€èˆ¬åœ¨è¿™ä¸ªé˜¶æ®µè¿›è¡Œè¯·æ±‚ã€è·å–æ•°æ®ï¼Œèµ‹ç»™å±æ€§ç­‰ã€‚ å®Œæˆæ•°æ®è§‚æµ‹ï¼Œå±æ€§ä¸æ–¹æ³•çš„è¿ç®—ï¼Œwatchã€eventäº‹ä»¶å›è°ƒçš„é…ç½® å¯è°ƒç”¨methodsä¸­çš„æ–¹æ³•ï¼Œè®¿é—®å’Œä¿®æ”¹dataæ•°æ®è§¦å‘å“åº”å¼æ¸²æŸ“domï¼Œå¯é€šè¿‡computedå’Œwatchå®Œæˆæ•°æ®è®¡ç®— æ­¤æ—¶vm.$el å¹¶æ²¡æœ‰è¢«åˆ›å»º ä¸€èˆ¬åœ¨createdä¸­è¿›è¡Œajaxè¯·æ±‚ created -&gt; beforeMount: åˆ¤æ–­æ˜¯å¦å­˜åœ¨elé€‰é¡¹ï¼Œè‹¥ä¸å­˜åœ¨åˆ™åœæ­¢ç¼–è¯‘ï¼Œç›´åˆ°è°ƒç”¨vm.$mount(el)æ‰ä¼šç»§ç»­ç¼–è¯‘ è‹¥å­˜åœ¨elï¼Œåˆ™åˆ¤æ–­æ˜¯å¦å­˜åœ¨templateï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™å°†templateç¼–è¯‘æˆrenderå‡½æ•°ï¼›è‹¥ä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥ç¼–è¯‘elæ‰€å¯¹åº”çš„å¤–éƒ¨html å¦‚æœå­˜åœ¨renderå‡½æ•°ï¼Œåˆ™é¦–å…ˆå¯¹å…¶è¿›è¡Œç¼–è¯‘ æ­¤è¿‡ç¨‹ä¸­vm.elè¢«å®ä¾‹åŒ–ä¸ºelé€‰é¡¹å¯¹åº”DOMå…ƒç´ ï¼Œæ‰€ä»¥åœ¨beforeMountä¸­ï¼Œç”¨vm.elè·å–åˆ°çš„æ˜¯æŒ‚è½½DOMçš„HTMLä¼˜å…ˆçº§ï¼š render &gt; template &gt; outerHTML beforeMount: åœ¨æ­¤é˜¶æ®µå¯è·å–åˆ°vm.el æ­¤é˜¶æ®µvm.elè™½å·²å®ŒæˆDOMåˆå§‹åŒ–ï¼Œä½†å¹¶æœªæŒ‚è½½åœ¨elé€‰é¡¹ä¸Š beforeMount -&gt; mounted:æ­¤é˜¶æ®µvm.elå®ŒæˆæŒ‚è½½ï¼Œvm.$elç”Ÿæˆçš„DOMæ›¿æ¢äº†elé€‰é¡¹æ‰€å¯¹åº”çš„DOM mounted:ç¼–è¯‘å®Œæˆé¡µé¢æ˜¾ç¤ºï¼Œæœ‰äº›ä¸œè¥¿éœ€è¦åœ¨é¡µé¢æ˜¾ç¤ºä¹‹åå†æ“ä½œçš„ï¼Œåº”åœ¨mountedæ–¹æ³•é˜¶æ®µã€‚ beforeUpdate:å®ä¾‹æ›´æ–°ä¹‹å‰ã€‚ updated:å®ä¾‹æ›´æ–°ä¹‹åã€‚ beforeDestroy:å®ä¾‹é”€æ¯ä¹‹å‰ã€‚ destroyed:å®ä¾‹é”€æ¯ä¹‹åã€‚ è·¯ç”±å¯¼èˆªå®ˆå« å¯¼èˆªå®ˆå«å°±æ˜¯è·¯ç”±è·³è½¬è¿‡ç¨‹ä¸­çš„ä¸€äº›é’©å­å‡½æ•°ï¼Œè·¯ç”±è·³è½¬çš„è¿‡ç¨‹åˆ†ä¸ºè·³è½¬å‰ä¸­åç­‰ç­‰ç»†å°çš„è¿‡ç¨‹ï¼Œåœ¨æ¯ä¸€ä¸ªè¿‡ç¨‹ä¸­éƒ½æœ‰ä¸€å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°èƒ½è®©ä½ æ“ä½œä¸€äº›å…¶ä»–çš„äº‹å„¿ï¼Œè¿™å°±æ˜¯å¯¼èˆªå®ˆå«ï¼Œç±»ä¼¼äºä¸Šé¢çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ã€‚ å¾…è¡¥å……ã€‚ã€‚ã€‚ã€‚","categories":[{"name":"Vue","slug":"Vue","permalink":"http://xdd7130.github.io/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://xdd7130.github.io/tags/Vue/"}]},{"title":"é‡åˆ°çš„é—®é¢˜","slug":"é‡åˆ°çš„é—®é¢˜","date":"2020-10-14T01:36:25.000Z","updated":"2022-11-02T11:15:20.746Z","comments":true,"path":"2020/10/14/é‡åˆ°çš„é—®é¢˜/","link":"","permalink":"http://xdd7130.github.io/2020/10/14/é‡åˆ°çš„é—®é¢˜/","excerpt":"","text":"ğŸ˜®é—®é¢˜ä¸€ï¼šArcGISæœåŠ¡çªç„¶å¯åŠ¨ä¸äº†ç—‡çŠ¶ğŸ˜·ç—‡çŠ¶ä¸€ï¼šæ‰€æœ‰çš„ArcGISæœåŠ¡ç”¨ä¸äº†ï¼Œå¯åŠ¨ArcGIS Serveråï¼Œä¼šç«‹åˆ»åœæ‰.ç—‡çŠ¶äºŒï¼šArcgis Desktopè¿æ¥GIS ServersæŠ¥é”™â€œProxy server got bad address from remote server â€¦â€ç—‡çŠ¶ä¸‰ï¼šæ‰“å¼€é”™è¯¯æ—¥å¿—ï¼Œå¦‚ä¸‹é”™è¯¯ï¼š 1234567891011java.lang.ExceptionInInitializerError at com.esri.arcgis.discovery.admin.SiteManager.getInstance(SiteManager.java:374) at com.esri.arcgis.discovery.admin.plugins.ServerConfigObserver.beforeStart(ServerConfigObserver.java:80) at com.esri.arcgis.discovery.nodeagent.impl.ObserverManager.beforeStart(ObserverManager.java:146) at com.esri.arcgis.discovery.nodeagent.impl.NodeAgent.c(NodeAgent.java:245) at com.esri.arcgis.discovery.nodeagent.impl.NodeAgent.start(NodeAgent.java:137) at com.esri.arcgis.discovery.nodeagent.impl.Main.start(Main.java:56)Caused by: java.lang.RuntimeException: Could not create directory path 'D:\\arcgisserver\\config-store'. This is required to maintain the Site configuration. Please check that the location is valid and that the ArcGIS Server account has permissions to the location. at com.esri.arcgis.discovery.admin.SiteManager.&lt;init&gt;(SiteManager.java:242) at com.esri.arcgis.discovery.admin.SiteManager.&lt;init&gt;(SiteManager.java:153) at com.esri.arcgis.discovery.admin.SiteManager$i_.&lt;clinit&gt;(SiteManager$i_.java:363) ä»ä»¥ä¸Šç—‡çŠ¶ï¼Œæˆ‘ä»¬å‘ç°äº†é—®é¢˜æ‰€åœ¨ï¼Œå³æ–‡ä»¶å¤¹â€™D:\\arcgisserver\\config-storeâ€™çš„æƒé™é—®é¢˜ï¼Œäºæ˜¯å›æƒ³æˆ‘ä¹‹å‰æ˜¯å¦æ”¹è¿‡æƒé™ï¼Œä¹‹å‰æˆ‘åˆ æ‰äº†Usersç»„æˆ–ç”¨æˆ·åã€‚ è§£å†³åŠæ³•ğŸ’Šå®‰å…¨-æ·»åŠ -é«˜çº§-ç«‹å³æŸ¥æ‰¾-é€‰æ‹©â€œusersâ€-ç¡®å®šã€‚æ·»åŠ ä¸»ä½“Usersåï¼ŒArcGIS Serverä¾¿å¯æ¢å¤ï¼Œå¦‚å›¾ï¼š ğŸ˜®é—®é¢˜äºŒ:Sql Serveræ•°æ®åº“å¯†ç è¿‡æœŸç—‡çŠ¶ğŸ˜·ç—‡çŠ¶ä¸€ï¼šæŸå°æœåŠ¡å™¨ä¸Šçš„æ¥å£çªç„¶æ— æ³•ä½¿ç”¨ï¼ŒæŠ¥é”™500ï¼›ç—‡çŠ¶äºŒï¼šSQL Serveræ•°æ®åº“,saç”¨æˆ·ç™»å½•ä¸ä¸Šï¼Œé”™è¯¯å¦‚å›¾ï¼š ä»¥ä¸Šç—‡çŠ¶è¯´æ˜ï¼šsaå¯†ç é”™è¯¯ï¼Œæˆ‘ä»¬è®¾å®šçš„å¯†ç è¿‡æœŸäº†ã€‚ è§£å†³åŠæ³•ğŸ’Šå¸¸è§„åŠæ³•è§£å†³å¦‚ä¸‹æ­¥éª¤ï¼š1ã€ä»¥windowséªŒè¯æ¨¡å¼è¿›å…¥æ•°æ®åº“ç®¡ç†å™¨2ã€å³é”®æ•°æ®åº“æœåŠ¡å™¨åï¼Œé€‰æ‹©ã€å±æ€§ã€‘3ã€æ‰“å¼€â€œæœåŠ¡å™¨å±æ€§â€çª—å£ï¼Œé€‰æ‹©ã€å®‰å…¨æ€§ã€‘ï¼Œæ›´æ”¹â€œæœåŠ¡å™¨èº«ä»½éªŒè¯â€4ã€å±•å¼€æ•°æ®åº“æœåŠ¡å™¨åâ€”â€œå®‰å…¨æ€§â€â€”â€œç™»å½•åâ€ï¼Œ å³é”®â€œsaâ€ç”¨æˆ·ï¼Œé€‰æ‹©ã€å±æ€§ã€‘5ã€æ‰“å¼€â€œç™»å½•å±æ€§â€çª—å£ï¼Œé€‰æ‹©ã€å¸¸è§„ã€‘ï¼Œè®¾ç½®å¯†ç 6ã€ä»ç„¶åœ¨â€œç™»å½•å±æ€§â€çª—å£ï¼Œé€‰æ‹©ã€çŠ¶æ€ã€‘ï¼Œé€‰æ‹©â€œç™»å½•â€ä¸‹é¢çš„ã€å·²å¯ç”¨ã€‘7ã€å³é”®æ•°æ®åº“æœåŠ¡å™¨åï¼Œé€‰æ‹©ã€é‡æ–°å¯åŠ¨ã€‘8ã€ç°åœ¨å¯ä»¥ä½¿ç”¨SQL Serverèº«ä»½éªŒè¯æˆåŠŸç™»å½•äº†ã€‚ä»¥ä¸ŠåŠæ³•è®¾ç½®çš„å¯†ç ä»ä¼šè¿‡æœŸï¼Œæ‰§è¡Œä¸‹é¢è„šæœ¬é‡å¯æœåŠ¡ä¾¿å¯å½»åº•è§£å†³ï¼š1ALTER LOGIN sa WITH PASSWORD = '&lt;password&gt;' unlock, check_policy = off, check_expiration = off;","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"http://xdd7130.github.io/categories/å…¶ä»–/"}],"tags":[{"name":"PROBLEM","slug":"PROBLEM","permalink":"http://xdd7130.github.io/tags/PROBLEM/"}]},{"title":"Node.jséƒ¨ç½²åˆ°IISæœåŠ¡å™¨","slug":"nodeéƒ¨ç½²åˆ°IISæœåŠ¡å™¨","date":"2020-09-25T07:00:31.000Z","updated":"2022-11-02T11:15:20.579Z","comments":true,"path":"2020/09/25/nodeéƒ¨ç½²åˆ°IISæœåŠ¡å™¨/","link":"","permalink":"http://xdd7130.github.io/2020/09/25/nodeéƒ¨ç½²åˆ°IISæœåŠ¡å™¨/","excerpt":"","text":"ä½¿ç”¨iisnodeæ¨¡å—åœ¨IISä¸­æ‰˜ç®¡node.jsåº”ç”¨ç¨‹åºæ¥å–ä»£è‡ªæ‰˜ç®¡node.exeè¿›ç¨‹ï¼š èµ·å› ï¼šæœåŠ¡å™¨çš„ipåªæœ‰80ç«¯å£å¯¹å¤–å¼€æ”¾ã€‚ä½†æ˜¯æˆ‘ä»¬node app.jsåï¼Œå¤–ç½‘è®¿é—®ä¸åˆ°ï¼Œä¸ºäº†èƒ½å¤Ÿè§£å†³æ­¤é—®é¢˜ï¼Œå°†nodejséƒ¨ç½²åˆ°iisæœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·æ—¢å¯ä»¥è§£å†³è‡ªåŠ¨é€€å‡ºé—®é¢˜ï¼Œä¹Ÿå¯å…±äº«80ç«¯å£ã€‚ ä¾èµ–é¡¹ Node.js URL rewrite IISNode åˆ›å»ºweb.configæ–‡ä»¶ï¼ˆexpressï¼‰1234567891011121314151617181920212223242526272829303132&lt;configuration&gt; &lt;system.webServer&gt; &lt;!-- indicates that the hello.js file is a node.js application to be handled by the iisnode module --&gt; &lt;handlers&gt; &lt;add name=\"iisnode\" path=\"app.js\" verb=\"*\" modules=\"iisnode\" /&gt; &lt;/handlers&gt; &lt;!-- use URL rewriting to redirect the entire branch of the URL namespace to app.js node.js application; for example, the following URLs will all be handled by app.js: http://localhost/foo http://localhost/bar --&gt; &lt;rewrite&gt; &lt;rules&gt; &lt;rule name=\"api\"&gt; &lt;match url=\"api/*\" /&gt; &lt;action type=\"Rewrite\" url=\"app.js\" /&gt; &lt;/rule&gt; &lt;/rules&gt; &lt;/rewrite&gt; &lt;!-- exclude node_modules directory and subdirectories from serving by IIS since these are implementation details of node.js applications --&gt; &lt;security&gt; &lt;requestFiltering&gt; &lt;hiddenSegments&gt; &lt;add segment=\"node_modules\" /&gt; &lt;/hiddenSegments&gt; &lt;/requestFiltering&gt; &lt;/security&gt; &lt;/system.webServer&gt;&lt;/configuration&gt; NodeæœåŠ¡çš„ä¿®æ”¹1index.jsä¸­ç«¯å£ç›‘å¬ç”± server.listen(3000) æ”¹æˆ server.listen(process.env.PORT) å®Œæ•´app.js1234567891011121314151617181920212223242526272829const userApi = require('./api/userApi');const fs = require('fs');const path = require('path');const bodyParser = require('body-parser');const express = require('express');const app = express();app.all('*', function(req, res, next) &#123; res.header(\"Access-Control-Allow-Credentials\", \"true\"); res.header('Access-Control-Allow-Origin', '*'); res.header('Access-Control-Allow-Headers', 'Content-Type, Content-Length, Authorization, Accept, X-Requested-With,loginedtoken'); res.header('Access-Control-Allow-Methods', 'PUT, POST, GET, DELETE, OPTIONS'); if (req.method == 'OPTIONS') &#123; res.send(200); &#125; else &#123; next(); &#125;&#125;);var history = require('connect-history-api-fallback');const staticFileMiddleware = express.static('assets');app.use(staticFileMiddleware);app.use(history(&#123; disableDotRule: true, verbose: true&#125;));app.use(bodyParser.json());app.use(bodyParser.urlencoded(&#123; extended: true &#125;))app.use('/node_yrd/api', userApi);app.listen(process.env.PORT); Vueè¯·æ±‚åœ°å€çš„ä¿®æ”¹12345var isPro = process.env.NODE_ENV === 'production' //process.env.NODE_ENVç”¨äºåŒºåˆ†æ˜¯ç”Ÿäº§ç¯å¢ƒè¿˜æ˜¯å¼€å‘ç¯å¢ƒ//æ ¹æ®ç¯å¢ƒä¸åŒå¯¼å‡ºä¸åŒçš„baseURLmodule.exports = &#123; baseURL: isPro ? 'http://***.***.com/' : ''&#125; åˆ›å»ºæ·»åŠ åº”ç”¨ç¨‹åºå¦‚å›¾","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"http://xdd7130.github.io/categories/å…¶ä»–/"}],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://xdd7130.github.io/tags/Node-js/"},{"name":"IISæœåŠ¡å™¨","slug":"IISæœåŠ¡å™¨","permalink":"http://xdd7130.github.io/tags/IISæœåŠ¡å™¨/"}]},{"title":"Cesium","slug":"Cesium","date":"2020-07-01T06:16:35.000Z","updated":"2022-11-02T11:15:20.538Z","comments":true,"path":"2020/07/01/Cesium/","link":"","permalink":"http://xdd7130.github.io/2020/07/01/Cesium/","excerpt":"","text":"3dtilesæ–‡ä»¶æ”¾åœ¨iisæœåŠ¡å™¨1ã€ç›®å½•ä¸‹ï¼Œæ·»åŠ åº”ç”¨ç¨‹åº2ã€é…ç½®iisçš„mimeå¤´ï¼Œé˜²æ­¢b3dmè¯·æ±‚è·¨åŸŸï¼š.b3dm application/octet-stream é—®é¢˜1ã€vueè·¨åŸŸï¼šconfigç›®å½•ä¸‹çš„index.js:proxyTable.2ã€â€œè¯·æ±‚ç­›é€‰æ¨¡å—è¢«é…ç½®ä¸ºæ‹’ç»åŒ…å«åŒé‡è½¬ä¹‰åºåˆ—çš„è¯·æ±‚ã€‚â€ï¼Œåœ¨äº›URLä¸­è‹¥åŒ…å«+å·ç­‰ç¬¦å·ï¼Œç„¶åIIS7ä»¥ä¸Šçš„ç‰ˆæœ¬ä¼šé»˜è®¤æ‹’ç»è¯·æ±‚æ­¤URLï¼Œéœ€è¦è¿›è¡Œå¦‚ä¸‹çš„ä¿®æ”¹. 12345&lt;system.webServer&gt;&lt;security&gt;&lt;requestFiltering allowDoubleEscaping=\"true\"/&gt;&lt;/security&gt;&lt;/system.webServer&gt; viewer.scene.globe.undergroundColor ä¸åŒç‰ˆæœ¬ï¼Œæœ‰ä¼˜åŒ–ï¼Œåœ¨1.68,globeæ— undergroundColorå±æ€§ï¼Œ1.71ç‰ˆæœ¬æœ‰ï¼Œå¯è‡ªå®šä¹‰è®¾ç½®ã€‚ ä¸‰ç»´é‡åˆ°çš„é—®é¢˜ï¼ˆ20200709ï¼‰ï¼š1.arcScence:å¯¼å‡ºçš„æ˜¯wrlæ–‡ä»¶ï¼Œcesiumä¸æ”¯æŒå¯è§†åŒ–ï¼Œè¿˜æ²¡æ‰¾åˆ°å¯ä»¥æ–‡ä»¶è½¬æ¢çš„æ–¹æ³•ã€‚2.evs:å¯¼å‡ºçš„ä¹Ÿæ˜¯wrlæ–‡ä»¶ï¼Œå‘µå‘µ3.arcgis Pro:å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å‘å¸ƒæœåŠ¡ï¼Œä½†æ˜¯ï¼Œéœ€è¦æ³¨å†Œå®‰è£…ï¼Œè¯•ç”¨æœŸ21å¤©ï¼Œéœ€è´­ä¹°ã€‚4.openGeoSys:å¼€æºï¼Œæ–‡ä»¶è¾“å‡ºçš„vtkæ ¼å¼ï¼Œcesiumå®ç°å¯è§†åŒ–ï¼Œä½†ä¸“ä¸šï¼Œéœ€è¿›ä¸€æ­¥å­¦ä¹ ã€‚","categories":[{"name":"Cesium","slug":"Cesium","permalink":"http://xdd7130.github.io/categories/Cesium/"}],"tags":[{"name":"Cesium","slug":"Cesium","permalink":"http://xdd7130.github.io/tags/Cesium/"}]},{"title":"SVG","slug":"SVG","date":"2020-07-01T06:16:35.000Z","updated":"2025-02-15T04:02:15.962Z","comments":true,"path":"2020/07/01/SVG/","link":"","permalink":"http://xdd7130.github.io/2020/07/01/SVG/","excerpt":"","text":"1. å¯ç¼©æ”¾çŸ¢é‡å›¾å½¢ Scalable Vector Graphics SVGä»€ä¹ˆæ˜¯SVGSVG æŒ‡å¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢ (Scalable Vector Graphics)SVG ç”¨æ¥å®šä¹‰ç”¨äºç½‘ç»œçš„åŸºäºçŸ¢é‡çš„å›¾å½¢SVG ä½¿ç”¨ XML æ ¼å¼å®šä¹‰å›¾å½¢SVG å›¾åƒåœ¨æ”¾å¤§æˆ–æ”¹å˜å°ºå¯¸çš„æƒ…å†µä¸‹å…¶å›¾å½¢è´¨é‡ä¸ä¼šæœ‰æ‰€æŸå¤±SVG æ˜¯ä¸‡ç»´ç½‘è”ç›Ÿçš„æ ‡å‡†SVG ä¸è¯¸å¦‚ DOM å’Œ XSL ä¹‹ç±»çš„ W3C æ ‡å‡†æ˜¯ä¸€ä¸ªæ•´ä½“ ç‰¹ç‚¹åŠä¼˜åŠ¿SVG å¯è¢«éå¸¸å¤šçš„å·¥å…·è¯»å–å’Œä¿®æ”¹ï¼ˆæ¯”å¦‚è®°äº‹æœ¬ï¼‰SVG ä¸ JPEG å’Œ GIF å›¾åƒæ¯”èµ·æ¥ï¼Œå°ºå¯¸æ›´å°ï¼Œä¸”å¯å‹ç¼©æ€§æ›´å¼ºã€‚SVG å›¾åƒå¯åœ¨ä»»ä½•çš„åˆ†è¾¨ç‡ä¸‹è¢«é«˜è´¨é‡åœ°æ‰“å°SVG å¯åœ¨å›¾åƒè´¨é‡ä¸ä¸‹é™çš„æƒ…å†µä¸‹è¢«æ”¾å¤§SVG å›¾åƒä¸­çš„æ–‡æœ¬æ˜¯å¯é€‰çš„ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¯æœç´¢çš„ï¼ˆå¾ˆé€‚åˆåˆ¶ä½œåœ°å›¾ï¼‰ ä½¿ç”¨æ–¹å¼åœ¨æµè§ˆå™¨ç›´æ¥æ‰“å¼€xml æ˜¯æµè§ˆå™¨èƒ½è¯»å–çš„æ ¼å¼ï¼Œä½†å¦‚æœå¸Œæœ› svg èƒ½åœ¨æµè§ˆå™¨ä¸­æ¸²æŸ“å‡ºæ¥ï¼Œéœ€è¦ä½¿ç”¨ xmlns å£°æ˜æ¸²æŸ“è§„åˆ™ã€‚æ‰€ä»¥å¿…é¡»ä½¿ç”¨ xmlns=â€http://www.w3.org/2000/svg&quot;ã€‚ å†…åµŒåˆ°HTMLä¸­ï¼šï¼Œ æ ‡ç­¾å¹¶æ²¡æœ‰ä½¿ç”¨ xmlns=â€http://www.w3.org/2000/svg&quot; å£°æ˜å‘½åç©ºé—´ï¼Œè¿™æ˜¯å› ä¸º HTML 5 æ–‡æ¡£ä½¿ç”¨ &lt;!DOCTYPE html&gt; æ ‡è®°ï¼Œå®ƒå…è®¸è·³è¿‡ SVG å‘½åç©ºé—´å£°æ˜ï¼ŒHTML è§£æå™¨ä¼šè‡ªåŠ¨è¯†åˆ« SVG å…ƒç´ å’Œå®ƒçš„å­å…ƒç´ åœ¨cssèƒŒæ™¯å›¾ä¸­ä½¿ç”¨ ä½¿ç”¨imgæ ‡ç­¾å¼•å…¥åæ ‡å®šä½å’Œcanvasä¸€æ ·ï¼ŒSvgä»¥é¡µé¢çš„å·¦ä¸Šè§’ä¸º (0,0) åæ ‡ç‚¹ï¼Œå®ƒçš„é»˜è®¤åæ ‡ä»¥åƒç´ ä¸ºå•ä½ï¼Œx è½´æ­£æ–¹å‘æ˜¯å‘å³ï¼Œy è½´æ­£æ–¹å‘æ˜¯å‘ä¸‹ï¼›å¦‚ï¼Œè¿™é‡Œå®šä¹‰çš„ç”»å¸ƒå°ºå¯¸æ˜¯ 200200pxã€‚ä½†æ˜¯ï¼ŒviewBox å±æ€§å®šä¹‰äº†ç”»å¸ƒä¸Šå¯ä»¥æ˜¾ç¤ºçš„åŒºåŸŸï¼šä» (0,0) ç‚¹å¼€å§‹ï¼Œ100 å®½100 é«˜çš„åŒºåŸŸã€‚è¿™ä¸ª 100100 çš„åŒºåŸŸï¼Œä¼šæ”¾åˆ° 200200 çš„ç”»å¸ƒä¸Šæ˜¾ç¤ºã€‚äºæ˜¯å°±å½¢æˆäº†æ”¾å¤§ä¸¤å€çš„æ•ˆæœã€‚ å…ƒç´ è§é“¾æ¥ : å…ƒç´  defs, use, g, symbolg æ˜¯groupï¼ˆåˆ†ç»„ï¼‰çš„ç¼©å†™ã€‚gå…ƒç´ é€šå¸¸ç”¨æ¥å¯¹ç›¸å…³å›¾å½¢å…ƒç´ è¿›è¡Œåˆ†ç»„ï¼Œä»¥ä¾¿ç»Ÿä¸€æ“ä½œï¼Œæ¯”å¦‚æ—‹è½¬ï¼Œç¼©æ”¾æˆ–è€…æ·»åŠ ç›¸å…³æ ·å¼ç­‰ã€‚defs é‡ç”¨å·²å­˜å‚¨å…ƒç´ , åˆ†ç»„å®šä¹‰çš„å†…å®¹ç›´æ¥ä¼šæ˜¾ç¤ºï¼Œæ‰€ä»¥defsåœ¨ä½¿ç”¨çš„æ—¶å€™ä¼šæœ‰æ›´å¤§çš„çµæ´»æ€§; use ç”¨çš„æ˜¯è¿™äº› tag çš„ idï¼Œè€Œé defs;defs æ˜¯ä¸ªå£°æ˜å—ï¼Œå£°æ˜å—æœ¬èº«æ²¡å•¥é‡ç”¨æ„ä¹‰ï¼Œå…¶å†…å®šä¹‰å¯è¢«é‡ç”¨çš„å†…å®¹é›†åˆï¼Œé‡ç”¨çš„æ˜¯è¯¥é›†åˆä¸­çš„ä¸€é¡¹æˆ–å¤šé¡¹ï¼ŒåŸæ ·çš„æ‹¿è¿‡æ¥åœ¨ä¸åŒä½ç½®ä¸‹å‘ˆç°symbol å…¼å…·gçš„åˆ†ç»„åŠŸèƒ½å’Œdefsåˆå§‹ä¸å¯è§çš„ç‰¹æ€§,èƒ½å¤Ÿåˆ›å»ºè‡ªå·±çš„è§†çª—,symbol å¯ä»¥è®¾å®š width heightuse å¤ç”¨; å®ç°SVGç°æœ‰å›¾å½¢çš„å¤ç”¨ï¼Œå¯ä»¥å¤ç”¨å•ä¸ªSVGå›¾å½¢å…ƒç´ ï¼Œä¹Ÿå¯ä»¥å¤ç”¨gå®šä¹‰çš„ç»„å…ƒç´  å±æ€§æ‰€æœ‰ SVG æ˜¾ç¤ºå±æ€§éƒ½å¯ä»¥ä½œä¸º CSS å±æ€§æ¥ä½¿ç”¨ åŠ¨ç”»SMIL é©±åŠ¨SMILæ˜¯Synchronized Multimedia Integration Languageï¼ˆåŒæ­¥å¤šåª’ä½“é›†æˆè¯­è¨€ï¼‰çš„é¦–å­—æ¯ç¼©å†™ç®€ç§°ï¼Œæ˜¯ä¸€ç§æ ‡å‡†ã€‚SVGå€Ÿé‰´äº†è¿™ç§æ ‡å‡†ç”¨: Set, animate, animateColor, animateTransform, animateMotionå…ƒç´ å®ç°åŠ¨ç”» JavaScript é©±åŠ¨ä¸€èˆ¬åº”ç”¨jsæ“ä½œå±æ€§å®ç° CSS é©±åŠ¨ä½¿ç”¨ css @keyframes animationName å®šä¹‰åŠ¨ç”» é€‰æ‹©å“ªä¸ª? å»ºè®®å°†CSSåŠ¨ç”»ç”¨äºæ— å˜å½¢çš„è¿‡æ¸¡æˆ–ç®€å•åŠ¨ç”»ã€‚å°¤å…¶æ˜¯åœ¨ç¡¬ä»¶åŠ é€Ÿæ—¶ã€‚CSSä¸éœ€è¦åŠ è½½å…¶ä»–èµ„æºï¼ˆä¸€èˆ¬æŒ‡ä¸‰æ–¹åº“ï¼‰ï¼Œå¹¶ä¸”æ‚¬åœæ—¶çš„å°å˜æ¢å¯ä»¥ä¸ºäº¤äº’å¸¦æ¥æ›´å¥½çš„æ•ˆæœã€‚ç‰¹åˆ«æ˜¯å½“ä½ ä¸éœ€è¦3dã€ç‰©ç†ä½“æ„Ÿã€æˆ–è¿›è¡Œå¤§é‡å †å åŠ¨ç”»æ•ˆæœæ—¶å»ºè®®é€‰ç”¨CSSã€‚å¦å¤–ï¼ŒCSSæ–¹ä¾¿è°ƒè¯•ä¹Ÿæ˜¯å¾ˆå¤§çš„ä¸€ä¸ªä¼˜åŠ¿ã€‚å¯¹äºè¾ƒé•¿çš„åŠ¨ç”»ï¼Œå¼€å‘æ—¶ä¼šå˜å¾—éå¸¸å¤æ‚ä¸”éœ€è¦èŠ±ç²¾åŠ›å»è°ƒè¯•ï¼Œè€ŒCSSè°ƒæ•´æ—¶é—´å°ºåº¦å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯å½“ä½ éœ€è¦æ“çºµä¸€äº›ç»†å¾®å¸§æ—¶ï¼Œä¸ªäººè§‰å¾—SMILæ›´åˆé€‚åšæœ‰åºçš„ï¼Œå¤æ‚çš„å †å åŠ¨ç”»ç¾¤çš„åœºæ™¯ã€‚å¯¹äºå˜å½¢çš„åŠ¨ç”»ï¼Œå»ºè®®ä½¿ç”¨SMILæˆ–è€…ç¬¬ä¸‰æ–¹åº“: GSAP, anime.js, D3, Snap.js, SVG.js, Velocity.jsã€‚ æœ¬æ–‡ä»£ç ç¤ºä¾‹: é“¾æ¥","categories":[{"name":"SVG","slug":"SVG","permalink":"http://xdd7130.github.io/categories/SVG/"}],"tags":[{"name":"SVG","slug":"SVG","permalink":"http://xdd7130.github.io/tags/SVG/"}]},{"title":"å…³äºå¤§å±","slug":"å…³äºå¤§å±","date":"2020-04-11T06:57:42.000Z","updated":"2022-11-02T11:15:20.680Z","comments":true,"path":"2020/04/11/å…³äºå¤§å±/","link":"","permalink":"http://xdd7130.github.io/2020/04/11/å…³äºå¤§å±/","excerpt":"","text":"å¾…ç»­ã€‚ã€‚ã€‚","categories":[],"tags":[{"name":"å¤§å±","slug":"å¤§å±","permalink":"http://xdd7130.github.io/tags/å¤§å±/"}]},{"title":"å‰ç«¯å®‰å…¨","slug":"å‰ç«¯å®‰å…¨","date":"2019-11-19T02:43:12.000Z","updated":"2022-11-02T11:15:20.680Z","comments":true,"path":"2019/11/19/å‰ç«¯å®‰å…¨/","link":"","permalink":"http://xdd7130.github.io/2019/11/19/å‰ç«¯å®‰å…¨/","excerpt":"","text":"ğŸŒ¾ ç½‘ç»œå®‰å…¨ğŸŒ¾ é¡µé¢å®‰å…¨è·¨ç«™è„šæœ¬æ”»å‡»XSS åˆ†ç±»å¾…ç»­ã€‚ã€‚ã€‚","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://xdd7130.github.io/tags/å®‰å…¨/"}]},{"title":"vuex+node+express+tokenç™»å½•","slug":"login","date":"2019-09-22T08:38:30.000Z","updated":"2022-11-02T11:15:20.553Z","comments":true,"path":"2019/09/22/login/","link":"","permalink":"http://xdd7130.github.io/2019/09/22/login/","excerpt":"","text":"æ€è·¯1ã€ç¬¬ä¸€æ¬¡ç™»å½•çš„æ—¶å€™ï¼Œå‰ç«¯è°ƒåç«¯çš„ç™»é™†æ¥å£ï¼Œå‘é€ç”¨æˆ·åå’Œå¯†ç  2ã€åç«¯æ”¶åˆ°è¯·æ±‚ï¼ŒéªŒè¯ç”¨æˆ·åå’Œå¯†ç ï¼ŒéªŒè¯æˆåŠŸï¼Œå°±ç»™å‰ç«¯è¿”å›ä¸€ä¸ªtoken 3ã€å‰ç«¯æ‹¿åˆ°tokenï¼Œå°†tokenå­˜å‚¨åˆ°localStorageå’Œvuexä¸­ï¼Œå¹¶è·³è½¬è·¯ç”±é¡µé¢ 4ã€å‰ç«¯æ¯æ¬¡è·³è½¬è·¯ç”±ï¼Œå°±åˆ¤æ–­ localStroage ä¸­æœ‰æ—  token ï¼Œæ²¡æœ‰å°±è·³è½¬åˆ°ç™»å½•é¡µé¢ï¼Œæœ‰åˆ™è·³è½¬åˆ°å¯¹åº”è·¯ç”±é¡µé¢ 5ã€æ¯æ¬¡è°ƒåç«¯æ¥å£ï¼Œéƒ½è¦åœ¨è¯·æ±‚å¤´ä¸­åŠ token 6ã€åç«¯åˆ¤æ–­è¯·æ±‚å¤´ä¸­æœ‰æ— tokenï¼Œæœ‰tokenï¼Œå°±æ‹¿åˆ°tokenå¹¶éªŒè¯tokenï¼ŒéªŒè¯æˆåŠŸå°±è¿”å›æ•°æ®ï¼ŒéªŒè¯å¤±è´¥ï¼ˆä¾‹å¦‚ï¼štokenè¿‡æœŸï¼‰å°±è¿”å›401ï¼Œè¯·æ±‚å¤´ä¸­æ²¡æœ‰tokenä¹Ÿè¿”å›401 7ã€å¦‚æœå‰ç«¯æ‹¿åˆ°çŠ¶æ€ç ä¸º401ï¼Œå°±æ¸…é™¤tokenä¿¡æ¯å¹¶è·³è½¬åˆ°ç™»å½•é¡µé¢ çŸ¥è¯†ç‚¹1ã€è·¯ç”±å®ˆå«å¯¼èˆª2ã€localStorageåŠå…¶ä»–å‰ç«¯å­˜å‚¨ï¼ˆè§åŸºç¡€å‰ç«¯ï¼‰3ã€é˜²æŠ–å’ŒèŠ‚æµï¼ˆtokenè¿‡æœŸï¼‰4ã€åç«¯æ¥å£è°ƒç”¨5ã€node.jsã€mysqlã€gitã€expressã€element-UIã€vuexã€vue-routerã€jsonwebtoken çŸ¥è¯†ç‚¹è§£é‡Šè·¯ç”±å®ˆå«å¯¼èˆªvue-router çš„å¯¼èˆªé’©å­ï¼Œä¸»è¦ç”¨æ¥ä½œç”¨æ˜¯æ‹¦æˆªå¯¼èˆªï¼Œè®©ä»–å®Œæˆè·³è½¬æˆ–å–æ¶ˆã€‚æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥æ¤å…¥è·¯ç”±å¯¼èˆªè¿‡ç¨‹ä¸­ï¼š å…¨å±€å¯¼èˆªå®ˆå«1ã€å…¨å±€å‰ç½®å®ˆå« router.beforeEach(fn)2ã€å…¨å±€çš„è§£æå®ˆå«(ä¸å¸¸ç”¨)3ã€å…¨å±€çš„åç½®å®ˆå« router.afterEach(fn)ï¼ˆå¯ä»¥åšä¸€äº›ç”¨æˆ·å‹å¥½æç¤ºã€ä¸å…¨å±€å‰ç½®å®ˆå«å‚æ•°ç›¸åŒï¼‰ è·¯ç”±ç‹¬äº«å®ˆå«1ã€è·¯ç”±ç‹¬äº«å®ˆå« beforeEnter(to,from,next) ï¼ˆaã€å†™åœ¨è·¯ç”±è¡¨ä¸­çš„å®ˆå«é’©å­ bã€é’ˆå¯¹çš„æ˜¯å’Œå½“å‰è·¯ç”±ç›¸å…³çš„ï¼Œé‚£ä¹ˆå…¶ä»–ä¸ä¹‹ä¸ç›¸å…³çš„è·¯ç”±ï¼Œå®ƒæ˜¯æ— æ³•ç›‘å¬å®ƒçš„å˜åŒ–æƒ…å†µçš„ cã€å¯ç”¨äºç”¨æˆ·æƒé™ç®¡ç† dã€ä¸å…¨å±€å‰ç½®å®ˆå«å‚æ•°ç›¸åŒï¼‰ 1234567891011121314151617181920212223const routes = [ &#123; path: '/', redirect: '/home' &#125;, &#123; path: '/home', component: Home &#125;, &#123; path: '/category', component: Category, beforeEnter ( to,from,next ) &#123; alert('æ‚¨è¦è¿›å…¥å—') next() //ä¸šåŠ¡ï¼š ç”¨æˆ·æƒé™ç®¡ç† &#125; &#125;, &#123; path: '**', redirect: '/error' &#125; ] ç»„ä»¶å†…å®ˆå«1ã€ç»„ä»¶å†…çš„å‰ç½®å®ˆå«beforeRouteEnter((to,from,next)=&gt;{})å¯¼èˆªè¿›å…¥ç»„ä»¶æ—¶ï¼Œè°ƒç”¨å› ä¸ºç»„ä»¶æ­¤æ—¶æ²¡æœ‰åˆ›å»ºï¼Œæ‰€ä»¥æ²¡æœ‰this,thisæ˜¯è®¿é—®ä¸åˆ°çš„ï¼Œå¦‚æœéè¦è®¿é—®this,å¿…é¡»é€šè¿‡ next(vm=&gt;{})è®¿é—®ã€‚ 1234next(vm =&gt; &#123; //vmæŒ‡çš„å°±æ˜¯ç»„ä»¶ const result = JSON.parse(res.data.slice(7,-1)).rp_result.categorys vm.$set(vm.category,'categorys',result) &#125;) 2ã€ç»„ä»¶å†…çš„åç½®å®ˆå«beforeRouteEnter((to,from,next)=&gt;{})(a)ç¦»å¼€ç»„ä»¶æ—¶ï¼Œè°ƒç”¨(b)thisæ˜¯å¯ä»¥è®¿é—®åˆ°1234567891011beforeRouteLeave (to, from, next) &#123; //æˆ‘ä»¬ç°åœ¨å·²ç»è¦ç¦»å¼€è¿™ä¸ªç»„ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªç»„ä»¶èº«ä¸Šçš„æ•°æ®å’Œæ–¹æ³•ç­‰å†…å®¹æˆ‘ä»¬è‚¯å®šå¯ä»¥è·å–åˆ°ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™é‡Œå¯ä»¥ä½¿ç”¨ this if( this.username || this.password)&#123; if( confirm('æ‚¨å·²ç»å¡«å†™ç»“æŸäº†å—?'))&#123; next() &#125;else&#123; next(false) &#125; &#125;else&#123; next() &#125; 3ã€ç»„ä»¶å†…çš„æ›´æ–°å®ˆå«ï¼ˆ è·¯ç”±ä¼ å‚å’Œè·¯ç”±çš„æ¥å‚ ï¼‰ï¼ˆaï¼‰åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨ï¼ˆbï¼‰ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ /foo/:idï¼Œåœ¨ /foo/1 å’Œ /foo/2 ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œï¼ˆcï¼‰ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ Foo ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚ï¼ˆdï¼‰å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ this1234beforeRouteUpdate ( to,from,next ) &#123; //åŠ¨æ€è·¯ç”±ç”¨ console.log('è·¯ç”±æ”¹å˜äº†') next() &#125; æ€»ç»“ 1ã€3ç§ç±»å‹ 7ä¸ªè·¯ç”±ç›‘å¬é’©å­ 2ã€ä¸šåŠ¡ï¼šç›‘å¬æ•´ä¸ªé¡¹ç›®çš„è·¯ç”±å˜åŒ–æƒ…å†µâ€”â€”å…¨å±€çš„å‰ç½®å®ˆå«ç›‘å¬æŸä¸ªè·¯ç”±çš„å˜åŒ–æƒ…å†µâ€”â€”è·¯ç”±çš„ç‹¬äº«å®ˆå«ç›‘å¬çš„è·¯ç”±ç»„ä»¶çš„è·¯ç”±å˜åŒ–æƒ…å†µâ€”â€”ç»„ä»¶å†…çš„å¯¼èˆªå®ˆå« #### å®ä¾‹å®ç°å¾…è¡¥å……ã€‚ã€‚ã€‚","categories":[{"name":"Vue","slug":"Vue","permalink":"http://xdd7130.github.io/categories/Vue/"}],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://xdd7130.github.io/tags/Node-js/"},{"name":"vue","slug":"vue","permalink":"http://xdd7130.github.io/tags/vue/"}]},{"title":"MySQL","slug":"node7","date":"2019-09-11T07:11:01.000Z","updated":"2022-11-02T11:15:20.579Z","comments":true,"path":"2019/09/11/node7/","link":"","permalink":"http://xdd7130.github.io/2019/09/11/node7/","excerpt":"","text":"å‡†å¤‡mysqlå®‰è£…å‚è€ƒï¼šhttps://www.cnblogs.com/laumians-notes/p/9069498.html Navicatæ•°æ®åº“ç®¡ç†å·¥å…·:https://blog.csdn.net/a599174211/article/details/82795658 nodeJSæ“ä½œMySQLnodeJSé»˜è®¤ä¸æ”¯æŒMySQL,éœ€è¦ç¬¬ä¸‰æ–¹å·¥å…·æ¥é©±åŠ¨ï¼Œè¿™é‡Œç”¨mysqlé©±åŠ¨ã€‚ npm install mysql 123456789101112131415const mysql = require('mysql');1.è¿æ¥//createConnection(å“ªå°æœåŠ¡å™¨ï¼Œç”¨æˆ·åï¼Œå¯†ç ï¼Œåº“)var db = mysql.createConnection(host:'localhost',port:'3306',user:'root',password:'123456',database:'my_db',)ï¼›2.æŸ¥è¯¢//query(å¹²å•¥ï¼Œå›è°ƒå‡½æ•°)db.query(\"SELECT * FROM `user_table`;\",(err,data)=&gt;&#123; if(err) console.log('å‡ºé”™äº†'ï¼Œerr) else console.log('æˆåŠŸäº†'ï¼Œdata) console.log(JSON.stringify(data))&#125;); SQLæ ‡å‡†å†™æ³•ï¼š1.å…³é”®å­—å¤§å†™2.åº“ã€è¡¨ã€å­—æ®µéœ€åŠ ä¸Šé¥­å•å¼•å·SQLå››å¤§è¯­å¥ï¼šå¢åˆ æ”¹æŸ¥å¢ï¼šINSERTINSERT INTO è¡¨ï¼ˆå­—æ®µåˆ—è¡¨ï¼‰ VALUES (å€¼åˆ—è¡¨)INSERT INTO user_tableï¼ˆID,username,passwordï¼‰VALUES (0,blue2,987654) VALUES (å€¼åˆ—è¡¨)åˆ ï¼šDELETEæ”¹ï¼šUPDATEæŸ¥ï¼šSELECT","categories":[{"name":"Node","slug":"Node","permalink":"http://xdd7130.github.io/categories/Node/"}],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://xdd7130.github.io/tags/Node-js/"}]},{"title":"jadeã€ejsæ¨¡æ¿åº“","slug":"node6","date":"2019-09-10T08:36:44.000Z","updated":"2022-11-02T11:15:20.571Z","comments":true,"path":"2019/09/10/node6/","link":"","permalink":"http://xdd7130.github.io/2019/09/10/node6/","excerpt":"","text":"æ¨¡æ¿å¼•æ“ï¼šç”Ÿæˆé¡µé¢ ä¸»è¦çš„ï¼š jade-ç ´åå¼ã€ä¾µå…¥å¼ã€å¼ºä¾èµ–ejs-æ¸©å’Œå¼ã€éä¾µå…¥å¼ã€ å¼±ä¾èµ– å®‰è£…jadeæ’ä»¶npm install jade jadeå†™æ³•: æ ¹æ®ç¼©è¿›ï¼Œè§„å®šå±‚çº§ å±æ€§æ”¾åœ¨()é‡Œé¢ï¼Œé€—å·åˆ†éš” aæ ‡ç­¾æ–‡æœ¬å†…å®¹å‰æœ‰ä¸€ä¸ªç©ºæ ¼ styleä¸¤ç§å†™æ³•ï¼šæ™®é€šå±æ€§å†™æ³•;ç”¨jsonã€‚ classä¸¤ç§å†™æ³•:æ™®é€šå±æ€§å†™æ³•;ç”¨æ•°ç»„ã€‚ &amp;attribute jade1.js12345const jade = require('jade');//å­—ç¬¦ä¸²ï¼švar str = jade.render('njfnejrfbjreknve');//æ–‡ä»¶ï¼švar str = jade.renderfile('./views/1.jade',&#123;pertty:true&#125;);console.log(str); 1.jade12345678910111213141516html head style script(src=\"a.js\") link(href='a.css',rel='stylesheet') body div.box div#div1 div(style=\"width:200px;height:200px;\",class=\"aaa bbb\") ul li input(type='text',id=\"test1\") li a(href='http://baidu.com') ç™¾åº¦ li div(style=&#123;width:'200px',height:'200px';&#125;,class=['aaa','bbb']) jadeæ¨¡æ¿åº“é«˜çº§è¯­æ³• è¯†åˆ«å•åŒæ ‡ç­¾ï¼Œè‡ªå®šä¹‰æ ‡ç­¾é»˜è®¤ä¸ºåŒæ ‡ç­¾ã€‚ â€œ|â€æˆ–â€.â€ç”¨æ¥åŸæ ·è¾“å‡ºä¸œè¥¿ã€‚ includeå¼•å…¥æ–‡ä»¶ ä½¿ç”¨å˜é‡ï¼š#{} æˆ–â€=â€ 12345671.js const jade= require('jade'); console.log(jade.renderfile('./view/1.jade',&#123;pretty:true,name:'blue'&#125;))1.jade div æˆ‘çš„åå­—#&#123;name&#125; div=name â€œ-â€œä»£è¡¨ï¼šæˆ‘æ˜¯ä¸€æ®µä»£ç  å¾ªç¯ï¼š 12345678910111.jadehtml head body .for(var i=0;i&lt;arr.length;i++) div=arr[i]1.jsconsole.log(jade.renderfile('./view/1.jade',&#123;pretty:true, arr:['aaa','bbb','ccc']&#125;)) éè½¬ä¹‰ï¼šæ ‡ç­¾åŸæ ·è¾“å‡ºï¼šï¼ 123456789101.jadehtml head body div!=content1.jsconsole.log(jade.renderfile('./view/1.jade',&#123;pretty:true, content:'&lt;h2&gt;mwenfoirefwo&lt;/h2&gt;'&#125;)) ç”Ÿæˆhtmlæ–‡ä»¶ å®‰è£…ejsæ’ä»¶npm install ejs ejs1.js12345678const ejs = require('ejs');var str = ejs.renderfile('./views/1.ejs',&#123;name:'blue'&#125;,function(err,data)&#123; if(err) console.log('ç¼–è¯‘å¤±è´¥') else console.log(data)&#125;);console.log(str); 1.ejs123456789&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt; æˆ‘çš„åå­—å«ï¼š&lt;%= name %&gt;&lt;/body&gt;&lt;/html&gt; ejsæ¨¡æ¿åº“é«˜çº§è¯­æ³• çµæ´»ï¼Œæ”¯æŒå„ç±»å‹æ•°æ® å¾ªç¯ â€œ=â€è½¬ä¹‰è¾“å‡º,â€-â€œéè½¬ä¹‰è¾“å‡º &lt;% include ./a.txt %&gt;","categories":[{"name":"Node","slug":"Node","permalink":"http://xdd7130.github.io/categories/Node/"}],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://xdd7130.github.io/tags/Node-js/"}]},{"title":"æ—¶åºåŠ¨ç”»","slug":"æ—¶åºåŠ¨ç”»","date":"2019-08-23T08:39:42.000Z","updated":"2022-11-02T11:15:20.723Z","comments":true,"path":"2019/08/23/æ—¶åºåŠ¨ç”»/","link":"","permalink":"http://xdd7130.github.io/2019/08/23/æ—¶åºåŠ¨ç”»/","excerpt":"","text":"è¡¥å……1:2019-08-29 å‘å¸ƒæœåŠ¡å‰ï¼Œè®¾ç½®æ—¶åŒº æ•ˆæœå›¾ï¼š æ­¥éª¤ä¸€ï¼šæ•°æ®å‡†å¤‡æ‹–æ‹‰æœºæ•°æ®ï¼šæ—¶é—´2019/6/7 7:59:00-2019/6/713:52:00ç›®æ ‡æ•°æ®ï¼šæ—¶é—´2019/6/7 8:00:00-2019/6/713:52:00 æ³¨æ„ï¼šæ‰€æœ‰çš„æ•°æ®éœ€æ”¾åœ¨åœ°ç†æ•°æ®åº“é‡Œï¼Œå¦åˆ™æ—¥æœŸåçš„æ—¶åˆ†ç§’è¢«è‡ªåŠ¨æˆªå»åˆ é™¤ã€‚ æ­¥éª¤äºŒï¼šåˆ¶å›¾è¡¨è¾¾å°†æ‹–æ‹‰æœºæ•°æ®è½¬ä¸ºåˆ¶å›¾è¡¨è¾¾ï¼Œé‡æ–°ä¸ºRULEIDèµ‹å€¼ï¼Œè¿™é‡Œæˆ‘å…¨èµ‹å€¼ä¸º6ï¼Œä¸èƒ½èµ‹å€¼ä¸º0å“¦ã€‚ç›®æ ‡æ•°æ®çº¿åˆ†ä¸ºäº”ä¸ªç­‰çº§ï¼Œå†è½¬ä¸ºåˆ¶å›¾è¡¨è¾¾ï¼ŒRULEIDæ˜¯å¦é‡æ–°èµ‹å€¼è§†æƒ…å†µè€Œå®šã€‚(èƒ½å¤Ÿæ»¡è¶³æ­¥éª¤å››çš„åˆ†çº§) æ­¥éª¤ä¸‰ï¼šåˆå¹¶mergeå°†ä¸¤ä¸ªåˆ¶å›¾è¡¨è¾¾æ•°æ®åˆå¹¶ã€‚ æ­¥éª¤å››ï¼šåˆ†çº§å°†æ­¥éª¤ä¸‰åˆå¹¶çš„æ–‡ä»¶è¿›è¡Œåˆ†çº§ï¼Œè¿™é‡Œåˆ†ä¸ºå…­çº§ï¼ˆåŒ…æ‹¬æ•´ä¸ªå›¾å±‚ï¼‰ï¼Œå…¶ä¸­ç¬¬å…­çº§ç”¨æ¥æ¸²æŸ“æ‹–æ‹‰æœºç¬¦å·ã€‚ æ­¥éª¤äº”ï¼šå†æ¬¡åˆ¶å›¾è¡¨è¾¾å°†åˆ†çº§åçš„æ–‡ä»¶å†æ¬¡åˆ¶ä½œåˆ¶å›¾è¡¨è¾¾ï¼Œå¯¹ç¬¬å…­çº§è¿›è¡Œç¬¦å·æ¸²æŸ“ã€‚ æ­¥éª¤å…­ï¼šå°†æ–‡ä»¶å¯¼å…¥åˆ°æ•°æ®åº“æ­¥éª¤ä¸ƒï¼šä»æ•°æ®åº“æ‹‰å»æ•°æ®è®¾ç½®timesliderå±æ€§ï¼Œå‘å¸ƒæœåŠ¡æ­¥éª¤å…«ï¼šè°ƒç”¨æœåŠ¡ä½¿ç”¨åŠ¨æ€å›¾å±‚ï¼Œè¦ç´ æœåŠ¡è°ƒç”¨ï¼Œç¬¦å·ä¸æ¸²æŸ“ã€‚ å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt; &lt;meta name=\"viewport\" content=\"initial-scale=1, maximum-scale=1,user-scalable=no\"&gt; &lt;title&gt;Recent Earthquakes&lt;/title&gt; &lt;link rel=\"stylesheet\" href=\"https://js.arcgis.com/3.29/dijit/themes/claro/claro.css\"&gt; &lt;link rel=\"stylesheet\" href=\"https://js.arcgis.com/3.29/esri/css/esri.css\"&gt; &lt;style&gt; html, body &#123; height: 100%; width: 100%; margin: 0; padding: 0; &#125; .dijitBorders&#123; margin:5px 5px 5px 5px; border:solid thin #9CAA9C; -moz-border-radius: 4px; &#125; .labelText&#123; color:#9CAA9C; font-size:12pt; font-family:\"Tahoma\"; margin:5px; &#125; .headerText&#123; color:#9CAA9C; font-size:16pt; font-weight:bold; font-family: \"Tahoma\"; &#125; &lt;/style&gt; &lt;script src=\"https://js.arcgis.com/3.29/\"&gt;&lt;/script&gt; &lt;script&gt; var map,timeExtent; require([ \"esri/map\",\"esri/layers/ArcGISDynamicMapServiceLayer\", \"esri/layers/FeatureLayer\", \"esri/TimeExtent\", \"esri/layers/TimeInfo\", \"esri/renderers/ClassBreaksRenderer\", \"esri/symbols/SimpleMarkerSymbol\", \"esri/symbols/SimpleLineSymbol\", \"esri/dijit/editing/TemplatePicker\", \"esri/dijit/TimeSlider\", \"esri/renderers/TimeClassBreaksAger\", \"esri/renderers/TemporalRenderer\", \"dojo/parser\", \"dojo/_base/array\", \"esri/Color\", \"dojo/dom\", \"dojo/date\", \"dijit/layout/BorderContainer\", \"dijit/layout/ContentPane\", \"dojo/domReady!\" ], function( Map, ArcGISDynamicMapServiceLayer,FeatureLayer, TimeExtent, TimeInfo, ClassBreaksRenderer, SimpleMarkerSymbol, SimpleLineSymbol, TemplatePicker, TimeSlider, TimeClassBreaksAger, TemporalRenderer, parser, arrayUtils, Color, dom, date ) &#123; parser.parse(); map = new Map(\"map\", &#123; basemap: \"satellite\", center: [114.0143, 34.11075], slider: false, zoom:15 &#125;); //è¾¹ç•Œ var research_scope = new ArcGISDynamicMapServiceLayer(\"http://localhost:6080/arcgis/rest/services/Henan_S/research_scope1/MapServer\",&#123;\"id\":\"100000\"&#125;); map.on(\"load\", mapLoaded); function mapLoaded() &#123; var SOMtlj = new ArcGISDynamicMapServiceLayer(\"http://localhost:6080/arcgis/rest/services/Henan_S/PH1_TLJ/MapServer\",&#123;\"id\":\"3\"&#125;); SOMtlj.on(\"load\", featureLayerLoaded); map.addLayer(SOMtlj); map.addLayer(research_scope); &#125; function featureLayerLoaded() &#123; // create time slider var timeSlider = new TimeSlider(&#123; style: \"width: 100%;\"&#125;, dom.byId(\"timeSliderDiv\")); map.setTimeSlider(timeSlider); timeExtent = new TimeExtent(); // è®¾ç½®æ—¶åŒºåï¼Œå¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ //timeExtent.startTime = new Date(\"2019/06/06 23:59:00 UTC\"); //timeExtent.endTime = new Date(\"2019/06/07 05:52:00 UTC\"); timeSlider.setThumbCount(1); timeSlider.createTimeStopsByTimeInterval(timeExtent, 1, \"esriTimeUnitsMinutes\"); timeSlider.setThumbIndexes([0]); timeSlider.on(\"time-extent-change\", displayTimeInfo); timeSlider.startup(); // timeSlider.play(); &#125; function displayTimeInfo(timeExtent) &#123; var info = timeExtent.endTime; dom.byId(\"timeInfo\").innerHTML = info; &#125; &#125;); &lt;/script&gt; &lt;/head&gt; &lt;body class=\"claro\"&gt; &lt;div id=\"mainWindow\" data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-propx=\"design:'sidebar', gutters:true\" style=\"width:100%; height:100%;\"&gt; &lt;div id=\"header\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props=\"region:'top'\" class=\"dijitBorders\" style=\"height:100px;\"&gt; &lt;center&gt; &lt;span class=\"headerText\"&gt;é‡‡æ ·æ—¶åº&lt;/span&gt; &lt;div id=\"timeInfo\" class=\"labelText\"&gt;&lt;/div&gt; &lt;div id=\"timeSliderDiv\" &gt;&lt;/div&gt; &lt;/center&gt; &lt;/div&gt; &lt;div id=\"map\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props=\"region:'center'\" class=\"dijitBorders\" style=\"background-color:inherit;\"&gt; &lt;/div&gt; &lt;div id=\"right\" data-dojo-type=\"dijit/layout/ContentPane\" data-dojo-props=\"region:'left'\" style=\"width:100px;font-size:small;\"&gt; &lt;center&gt;&lt;span class=\"labelText\"&gt;Age&lt;/span&gt;&lt;/center&gt; &lt;div id=\"ageDiv\" class=\"dijitBorders\"&gt;&lt;/div&gt; &lt;center&gt;&lt;span class=\"labelText\"&gt;Magnitude&lt;/span&gt;&lt;/center&gt; &lt;div id=\"magnitudeDiv\" class=\"dijitBorders\" &gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt;","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/tags/ArcGIS/"}]},{"title":"vuex","slug":"vuex","date":"2019-08-15T03:20:43.000Z","updated":"2022-11-02T11:15:20.678Z","comments":true,"path":"2019/08/15/vuex/","link":"","permalink":"http://xdd7130.github.io/2019/08/15/vuex/","excerpt":"","text":"Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼å¤§å‹é¡¹ç›®ï¼Œæ¶‰åŠå¤æ‚çš„äº¤äº’æ—¶ï¼Œç”¨vuex","categories":[{"name":"Vue","slug":"Vue","permalink":"http://xdd7130.github.io/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://xdd7130.github.io/tags/Vue/"}]},{"title":"å°ç¨‹åº","slug":"å°ç¨‹åº","date":"2019-08-15T03:20:43.000Z","updated":"2022-11-02T11:15:20.720Z","comments":true,"path":"2019/08/15/å°ç¨‹åº/","link":"","permalink":"http://xdd7130.github.io/2019/08/15/å°ç¨‹åº/","excerpt":"","text":"å¼€å‘å‰å‡†å¤‡1ã€å¼€å‘è€…å·¥å…·ä¸‹è½½ã€‚ğŸ‘‰ä¸‹è½½2ã€æ³¨å†Œç”³è¯·ç­‰ã€‚ å°ç¨‹åºä¸»è¦æ–‡ä»¶åŠä½œç”¨ ç»„ä»¶ä½¿ç”¨è§å®˜ç½‘ã€‚ğŸ‘‰æ‰“å¼€ å°ç¨‹åºå•ä½ç‰©ç†å’Œé€»è¾‘åˆ†è¾¨ç‡è½¬æ¢ rpxï¼ˆresponsive pixelï¼‰: å¯ä»¥æ ¹æ®å±å¹•å®½åº¦è¿›è¡Œè‡ªé€‚åº”ã€‚è§„å®šå±å¹•å®½ä¸º750rpxã€‚å¦‚åœ¨ iPhone6 ä¸Šï¼Œå±å¹•å®½åº¦ä¸º375pxï¼Œå…±æœ‰750ä¸ªç‰©ç†åƒç´ ï¼Œåˆ™750rpx = 375px = 750ç‰©ç†åƒç´ ï¼Œ1rpx = 0.5px = 1ç‰©ç†åƒç´ ã€‚ WXMLæ•°æ®ç»‘å®šWXMLï¼ˆWeiXin Markup Languageï¼‰æ˜¯æ¡†æ¶è®¾è®¡çš„ä¸€å¥—æ ‡ç­¾è¯­è¨€ï¼Œç»“åˆåŸºç¡€ç»„ä»¶ã€äº‹ä»¶ç³»ç»Ÿï¼Œå¯ä»¥æ„å»ºå‡ºé¡µé¢çš„ç»“æ„ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465Page(&#123; /** * é¡µé¢çš„åˆå§‹æ•°æ® */ data: &#123; &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½ */ onLoad: function (options) &#123; &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ */ onReady: function () &#123; &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢æ˜¾ç¤º */ onShow: function () &#123; &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢éšè— */ onHide: function () &#123; &#125;, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢å¸è½½ */ onUnload: function () &#123; &#125;, /** * é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°--ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ */ onPullDownRefresh: function () &#123; &#125;, /** * é¡µé¢ä¸Šæ‹‰è§¦åº•äº‹ä»¶çš„å¤„ç†å‡½æ•° */ onReachBottom: function () &#123; &#125;, /** * ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’åˆ†äº« */ onShareAppMessage: function () &#123; &#125;&#125;) æ³¨æ„:1&lt;image src=\"&#123;&#123;meurl&#125;&#125;\" show-menu-by-longpress=\"&#123;&#123;true&#125;&#125;\"&gt;&lt;/image&gt; æ¡ä»¶æ¸²æŸ“å’Œåˆ—è¡¨æ¸²æŸ“wx:if wx:elif wx:elsewx:for wx:for-index wx:for-item æ¨¡æ¿åŠå¼•å…¥1.åˆ›å»ºå…¬ç”¨é¡µé¢template.wxml1234567&lt;template name=\"header\"&gt; &lt;view class=\"header\"&gt;è¿™æ˜¯å¤´éƒ¨å†…å®¹&lt;/view&gt;&lt;/template&gt;&lt;template name=\"footer\"&gt; &lt;view class=\"footer\"&gt;è¿™æ˜¯åº•éƒ¨å†…å®¹&lt;/view&gt;&lt;/template&gt; 2.å¼•å…¥åº”ç”¨123456wxml:&lt;import src=\"/pages/template/template\"/&gt;wxss:@import \"/pages/template/template\"åº”ç”¨ï¼š&lt;template is=\"header\"&gt; äº‹ä»¶å¤„ç†åŠæ•°æ®äº¤äº’1ã€å˜é‡ä¸æ˜¯ä¸€å®šè¦åˆå§‹åŒ–2ã€setData({ })3ã€bindtap4ã€catchtap é˜»æ­¢å†’æ³¡äº‹ä»¶ å°ç¨‹åºçš„å…¨å±€é…ç½®1ã€tabBarå¯¼èˆªæ é¡µé¢è·³è½¬ ç‹¬ç«‹é¡µé¢é…ç½®","categories":[{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"http://xdd7130.github.io/categories/å°ç¨‹åº/"}],"tags":[{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"http://xdd7130.github.io/tags/å°ç¨‹åº/"}]},{"title":"Express","slug":"node5","date":"2019-08-13T03:07:47.000Z","updated":"2022-11-02T11:15:20.560Z","comments":true,"path":"2019/08/13/node5/","link":"","permalink":"http://xdd7130.github.io/2019/08/13/node5/","excerpt":"","text":"Expressæ¡†æ¶1.ä¾èµ–ä¸­é—´ä»¶2.æ¥å—è¯·æ±‚3.éç ´åå¼çš„4.staticç”¨æ³• å®‰è£…ã€é…ç½®ã€æ¥å—è¯·æ±‚ã€å“åº”å®‰è£…1npm install express ä½¿ç”¨ åˆ›å»ºæœåŠ¡ ç›‘å¬ å¤„ç†è¯·æ±‚1234567891011const express = require('express');var server = express();server.use('/a.html',function(req,res)&#123; res.send('abc'); //sendå’Œwriteç±»ä¼¼ res.end();&#125;);server.use('/b.html',function(req,res)&#123; res.send('123'); res.end();&#125;);server.listen(8080); expressä¿ç•™äº†åŸç”Ÿçš„åŠŸèƒ½ï¼Œæ·»åŠ äº†ä¸€äº›æ–¹æ³•ï¼Œå¢å¼ºåŸæœ‰çš„åŠŸèƒ½ã€‚ 3ç§æ–¹æ³•get(å¤„ç†getè¯·æ±‚)\\post(å¤„ç†postè¯·æ±‚)\\use(get,postå‡å¯)ã€‚123456789101112const express = require('express');var server = express();server.get('/',function(req,res)&#123; console.log('getè¯·æ±‚')&#125;);server.post('/',function(req,res)&#123; console.log('postè¯·æ±‚')&#125;);server.use('/',function(req,res)&#123; console.log('useäº†')&#125;);server.listen(8080); Express-staticè¯»å–é™æ€æ–‡ä»¶å®‰è£… npm install express-static -save å®ä¾‹-ç™»å½•a.html:server.js1234567891011121314151617181920212223242526272829const express = require('express');const expressStatic = require('express-static');var server = express();server.listen(8080);//ç”¨æˆ·æ•°æ®æ¨¡æ‹Ÿvar users=&#123; 'blue':'123456', 'zhangsan':'654321', 'lisi':'987678'&#125;;server.get('/login',function(req,res)&#123; // urlLib.parse(req.url,true).query; console.log(req.query) var user= req.query['user']; var pass= req.query['pass']; if(users[user]==null)&#123; res.send(&#123;ok:false,mag:'æ­¤ç”¨æˆ·ä¸å­˜åœ¨'&#125;) &#125;else&#123; if(users[user]!=pass)&#123; res.send(&#123;ok:false,msg:'å¯†ç é”™äº†'&#125;) &#125;else&#123; res.send(&#123;ok:true,mag:'æˆåŠŸ'&#125;) &#125; &#125;&#125;)server.use(expressStatic('./www')); æ•°æ®è§£ægetè¯·æ±‚æ•°æ®è§£æ,æ— éœ€ä¸­é—´ä»¶:req.querypostè¯·æ±‚æ•°æ®è§£æï¼Œéœ€ä¸­é—´ä»¶ï¼šbody-parserï¼Œé¦–å…ˆè§£ææ•°æ®12345678910111213const express = require(&apos;express&apos;);const bodyParser = require(&apos;body-parser&apos;);var server = express();server.listen(8080);server.use(bodyParser.urlencoded(&#123; extended:true, //æ‰©å±•æ¨¡å¼ limit: 2*1024 //é™åˆ¶2Mï¼Œé»˜è®¤100k&#125;));server.use(&apos;/&apos;,function(req,res)&#123; console.log(req.body) //POST&#125;) é“¾å¼æ“ä½œ12345678910111213const express = require(&apos;express&apos;);var server = express();server.listen(8080);//ç¬¬ä¸‰ä¸ªå‚æ•°server.use(&apos;/&apos;,function(req,res,next)&#123; console.log(&apos;a&apos;) next();&#125;);server.use(&apos;/&apos;,function(req,res.next)&#123; console.log(&apos;b&apos;) &#125;) ä¸­é—´ä»¶,ç±»ä¼¼â€™body-parserâ€™1234567891011121314151617181920const express = require(&apos;express&apos;);const querystring = require(&apos;querystring&apos;);var server = express();server.listen(8080);//ç¬¬ä¸‰ä¸ªå‚æ•°server.use(function(req,res,next)&#123; var str=&apos;&apos;; req.on(&apos;data&apos;,function(data)&#123; str+=data; &#125;); req.on(&apos;end&apos;,function(data)&#123; req.body=querystring(str); next(); &#125;);&#125;);server.use(&apos;/&apos;,function(req,res.next)&#123; console.log(&apos;b&apos;) &#125;) cookieã€session a.å‘é€cookieres.cookie(åå­—,å€¼,maxAge:æ¯«ç§’,signed:true) b.è¯»å–cookiecookie-parserserver.use(cookieParser(â€˜ç§˜é’¥â€™))server.use(function(){ req.cookie //æœªç­¾å req.signedCookies //ç­¾åç‰ˆ}) c.åˆ é™¤cookieres.clearCookie(åå­—) ä¿å­˜æ•°æ®ï¼Œcookieæ•°æ®ä¿å­˜æµè§ˆå™¨ï¼Œsession æ•°æ®ä¿å­˜åœ¨æœåŠ¡å™¨ã€‚npm install cookie-parser cookie-session12345678910111213const express = require('express');const cookieParser = require('cookie-parser');var server = express();//å‘é€cookieserver.use('/aaa/a.html',function(req,res)&#123; res.cookie('user','blue',&#123;path:'/aaa','maxAge':3*24*3600*1000&#125;)&#125;)//è¯»å–cookieserver.use(cookieParser())ï¼›server.use('/',function(req,res)&#123; console.log(req.cookie)&#125;) å®ç°cookieåŠ å¯†ï¼š12345678910111213const express = require('express');const cookieParser = require('cookie-parser');var server = express();//cookieParserserver.use(cookieParser);server.use('/',function()&#123; req.secret='hdwifbonfjfosdjhfsj'; res.cookie('user','blue',&#123;signed:true&#125;); res.send('ok');&#125;);server.listen(8080); session 123456789101112131415const express = require('express');const cookieSession = require('cookie-session');var server = express();//cookieserver.use(cookieParser('dnkfvbscsvius'));server.use(cookieSession());server.use('/',function()&#123; req.secret='hdwifbonfjfosdjhfsj'; res.cookie('user','blue',&#123;signed:true&#125;); res.send('ok');&#125;);server.listen(8080); expressæ¡†æ¶æ•´åˆ multeræ¨¡å—ä¸Šä¼ æ–‡ä»¶npm install multer body-parser:è§£æpostæ•°æ® (application/x-form-urlencoded)server.use(bodyParse.urlencode()); multer:è§£æpostæ–‡ä»¶ (multipart/form-data) 123456789101112131415161718192021222324252627282930313233343536373839404142//ä¸Šä¼ åˆ°ç£ç›˜ é‡å‘½åconst multer = require('multer');const pathLib = require('path');const fs = require('fs');//1ã€pathLibè§£æè·å–åŸå§‹æ–‡ä»¶æ‰©å±•å var str='c:\\\\wamp\\www\\a.html'; var obj=path.parse(str); base :æ–‡ä»¶å\"a.html\" ext:æ‰©å±•å\"html\" dir:è·¯å¾„'c:\\\\wamp\\www' name:æ–‡ä»¶å\"a\"//2.fsçš„renameé‡å‘½å fs.rename('a.txt','b.txt',function(err)&#123; console.log(err) &#125;) fs.rename(è€åï¼Œæ–°åï¼Œfunction(err)&#123; ... &#125;)var obj=multer(&#123;dest:'./www/upload/'&#125;) //æ–‡ä»¶ä¿å­˜çš„ä½ç½®server.use(obj.any()) //æ¥å—ä»»æ„ç±»å‹æ–‡ä»¶//åªæ¥æ”¶name=f1çš„æ–‡ä»¶ : server.use(obj.single('f1')) //req.files:æŒ‡ä¸Šä¼ çš„æ–‡ä»¶ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾ï¼šserver.use(function(req,res)&#123; var newName = req.file[0].path+pathLib.parse(req.file[0].originalname).ext fs.rename(req.file[0].path,newName,function()(err)&#123; if(err) res.send('ä¸Šä¼ å¤±è´¥'); else res.send('ä¸Šä¼ æˆåŠŸ') &#125;)&#125;) htmlæ–‡ä»¶ï¼š 1234&lt;form action='http://localhost:8080/' method='post' enctype='multipart/form-data'&gt; &lt;input type='file'/&gt; &lt;input type='submit' value='ä¸Šä¼ /&gt;&lt;/form&gt; consolidate æ¨¡æ¿å¼•æ“æ•´åˆåº“å®‰è£…ï¼šnpm install consolidateå¼•ç”¨ï¼šconst consolidate = require(â€˜consolidateâ€™);é…ç½®æ¨¡æ¿å¼•æ“ï¼š æˆ‘è¦è¾“å‡ºä»€ä¹ˆä¸œè¥¿server.set(â€˜view engineâ€™,â€™htmlâ€™) æ¨¡æ¿æ–‡ä»¶æ”¾åœ¨å“ªé‡Œserver.set(â€˜viewâ€™,â€™./viewsâ€™) å“ªç§æ¨¡æ¿å¼•æ“server.engine(â€˜htmlâ€™,consolidate.ejs) server.get(â€˜/â€˜,function(req,res){ res.render(â€˜æ¨¡æ¿æ–‡ä»¶â€™ï¼Œæ•°æ®);}) routeè·¯ç”±æ ¹æ®ç›®å½•çš„ä¸åŒï¼Œè°ƒç”¨ä¸åŒçš„æ¨¡å— const express = require(â€˜expressâ€™); var server=express(); var routeUser =express.Route();routeUser.get(â€˜1.htmlâ€™,function(req,res){ res.send(â€˜user1â€™)})routeUser.get(â€˜2.htmlâ€™,function(req,res){ res.send(â€˜user2â€™)}) server.use(â€˜/userâ€™,routeUser);server.listen(8080);","categories":[{"name":"Node","slug":"Node","permalink":"http://xdd7130.github.io/categories/Node/"}],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://xdd7130.github.io/tags/Node-js/"}]},{"title":"nodeç¬”è®°(ä¸€)","slug":"node4","date":"2019-08-11T11:48:05.000Z","updated":"2022-11-02T11:15:20.557Z","comments":true,"path":"2019/08/11/node4/","link":"","permalink":"http://xdd7130.github.io/2019/08/11/node4/","excerpt":"","text":"nodeä¼˜åŠ¿ï¼š1ã€æ€§èƒ½å¥½2ã€è·Ÿå‰å°JSé…åˆæ–¹ä¾¿3ã€NodeJSä¾¿äºå‰ç«¯å­¦ä¹  httpç³»ç»Ÿæ¨¡å—ä½¿ç”¨12345678910111213141516171819const http=require('http');var server = http.creatServer(function(req,res)&#123; //åˆ›å»ºæœåŠ¡å™¨ switch(res.url)&#123; case \"/1.html\": res.write(\"å‘å‰å°å†™ä¸œè¥¿111\")ï¼› break; case \"/2.html\": res.write(\"å‘å‰å°å†™ä¸œè¥¿222\")ï¼› break; default res.write(\"404\")ï¼› break; &#125; // res.write(\"å‘å‰å°å†™ä¸œè¥¿\")ï¼› res.end();//ç»“æŸè¯·æ±‚&#125;)//ç›‘å¬ â€”â€” ç­‰ç€//ç«¯å£ â€”â€” æ•°å­—server.listen(8888); fsæ–‡ä»¶æ¨¡å—fs (file system)123456789101112131415//å¯¼å…¥å¼•ç”¨: const fs = require('fs');//1.readFile(æ–‡ä»¶åï¼Œå›è°ƒå‡½æ•°) fs.readFile('aaa.txt',function(err,data)&#123; if(err)&#123; console.log('è¯»å–å¤±è´¥')ï¼› &#125;else&#123; console.log(data.toString());//äºŒè¿›åˆ¶æ ¼å¼ç”¨toStringè½¬æ¢ &#125; &#125;)//2.writeFile(æ–‡ä»¶åï¼Œå†…å®¹ï¼Œå›è°ƒå‡½æ•°)fs.write(\"bbb.txt\",\"asdfghjkl\",function(err)&#123; console.log(err);&#125;) ä¸æœåŠ¡å™¨ç»“åˆå»ºç«‹wwwï¼ˆå¯ä»¥æ˜¯å…¶ä»–åå­—ï¼‰æ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾è¯·æ±‚çš„æ–‡ä»¶ã€‚1234567891011121314151617const http=require('http');var server = http.creatServer(function(req,res)&#123; //åˆ›å»ºæœåŠ¡å™¨ //req.url = 'index.html' //è¯»å–:'./www/index.html' var file_name = './www'+req.url fs.readFile(file_name,function(err,data)&#123; //å¼‚æ­¥ if(err)&#123; res.write('è¯»å–å¤±è´¥') &#125;else&#123; res.write(data) &#125; res.end();//ç»“æŸè¯·æ±‚ï¼Œå› ä¸ºå¼‚æ­¥ï¼Œres.end()åº”æ”¾åœ¨æ­¤å¤„ &#125;) &#125;)server.listen(8888); httpæ•°æ®è§£æï¼ˆgetï¼‰å‰å°å‘é€è¯·æ±‚çš„æ–¹å¼ï¼šform/ajax/jsonpåå°éƒ½æ˜¯ä¸€æ ·ã€‚å”¯æœ‰ä¸€ç‚¹ä¸åŒï¼Œè¯·æ±‚æ–¹å¼ä¸åŒï¼Œæ¥å—æ–¹å¼ä¸ä¸€æ ·ï¼ˆget/postï¼‰.ä¸‹é¢ä¸€ä¸ªå®ä¾‹ï¼šGETæ•°æ®è§£æï¼š è‡ªå·±åˆ‡ querystring: url:urlLib.parse(â€¦,true) server.js æ™®é€šå†™æ³•12345678910111213141516171819const http = require('http');http.createServer(function(req,res)&#123; //reqè·å–å‰å°è¯·æ±‚çš„æ•°æ® var get=&#123;&#125;; if(req.url.indexOf('?') != -1)&#123; console.log(req.url); // /aaa?user=Tom&amp;pass=123456 var arr = req.url.split('ï¼Ÿ')ï¼›// arr[0]='/aaa' arr[1]='user=Tom&amp;pass=123456' var url=arr[0]; var arr2 = arr[1].split('&amp;'); //arr2 for(var i=0;i&lt;arr2.length;i++)&#123; var arr3=arr2[i].split('=') get[arr3[0]]=arr3[1]; &#125; &#125;else&#123; var url=req.url; &#125; console.log(url,get) res.end();&#125;).listen(8080); server.js querystringæ¨¡å—å†™æ³•ï¼š123456789101112131415161718192021 //å†™æ³•å¦‚ä¸‹ï¼š //const querystring=require('querystring'); //var json = querystring.parse('user=Tom&amp;pass=123456') //console.log(json)//server.jsæ”¹åŠ¨åï¼š const http = require('http'); const querystring=require('querystring'); http.createServer(function(req,res)&#123; //reqè·å–å‰å°è¯·æ±‚çš„æ•°æ® var get=&#123;&#125;; if(req.url.indexOf('?') != -1)&#123; console.log(req.url); // /aaa?user=Tom&amp;pass=123456 var arr = req.url.split('ï¼Ÿ')ï¼›// arr[0]='/aaa' arr[1]='user=Tom&amp;pass=123456' var url=arr[0]; get=querystring.parse(arr[1]); &#125;else&#123; var url=req.url; &#125; console.log(url,get) res.end(); &#125;).listen(8080); server.js urlæ¨¡å—å†™æ³•ï¼š123456789101112131415//url.jså†™æ³• const urlLib=require('url'); var obj= urlLib.parse(\"http://www.aaa.bbb/index.html?a=12&amp;b=55\",true); ç¬¬äºŒä¸ªå‚æ•°ä¸ºtrueæ—¶ï¼Œä¼šæŠŠpathnameç­‰è§£æä¸ºjson. console.log(obj.pathname,obj.query);//server.jsæ”¹åŠ¨åï¼š const http = require('http'); http.createServer(function(req,res)&#123; //reqè·å–å‰å°è¯·æ±‚çš„æ•°æ® var obj = urlLib.parse(req.url,true); var url=obj.pathname; var get=obj.query; console.log(url,get) res.end(); &#125;).listen(8080); form.html1234567891011121314&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;form action=\"http://localhost:8080/aaa\" method=\"get\"&gt; ç”¨æˆ·ï¼š &lt;input type=\"text\" name=\"user\" value=''&gt; &lt;br&gt; &lt;input type=\"password\" name=\"pass\" value=''&gt; &lt;br&gt; &lt;input type=\"submit\" value='æäº¤' &lt;/form&gt;&lt;/body&gt;&lt;/html&gt; httpæ•°æ®è§£æï¼ˆpostï¼‰POSTæ•°æ®æ¥æ”¶ï¼šPOSTæ•°æ®æ¯”GETæ•°æ®å¤§çš„å¤š,æ ¹æ®æ•°æ®é‡å¤§å°åˆ†æ®µå®Œæˆ12345678910111213141516const http=require('http');const querystring=require('querystring');http.creatServer(function(req,res)&#123; //POST--req var str=''; //æ¥å—æ•°æ® //data--æœ‰ä¸€æ®µæ•°æ®åˆ°è¾¾ï¼ˆå¾ˆå¤šæ¬¡ï¼‰ req.on('data',function()&#123; str+=data &#125;); //end--æ•°æ®å…¨éƒ¨åˆ°è¾¾ï¼ˆä¸€æ¬¡ï¼‰ req.on('end',function()&#123; var post = querystring.parse(str); console.log(post) &#125;);&#125;).listen(8080); åº”ç”¨1:ç®€æ˜“httpServeræ­å»º,ç”¨æˆ·æ³¨å†Œç™»å½•(ç•¥)nodeJSæ¨¡å—åŒ–ç³»ç»Ÿæ¨¡å—ä»‹ç»é™¤äº†ä»¥ä¸Šç”¨åˆ°çš„ï¼šhttpã€querystringã€url,è¿˜æœ‰ï¼š Crypto åŠ å¯† Event äº‹ä»¶ Net ç½‘ç»œæ“ä½œ OS æ“ä½œç³»ç»Ÿä¿¡æ¯ Path å¤„ç†æ–‡ä»¶è·¯å¾„ Stream æµæ“ä½œ Timer å®šæ—¶å™¨ ZLIB å‹ç¼© è‡ªå®šä¹‰æ¨¡å—å…³äºå¼•å…¥æ¨¡å—å†™æ³•ï¼šè‹¥ä¸ºå½“å‰ç›®å½•è‡ªå·±çš„æ¨¡å—ï¼ŒåŠ ä¸Šâ€œ./â€,ç³»ç»Ÿæ¨¡å—è¦åŠ ã€‚è‹¥æƒ³è¦è¾“å‡ºä¸œè¥¿ï¼Œå¿…é¡»exportsã€‚è‹¥éƒ½è¾“å‡ºå¤šä¸ªä¸œè¥¿ï¼Œmoduleå¯å®ç°æ‰¹é‡è¾“å‡ºã€‚ require:è¯·æ±‚å¼•å…¥å…¶ä»–æ¨¡å—ã€‚ module:æ‰¹é‡è¾“å‡ºã€‚ exports:è¾“å‡ºã€‚ module.exports == exportsã€‚ const aaa = require(â€˜./bbb.jsâ€™); å…¶ä¸­â€œ.jsâ€å¯çœç•¥ã€‚ npm:nodejs package manager(nodejsåŒ…ç®¡ç†å™¨)1ã€ç»Ÿè®¡ä¸‹è½½é€”å¾„2ã€è‡ªåŠ¨ä¸‹è½½ä¾èµ– npm initnpm publishnpm updatenpm unpublishnpm â€“force unpublish node_modules:æ”¾æ¨¡å—ï¼Œå¯ä»¥æ”¾è‡ªå·±å®šä¹‰çš„æ¨¡å—ï¼Œæ­¤æ—¶è‹¥å¼•ç”¨ï¼Œä¸åŠ â€œ./â€ æ€»ç»“ï¼šrequireå¼•å…¥æ¨¡å—ï¼Œè‹¥æœ‰â€œ./â€,ä»å½“å‰ç›®å½•æ‰¾ï¼Œè‹¥æ²¡æœ‰â€œ./â€ï¼Œä»ç³»ç»Ÿæ¨¡å—æˆ–node_modulesæ‰¾ã€‚æ¨¡å—ä¼˜å…ˆçº§ï¼šç³»ç»Ÿ&gt;node_modules,ä¸€èˆ¬å°†è‡ªå®šä¹‰æ¨¡å—æ”¾åœ¨node_modulesä¸­ã€‚","categories":[{"name":"Node","slug":"Node","permalink":"http://xdd7130.github.io/categories/Node/"}],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://xdd7130.github.io/tags/Node-js/"}]},{"title":"apply and bind","slug":"apply-and-bind","date":"2019-08-11T02:36:27.000Z","updated":"2022-11-02T11:15:20.547Z","comments":true,"path":"2019/08/11/apply-and-bind/","link":"","permalink":"http://xdd7130.github.io/2019/08/11/apply-and-bind/","excerpt":"","text":"æœ¬ç¯‡ä¸»è¦è§£å†³ä¸€ä¸‹å‡ ä¸ªé—®é¢˜ï¼š 1.applyå’Œcallçš„åŒºåˆ«åœ¨å“ªé‡Œ 2.ä»€ä¹ˆæƒ…å†µä¸‹ç”¨apply,ä»€ä¹ˆæƒ…å†µä¸‹ç”¨call 3.applyçš„å…¶ä»–å·§å¦™ç”¨æ³•ï¼ˆä¸€èˆ¬åœ¨ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨applyï¼‰* apply:æ–¹æ³•èƒ½åŠ«æŒå¦å¤–ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œç»§æ‰¿å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„å±æ€§. Function.apply(obj,args)æ–¹æ³•èƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°objï¼šè¿™ä¸ªå¯¹è±¡å°†ä»£æ›¿Functionç±»é‡Œthiså¯¹è±¡argsï¼šè¿™ä¸ªæ˜¯æ•°ç»„ï¼Œå®ƒå°†ä½œä¸ºå‚æ•°ä¼ ç»™Functionï¼ˆargsâ€“&gt;argumentsï¼‰ call:å’Œapplyçš„æ„æ€ä¸€æ ·,åªä¸è¿‡æ˜¯å‚æ•°åˆ—è¡¨ä¸ä¸€æ ·. Function.call(obj,[param1[,param2[,â€¦[,paramN]]]])objï¼šè¿™ä¸ªå¯¹è±¡å°†ä»£æ›¿Functionç±»é‡Œthiså¯¹è±¡paramsï¼šè¿™ä¸ªæ˜¯ä¸€ä¸ªå‚æ•°åˆ—è¡¨ applyç¤ºä¾‹:1234567891011121314151617181920&lt;script type=\"text/javascript\"&gt; /*å®šä¹‰ä¸€ä¸ªäººç±»*/ function Person(name,age) &#123; this.name=name; this.age=age; &#125; /*å®šä¹‰ä¸€ä¸ªå­¦ç”Ÿç±»*/ functionStudent(name,age,grade) &#123; Person.apply(this,arguments); this.grade=grade; &#125; //åˆ›å»ºä¸€ä¸ªå­¦ç”Ÿç±» var student=new Student(\"qian\",21,\"ä¸€å¹´çº§\"); //æµ‹è¯• alert(\"name:\"+student.name+\"\\n\"+\"age:\"+student.age+\"\\n\"+\"grade:\"+student.grade); //å¤§å®¶å¯ä»¥çœ‹åˆ°æµ‹è¯•ç»“æœname:qian age:21 grade:ä¸€å¹´çº§ //å­¦ç”Ÿç±»é‡Œé¢æˆ‘æ²¡æœ‰ç»™nameå’Œageå±æ€§èµ‹å€¼å•Š,ä¸ºä»€ä¹ˆåˆå­˜åœ¨è¿™ä¸¤ä¸ªå±æ€§çš„å€¼å‘¢,è¿™ä¸ªå°±æ˜¯applyçš„ç¥å¥‡ä¹‹å¤„.&lt;/script&gt; åˆ†æ: Person.apply(this,arguments); this:åœ¨åˆ›å»ºå¯¹è±¡åœ¨è¿™ä¸ªæ—¶å€™ä»£è¡¨çš„æ˜¯student arguments:æ˜¯ä¸€ä¸ªæ•°ç»„,ä¹Ÿå°±æ˜¯[â€œqianâ€,â€21â€,â€ä¸€å¹´çº§â€];ä¹Ÿå°±æ˜¯é€šä¿—ä¸€ç‚¹è®²å°±æ˜¯:ç”¨studentå»æ‰§è¡ŒPersonè¿™ä¸ªç±»é‡Œé¢çš„å†…å®¹,åœ¨Personè¿™ä¸ªç±»é‡Œé¢å­˜åœ¨this.nameç­‰ä¹‹ç±»çš„è¯­å¥,è¿™æ ·å°±å°†å±æ€§åˆ›å»ºåˆ°äº†studentå¯¹è±¡é‡Œé¢ callç¤ºä¾‹åœ¨Studenå‡½æ•°é‡Œé¢å¯ä»¥å°†applyä¸­ä¿®æ”¹æˆå¦‚ä¸‹:1Person.call(this,name,age); ä»€ä¹ˆæƒ…å†µä¸‹ç”¨apply,ä»€ä¹ˆæƒ…å†µä¸‹ç”¨callåœ¨ç»™å¯¹è±¡å‚æ•°çš„æƒ…å†µä¸‹,å¦‚æœå‚æ•°çš„å½¢å¼æ˜¯æ•°ç»„çš„æ—¶å€™,æ¯”å¦‚applyç¤ºä¾‹é‡Œé¢ä¼ é€’äº†å‚æ•°arguments,è¿™ä¸ªå‚æ•°æ˜¯æ•°ç»„ç±»å‹,å¹¶ä¸”åœ¨è°ƒç”¨Personçš„æ—¶å€™å‚æ•°çš„åˆ—è¡¨æ˜¯å¯¹åº”ä¸€è‡´çš„(ä¹Ÿå°±æ˜¯Personå’ŒStudentçš„å‚æ•°åˆ—è¡¨å‰ä¸¤ä½æ˜¯ä¸€è‡´çš„) å°±å¯ä»¥é‡‡ç”¨ apply , å¦‚æœæˆ‘çš„Personçš„å‚æ•°åˆ—è¡¨æ˜¯è¿™æ ·çš„(age,name),è€ŒStudentçš„å‚æ•°åˆ—è¡¨æ˜¯(name,age,grade),è¿™æ ·å°±å¯ä»¥ç”¨callæ¥å®ç°äº†,ä¹Ÿå°±æ˜¯ç›´æ¥æŒ‡å®šå‚æ•°åˆ—è¡¨å¯¹åº”å€¼çš„ä½ç½®(Person.call(this,age,name,grade)); applyçš„ä¸€äº›å…¶ä»–å·§å¦™ç”¨æ³•ç»†å¿ƒçš„äººå¯èƒ½å·²ç»å¯Ÿè§‰åˆ°,åœ¨æˆ‘è°ƒç”¨applyæ–¹æ³•çš„æ—¶å€™,ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯¹è±¡(this), ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„é›†åˆ, åœ¨è°ƒç”¨Personçš„æ—¶å€™,ä»–éœ€è¦çš„ä¸æ˜¯ä¸€ä¸ªæ•°ç»„,ä½†æ˜¯ä¸ºä»€ä¹ˆä»–ç»™æˆ‘ä¸€ä¸ªæ•°ç»„æˆ‘ä»ç„¶å¯ä»¥å°†æ•°ç»„è§£æä¸ºä¸€ä¸ªä¸€ä¸ªçš„å‚æ•°,è¿™ä¸ªå°±æ˜¯applyçš„ä¸€ä¸ªå·§å¦™çš„ç”¨å¤„,å¯ä»¥å°†ä¸€ä¸ªæ•°ç»„é»˜è®¤çš„è½¬æ¢ä¸ºä¸€ä¸ªå‚æ•°åˆ—è¡¨([param1,param2,param3] è½¬æ¢ä¸º param1,param2,param3) è¿™ä¸ªå¦‚æœè®©æˆ‘ä»¬ç”¨ç¨‹åºæ¥å®ç°å°†æ•°ç»„çš„æ¯ä¸€ä¸ªé¡¹,æ¥è£…æ¢ä¸ºå‚æ•°çš„åˆ—è¡¨,å¯èƒ½éƒ½å¾—è´¹ä¸€ä¼šåŠŸå¤«,å€ŸåŠ©applyçš„è¿™ç‚¹ç‰¹æ€§,æ‰€ä»¥å°±æœ‰äº†ä»¥ä¸‹é«˜æ•ˆç‡çš„æ–¹æ³•: a) Math.max å¯ä»¥å®ç°å¾—åˆ°æ•°ç»„ä¸­æœ€å¤§çš„ä¸€é¡¹ å› ä¸ºMath.maxå‚æ•°é‡Œé¢ä¸æ”¯æŒMath.max([param1,param2])ä¹Ÿå°±æ˜¯æ•°ç»„ä½†æ˜¯å®ƒæ”¯æŒMath.max(param1,param2,param3â€¦),æ‰€ä»¥å¯ä»¥æ ¹æ®åˆšæ‰applyçš„é‚£ä¸ªç‰¹ç‚¹æ¥è§£å†³ var max=Math.max.apply(null,array),è¿™æ ·è½»æ˜“çš„å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ•°ç»„ä¸­æœ€å¤§çš„ä¸€é¡¹(applyä¼šå°†ä¸€ä¸ªæ•°ç»„è£…æ¢ä¸ºä¸€ä¸ªå‚æ•°æ¥ä¸€ä¸ªå‚æ•°çš„ä¼ é€’ç»™æ–¹æ³•)è¿™å—åœ¨è°ƒç”¨çš„æ—¶å€™ç¬¬ä¸€ä¸ªå‚æ•°ç»™äº†ä¸€ä¸ªnull,è¿™ä¸ªæ˜¯å› ä¸ºæ²¡æœ‰å¯¹è±¡å»è°ƒç”¨è¿™ä¸ªæ–¹æ³•,æˆ‘åªéœ€è¦ç”¨è¿™ä¸ªæ–¹æ³•å¸®æˆ‘è¿ç®—,å¾—åˆ°è¿”å›çš„ç»“æœå°±è¡Œ,.æ‰€ä»¥ç›´æ¥ä¼ é€’äº†ä¸€ä¸ªnullè¿‡å» b) Math.min å¯ä»¥å®ç°å¾—åˆ°æ•°ç»„ä¸­æœ€å°çš„ä¸€é¡¹åŒæ ·å’Œ maxæ˜¯ä¸€ä¸ªæ€æƒ³ var min=Math.min.apply(null,array); c) Array.prototype.push å¯ä»¥å®ç°ä¸¤ä¸ªæ•°ç»„åˆå¹¶ åŒæ ·pushæ–¹æ³•æ²¡æœ‰æä¾›pushä¸€ä¸ªæ•°ç»„,ä½†æ˜¯å®ƒæä¾›äº†push(param1,param,â€¦paramN) æ‰€ä»¥åŒæ ·ä¹Ÿå¯ä»¥é€šè¿‡applyæ¥è£…æ¢ä¸€ä¸‹è¿™ä¸ªæ•°ç»„,å³:123vararr1=new Array(\"1\",\"2\",\"3\");vararr2=new Array(\"4\",\"5\",\"6\");Array.prototype.push.apply(arr1,arr2);","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"js","slug":"js","permalink":"http://xdd7130.github.io/tags/js/"}]},{"title":"nodeåŸºç¡€(ä¸‰)","slug":"node3","date":"2019-08-10T09:41:11.000Z","updated":"2022-11-02T11:15:20.556Z","comments":true,"path":"2019/08/10/node3/","link":"","permalink":"http://xdd7130.github.io/2019/08/10/node3/","excerpt":"","text":"ä»€ä¹ˆæ˜¯node.jsç¼–å†™é«˜æ€§èƒ½ç½‘ç»œæœåŠ¡å™¨çš„JSå·¥å…·åŒ…ï¼ˆç”¨jså¼€å‘æœåŠ¡ç«¯ç¨‹åºï¼‰å•çº¿ç¨‹ã€å¼‚æ­¥ã€äº‹ä»¶é©±åŠ¨ç‰¹ç‚¹ï¼šå¿«ã€è€—å†…å­˜ æ¡†æ¶expressã€koaã€Hapiã€ä»¥åŠexpressåŸºç¡€ä¸Šçš„sails nodeçš„å®‰è£…http://nodejs.cn/æ˜¯å¦æˆåŠŸï¼š12node -v npm -v ç¬¬ä¸€ä¸ªhelloç¨‹åº12345678910var http = require('http');http.createServer(function(request,response)&#123; response.writeHead(200,&#123;'Content-Type': 'text/html; charset=utf-8'&#125;); if (request.url!==\"/favicon.ico\") &#123; //æ¸…é™¤ç¬¬äºŒæ¬¡è®¿é—® console.log('è®¿é—®'); response.write('hello,world'); response.end('ä½ å¥½ï¼Œä¸–ç•Œ'); &#125;&#125;).listen(8000);console.log('Server running at http://localhost:8000/'); è°ƒç”¨å‡½æ•° è°ƒç”¨æœ¬åœ°å‡½æ•° è°ƒç”¨å…¶ä»–jsæ–‡ä»¶ä¸­çš„å‡½æ•° 12345678910111213141516171819202122232425var http = require('http'); var otherfun = require(\"./models/other_func.js\"); http.createServer(function(request,response)&#123; response.writeHead(200,&#123;'Content-Type': 'text/html; charset=utf-8'&#125;); if (request.url!==\"/favicon.ico\") &#123; //fun1(response); otherfun.fun2(response); otherfun.fun3(response); //ç”¨å­—ç¬¦ä¸²è°ƒç”¨å¯¹åº”å‡½æ•° // otherfun.fun2(response); // otherfun.fun3(response); funname = 'fun3'; otherfun[funname](response); response.end(''); &#125;&#125;).listen(8000);console.log('Server running at http://10.75.68.123:8000/');function fun1(res)&#123; // æœ¬æ–‡ä»¶å‡½æ•° console.log(\"fun1\"); res.write(\"hello,æˆ‘æ˜¯fun1\");&#125; å…³äºè¢«è°ƒç”¨çš„å‡½æ•°ï¼š123456//åªæ”¯æŒä¸€ä¸ªå‡½æ•°function fun2(res)&#123; console.log(\"fun2\"); res.write(\"hello,æˆ‘æ˜¯fun2\");&#125;module.exports = fun2; 123456789101112 //æ”¯æŒå¤šä¸ªå‡½æ•°module.exports=&#123; fun2:function(res)&#123; console.log(\"fun2\"); res.write(\"hello,æˆ‘æ˜¯fun2\"); &#125;, fun3:function(res)&#123; console.log(\"fun3\"); res.write(\"hello,æˆ‘æ˜¯fun3\"); &#125;&#125; è°ƒç”¨æ¨¡å—123456789101112131415161718 var http = require('http'); // var User = require(\"./models/User\"); var Teacher = require(\"./models/Teacher\"); http.createServer(function(request,response)&#123; response.writeHead(200,&#123;'Content-Type': 'text/html; charset=utf-8'&#125;); if (request.url!==\"/favicon.ico\") &#123; teacher = new Teacher(1,\"å¼ ä¸‰\",20); teacher.enter(); teacher.teach(response); // user.id=1; // user.name=\"å¼ ä¸‰\"; // user.age=20; // user.enter(); response.end(''); &#125;&#125;).listen(8000);console.log('Server running at http://localhost:8000/'); è·¯ç”±åˆæ­¥123456789101112131415 var http = require('http'); var url = require(\"url\"); var router = require(\"./router\");http.createServer(function(request,response)&#123; response.writeHead(200,&#123;'Content-Type': 'text/html; charset=utf-8'&#125;); if (request.url!==\"/favicon.ico\") &#123; var pathname=url.parse(request.url).pathname; pathname = pathname.replace(/\\//,''); //æ›¿æ¢æ‰å‰é¢çš„\"/\" router[pathname](request,response); console.log(pathname); response.end(''); &#125;&#125;).listen(8000);console.log('Server running at http://10.75.68.123:8000/'); è¯»æ–‡ä»¶1234567891011121314151617181920212223242526272829303132var http = require('http'); var url = require('url'); var router = require('./router'); // var optfile = require(\"./models/optfile\"); http.createServer(function(request,response)&#123; response.writeHead(200,&#123;'Content-Type': 'text/html; charset=utf-8'&#125;); if (request.url!==\"/favicon.ico\") &#123; var pathname=url.parse(request.url).pathname; pathname = pathname.replace(/\\//,''); //æ›¿æ¢æ‰å‰é¢çš„\"/\" router[pathname](request,response); /* // optfile.readfileSync('./views/login.html'); // optfile.readFile('./views/login.html'); function recall(data)&#123; response.write(data); response.end('ok'); //ä¸å†™åˆ™æ²¡æœ‰httpåè®®å°¾ &#125; optfile.readFile('./views/login.html',recall); // optfile.readFile('C:\\inetpub\\wwwroot\\HN_NTZJS01/index.html',recall); console.log(\"ä¸»ç¨‹åºæ‰§è¡Œå®Œæ¯•\"); */ &#125;&#125;).listen(8000);console.log('Server running at http://localhost:8000/') å¾…ç»­ã€‚ã€‚ã€‚","categories":[{"name":"Node","slug":"Node","permalink":"http://xdd7130.github.io/categories/Node/"}],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://xdd7130.github.io/tags/Node-js/"}]},{"title":"nodeåŸºç¡€(äºŒ)","slug":"node2","date":"2019-08-09T06:38:25.000Z","updated":"2022-11-02T11:15:20.555Z","comments":true,"path":"2019/08/09/node2/","link":"","permalink":"http://xdd7130.github.io/2019/08/09/node2/","excerpt":"","text":"Node.js REPL(äº¤äº’å¼è§£é‡Šå™¨)Node.js REPL(Read Eval Print Loop:äº¤äº’å¼è§£é‡Šå™¨) è¡¨ç¤ºä¸€ä¸ªç”µè„‘çš„ç¯å¢ƒï¼Œç±»ä¼¼ Window ç³»ç»Ÿçš„ç»ˆç«¯æˆ– Unix/Linux shellï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤ï¼Œå¹¶æ¥æ”¶ç³»ç»Ÿçš„å“åº”ã€‚æˆ‘ä»¬å¯ä»¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨ Node çš„ç»ˆç«¯ï¼š12$ node&gt; åœæ­¢ REPLå‰é¢æˆ‘ä»¬å·²ç»æåˆ°æŒ‰ä¸‹ä¸¤æ¬¡ ctrl + c é”®å°±èƒ½é€€å‡º REPL:1234$ node&gt;(^C again to quit)&gt; Node.js å›è°ƒå‡½æ•°Node.js å¼‚æ­¥ç¼–ç¨‹çš„ç›´æ¥ä½“ç°å°±æ˜¯å›è°ƒã€‚ å¼‚æ­¥ç¼–ç¨‹ä¾æ‰˜äºå›è°ƒæ¥å®ç°ï¼Œä½†ä¸èƒ½è¯´ä½¿ç”¨äº†å›è°ƒåç¨‹åºå°±å¼‚æ­¥åŒ–äº†ã€‚ å›è°ƒå‡½æ•°åœ¨å®Œæˆä»»åŠ¡åå°±ä¼šè¢«è°ƒç”¨ï¼ŒNode ä½¿ç”¨äº†å¤§é‡çš„å›è°ƒå‡½æ•°ï¼ŒNode æ‰€æœ‰ API éƒ½æ”¯æŒå›è°ƒå‡½æ•°ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€è¾¹è¯»å–æ–‡ä»¶ï¼Œä¸€è¾¹æ‰§è¡Œå…¶ä»–å‘½ä»¤ï¼Œåœ¨æ–‡ä»¶è¯»å–å®Œæˆåï¼Œæˆ‘ä»¬å°†æ–‡ä»¶å†…å®¹ä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°è¿”å›ã€‚è¿™æ ·åœ¨æ‰§è¡Œä»£ç æ—¶å°±æ²¡æœ‰é˜»å¡æˆ–ç­‰å¾…æ–‡ä»¶ I/O æ“ä½œã€‚è¿™å°±å¤§å¤§æé«˜äº† Node.js çš„æ€§èƒ½ï¼Œå¯ä»¥å¤„ç†å¤§é‡çš„å¹¶å‘è¯·æ±‚ã€‚ å›è°ƒå‡½æ•°ä¸€èˆ¬ä½œä¸ºå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°å‡ºç°ï¼š12function foo1(name, age, callback) &#123; &#125;function foo2(value, callback1, callback2) &#123; &#125; é˜»å¡ä»£ç å®ä¾‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ input.txt ï¼Œå†…å®¹å¦‚ä¸‹ï¼š èœé¸Ÿæ•™ç¨‹å®˜ç½‘åœ°å€ï¼šwww.runoob.comåˆ›å»º main.js æ–‡ä»¶, ä»£ç å¦‚ä¸‹ï¼š123456var fs = require(&quot;fs&quot;);var data = fs.readFileSync(&apos;input.txt&apos;);console.log(data.toString());console.log(&quot;ç¨‹åºæ‰§è¡Œç»“æŸ!&quot;); ä»¥ä¸Šä»£ç æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š1234$ node main.jsèœé¸Ÿæ•™ç¨‹å®˜ç½‘åœ°å€ï¼šwww.runoob.comç¨‹åºæ‰§è¡Œç»“æŸ! éé˜»å¡ä»£ç å®ä¾‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ input.txt ï¼Œå†…å®¹å¦‚ä¸‹ï¼š èœé¸Ÿæ•™ç¨‹å®˜ç½‘åœ°å€ï¼šwww.runoob.comåˆ›å»º main.js æ–‡ä»¶, ä»£ç å¦‚ä¸‹ï¼š1234567var fs = require(&quot;fs&quot;);fs.readFile(&apos;input.txt&apos;, function (err, data) &#123; if (err) return console.error(err); console.log(data.toString());&#125;);console.log(&quot;ç¨‹åºæ‰§è¡Œç»“æŸ!&quot;); ä»¥ä¸Šä»£ç æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š123$ node main.jsç¨‹åºæ‰§è¡Œç»“æŸ!èœé¸Ÿæ•™ç¨‹å®˜ç½‘åœ°å€ï¼šwww.runoob.com ä»¥ä¸Šä¸¤ä¸ªå®ä¾‹æˆ‘ä»¬äº†è§£äº†é˜»å¡ä¸éé˜»å¡è°ƒç”¨çš„ä¸åŒã€‚ç¬¬ä¸€ä¸ªå®ä¾‹åœ¨æ–‡ä»¶è¯»å–å®Œåæ‰æ‰§è¡Œå®Œç¨‹åºã€‚ ç¬¬äºŒä¸ªå®ä¾‹æˆ‘ä»¬ä¸éœ€è¦ç­‰å¾…æ–‡ä»¶è¯»å–å®Œï¼Œè¿™æ ·å°±å¯ä»¥åœ¨è¯»å–æ–‡ä»¶æ—¶åŒæ—¶æ‰§è¡Œæ¥ä¸‹æ¥çš„ä»£ç ï¼Œå¤§å¤§æé«˜äº†ç¨‹åºçš„æ€§èƒ½ã€‚ å› æ­¤ï¼Œé˜»å¡æ˜¯æŒ‰é¡ºåºæ‰§è¡Œçš„ï¼Œè€Œéé˜»å¡æ˜¯ä¸éœ€è¦æŒ‰é¡ºåºçš„ï¼Œæ‰€ä»¥å¦‚æœéœ€è¦å¤„ç†å›è°ƒå‡½æ•°çš„å‚æ•°ï¼Œæˆ‘ä»¬å°±éœ€è¦å†™åœ¨å›è°ƒå‡½æ•°å†…ã€‚ Node.js äº‹ä»¶å¾ªç¯Node.js æ˜¯å•è¿›ç¨‹å•çº¿ç¨‹åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯å› ä¸º V8 å¼•æ“æä¾›çš„å¼‚æ­¥æ‰§è¡Œå›è°ƒæ¥å£ï¼Œé€šè¿‡è¿™äº›æ¥å£å¯ä»¥å¤„ç†å¤§é‡çš„å¹¶å‘ï¼Œæ‰€ä»¥æ€§èƒ½éå¸¸é«˜ã€‚ Node.js å‡ ä¹æ¯ä¸€ä¸ª API éƒ½æ˜¯æ”¯æŒå›è°ƒå‡½æ•°çš„ã€‚ Node.js åŸºæœ¬ä¸Šæ‰€æœ‰çš„äº‹ä»¶æœºåˆ¶éƒ½æ˜¯ç”¨è®¾è®¡æ¨¡å¼ä¸­è§‚å¯Ÿè€…æ¨¡å¼å®ç°ã€‚ Node.js å•çº¿ç¨‹ç±»ä¼¼è¿›å…¥ä¸€ä¸ªwhile(true)çš„äº‹ä»¶å¾ªç¯ï¼Œç›´åˆ°æ²¡æœ‰äº‹ä»¶è§‚å¯Ÿè€…é€€å‡ºï¼Œæ¯ä¸ªå¼‚æ­¥äº‹ä»¶éƒ½ç”Ÿæˆä¸€ä¸ªäº‹ä»¶è§‚å¯Ÿè€…ï¼Œå¦‚æœæœ‰äº‹ä»¶å‘ç”Ÿå°±è°ƒç”¨è¯¥å›è°ƒå‡½æ•°. äº‹ä»¶é©±åŠ¨ç¨‹åºNode.js ä½¿ç”¨äº‹ä»¶é©±åŠ¨æ¨¡å‹ï¼Œå½“web serveræ¥æ”¶åˆ°è¯·æ±‚ï¼Œå°±æŠŠå®ƒå…³é—­ç„¶åè¿›è¡Œå¤„ç†ï¼Œç„¶åå»æœåŠ¡ä¸‹ä¸€ä¸ªwebè¯·æ±‚ã€‚ å½“è¿™ä¸ªè¯·æ±‚å®Œæˆï¼Œå®ƒè¢«æ”¾å›å¤„ç†é˜Ÿåˆ—ï¼Œå½“åˆ°è¾¾é˜Ÿåˆ—å¼€å¤´ï¼Œè¿™ä¸ªç»“æœè¢«è¿”å›ç»™ç”¨æˆ·ã€‚ è¿™ä¸ªæ¨¡å‹éå¸¸é«˜æ•ˆå¯æ‰©å±•æ€§éå¸¸å¼ºï¼Œå› ä¸ºwebserverä¸€ç›´æ¥å—è¯·æ±‚è€Œä¸ç­‰å¾…ä»»ä½•è¯»å†™æ“ä½œã€‚ï¼ˆè¿™ä¹Ÿè¢«ç§°ä¹‹ä¸ºéé˜»å¡å¼IOæˆ–è€…äº‹ä»¶é©±åŠ¨IOï¼‰ åœ¨äº‹ä»¶é©±åŠ¨æ¨¡å‹ä¸­ï¼Œä¼šç”Ÿæˆä¸€ä¸ªä¸»å¾ªç¯æ¥ç›‘å¬äº‹ä»¶ï¼Œå½“æ£€æµ‹åˆ°äº‹ä»¶æ—¶è§¦å‘å›è°ƒå‡½æ•°ã€‚æ•´ä¸ªäº‹ä»¶é©±åŠ¨çš„æµç¨‹å°±æ˜¯è¿™ä¹ˆå®ç°çš„ï¼Œéå¸¸ç®€æ´ã€‚æœ‰ç‚¹ç±»ä¼¼äºè§‚å¯Ÿè€…æ¨¡å¼ï¼Œäº‹ä»¶ç›¸å½“äºä¸€ä¸ªä¸»é¢˜(Subject)ï¼Œè€Œæ‰€æœ‰æ³¨å†Œåˆ°è¿™ä¸ªäº‹ä»¶ä¸Šçš„å¤„ç†å‡½æ•°ç›¸å½“äºè§‚å¯Ÿè€…(Observer)ã€‚ Node.js æœ‰å¤šä¸ªå†…ç½®çš„äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¼•å…¥ events æ¨¡å—ï¼Œå¹¶é€šè¿‡å®ä¾‹åŒ– EventEmitter ç±»æ¥ç»‘å®šå’Œç›‘å¬äº‹ä»¶ï¼Œå¦‚ä¸‹å®ä¾‹ï¼š1234// å¼•å…¥ events æ¨¡å—var events = require(&apos;events&apos;);// åˆ›å»º eventEmitter å¯¹è±¡var eventEmitter = new events.EventEmitter(); ä¸‹ç¨‹åºç»‘å®šäº‹ä»¶å¤„ç†ç¨‹åºï¼š12// ç»‘å®šäº‹ä»¶åŠäº‹ä»¶çš„å¤„ç†ç¨‹åºeventEmitter.on(&apos;eventName&apos;, eventHandler); æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¨‹åºè§¦å‘äº‹ä»¶ï¼š12// è§¦å‘äº‹ä»¶eventEmitter.emit(&apos;eventName&apos;); å®ä¾‹åˆ›å»º main.js æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š å®ä¾‹12345678910111213141516171819202122232425// å¼•å…¥ events æ¨¡å—var events = require(&apos;events&apos;);// åˆ›å»º eventEmitter å¯¹è±¡var eventEmitter = new events.EventEmitter(); // åˆ›å»ºäº‹ä»¶å¤„ç†ç¨‹åºvar connectHandler = function connected() &#123; console.log(&apos;è¿æ¥æˆåŠŸã€‚&apos;); // è§¦å‘ data_received äº‹ä»¶ eventEmitter.emit(&apos;data_received&apos;);&#125; // ç»‘å®š connection äº‹ä»¶å¤„ç†ç¨‹åºeventEmitter.on(&apos;connection&apos;, connectHandler); // ä½¿ç”¨åŒ¿åå‡½æ•°ç»‘å®š data_received äº‹ä»¶eventEmitter.on(&apos;data_received&apos;, function()&#123; console.log(&apos;æ•°æ®æ¥æ”¶æˆåŠŸã€‚&apos;);&#125;); // è§¦å‘ connection äº‹ä»¶ eventEmitter.emit(&apos;connection&apos;); console.log(&quot;ç¨‹åºæ‰§è¡Œå®Œæ¯•ã€‚&quot;); æ¥ä¸‹æ¥è®©æˆ‘ä»¬æ‰§è¡Œä»¥ä¸Šä»£ç ï¼š1234$ node main.jsè¿æ¥æˆåŠŸã€‚æ•°æ®æ¥æ”¶æˆåŠŸã€‚ç¨‹åºæ‰§è¡Œå®Œæ¯•ã€‚ Node.js EventEmitterNode.js æ‰€æœ‰çš„å¼‚æ­¥ I/O æ“ä½œåœ¨å®Œæˆæ—¶éƒ½ä¼šå‘é€ä¸€ä¸ªäº‹ä»¶åˆ°äº‹ä»¶é˜Ÿåˆ—ã€‚ Node.js é‡Œé¢çš„è®¸å¤šå¯¹è±¡éƒ½ä¼šåˆ†å‘äº‹ä»¶ï¼šä¸€ä¸ª net.Server å¯¹è±¡ä¼šåœ¨æ¯æ¬¡æœ‰æ–°è¿æ¥æ—¶è§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œ ä¸€ä¸ª fs.readStream å¯¹è±¡ä¼šåœ¨æ–‡ä»¶è¢«æ‰“å¼€çš„æ—¶å€™è§¦å‘ä¸€ä¸ªäº‹ä»¶ã€‚ æ‰€æœ‰è¿™äº›äº§ç”Ÿäº‹ä»¶çš„å¯¹è±¡éƒ½æ˜¯ events.EventEmitter çš„å®ä¾‹ã€‚ EventEmitter ç±»events æ¨¡å—åªæä¾›äº†ä¸€ä¸ªå¯¹è±¡ï¼š events.EventEmitterã€‚EventEmitter çš„æ ¸å¿ƒå°±æ˜¯äº‹ä»¶è§¦å‘ä¸äº‹ä»¶ç›‘å¬å™¨åŠŸèƒ½çš„å°è£…ã€‚ ä½ å¯ä»¥é€šè¿‡require(â€œeventsâ€);æ¥è®¿é—®è¯¥æ¨¡å—ã€‚1234// å¼•å…¥ events æ¨¡å—var events = require(&apos;events&apos;);// åˆ›å»º eventEmitter å¯¹è±¡var eventEmitter = new events.EventEmitter(); EventEmitter å¯¹è±¡å¦‚æœåœ¨å®ä¾‹åŒ–æ—¶å‘ç”Ÿé”™è¯¯ï¼Œä¼šè§¦å‘ error äº‹ä»¶ã€‚å½“æ·»åŠ æ–°çš„ç›‘å¬å™¨æ—¶ï¼ŒnewListener äº‹ä»¶ä¼šè§¦å‘ï¼Œå½“ç›‘å¬å™¨è¢«ç§»é™¤æ—¶ï¼ŒremoveListener äº‹ä»¶è¢«è§¦å‘ã€‚ ä¸‹é¢æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­è¯´æ˜ EventEmitter çš„ç”¨æ³•ï¼š123456789//event.js æ–‡ä»¶var EventEmitter = require(&apos;events&apos;).EventEmitter; var event = new EventEmitter(); event.on(&apos;some_event&apos;, function() &#123; console.log(&apos;some_event äº‹ä»¶è§¦å‘&apos;); &#125;); setTimeout(function() &#123; event.emit(&apos;some_event&apos;); &#125;, 1000); æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š è¿è¡Œè¿™æ®µä»£ç ï¼Œ1 ç§’åæ§åˆ¶å°è¾“å‡ºäº† â€˜some_event äº‹ä»¶è§¦å‘â€™ã€‚å…¶åŸç†æ˜¯ event å¯¹è±¡æ³¨å†Œäº†äº‹ä»¶ some_event çš„ä¸€ä¸ªç›‘å¬å™¨ï¼Œç„¶åæˆ‘ä»¬é€šè¿‡ setTimeout åœ¨ 1000 æ¯«ç§’ä»¥åå‘ event å¯¹è±¡å‘é€äº‹ä»¶ some_eventï¼Œæ­¤æ—¶ä¼šè°ƒç”¨some_event çš„ç›‘å¬å™¨ã€‚12$ node event.js some_event äº‹ä»¶è§¦å‘ EventEmitter çš„æ¯ä¸ªäº‹ä»¶ç”±ä¸€ä¸ªäº‹ä»¶åå’Œè‹¥å¹²ä¸ªå‚æ•°ç»„æˆï¼Œäº‹ä»¶åæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šå¸¸è¡¨è¾¾ä¸€å®šçš„è¯­ä¹‰ã€‚å¯¹äºæ¯ä¸ªäº‹ä»¶ï¼ŒEventEmitter æ”¯æŒ è‹¥å¹²ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚ å½“äº‹ä»¶è§¦å‘æ—¶ï¼Œæ³¨å†Œåˆ°è¿™ä¸ªäº‹ä»¶çš„äº‹ä»¶ç›‘å¬å™¨è¢«ä¾æ¬¡è°ƒç”¨ï¼Œäº‹ä»¶å‚æ•°ä½œä¸ºå›è°ƒå‡½æ•°å‚æ•°ä¼ é€’ã€‚12345678910//event.js æ–‡ä»¶var events = require(&apos;events&apos;); var emitter = new events.EventEmitter(); emitter.on(&apos;someEvent&apos;, function(arg1, arg2) &#123; console.log(&apos;listener1&apos;, arg1, arg2); &#125;); emitter.on(&apos;someEvent&apos;, function(arg1, arg2) &#123; console.log(&apos;listener2&apos;, arg1, arg2); &#125;); emitter.emit(&apos;someEvent&apos;, &apos;arg1 å‚æ•°&apos;, &apos;arg2 å‚æ•°&apos;); æ‰§è¡Œä»¥ä¸Šä»£ç ï¼Œè¿è¡Œçš„ç»“æœå¦‚ä¸‹ï¼š123$ node event.js listener1 arg1 å‚æ•° arg2 å‚æ•°listener2 arg1 å‚æ•° arg2 å‚æ•° ä»¥ä¸Šä¾‹å­ä¸­ï¼Œemitter ä¸ºäº‹ä»¶ someEvent æ³¨å†Œäº†ä¸¤ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œç„¶åè§¦å‘äº† someEvent äº‹ä»¶ã€‚ è¿è¡Œç»“æœä¸­å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªäº‹ä»¶ç›‘å¬å™¨å›è°ƒå‡½æ•°è¢«å…ˆåè°ƒç”¨ã€‚ è¿™å°±æ˜¯EventEmitteræœ€ç®€å•çš„ç”¨æ³•ã€‚ EventEmitter æä¾›äº†å¤šä¸ªå±æ€§ï¼Œå¦‚ on å’Œ emitã€‚on å‡½æ•°ç”¨äºç»‘å®šäº‹ä»¶å‡½æ•°ï¼Œemit å±æ€§ç”¨äºè§¦å‘ä¸€ä¸ªäº‹ä»¶ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å…·ä½“çœ‹ä¸‹ EventEmitter çš„å±æ€§ä»‹ç»ã€‚ æ–¹æ³•","categories":[{"name":"Node","slug":"Node","permalink":"http://xdd7130.github.io/categories/Node/"}],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://xdd7130.github.io/tags/Node-js/"}]},{"title":"nodeåŸºç¡€(ä¸€)","slug":"node1","date":"2019-08-08T03:09:06.000Z","updated":"2022-11-02T11:15:20.555Z","comments":true,"path":"2019/08/08/node1/","link":"","permalink":"http://xdd7130.github.io/2019/08/08/node1/","excerpt":"","text":"JavaScriptçš„åç«¯å¼€å‘åœ¨Nodeä¸Šè¿è¡Œçš„JavaScriptç›¸æ¯”å…¶ä»–åç«¯å¼€å‘è¯­è¨€æœ‰ä½•ä¼˜åŠ¿ï¼Ÿæœ€å¤§çš„ä¼˜åŠ¿æ˜¯å€ŸåŠ©JavaScriptå¤©ç”Ÿçš„äº‹ä»¶é©±åŠ¨æœºåˆ¶åŠ V8é«˜æ€§èƒ½å¼•æ“ï¼Œä½¿ç¼–å†™é«˜æ€§èƒ½WebæœåŠ¡è½»è€Œæ˜“ä¸¾ å®‰è£…Node.jså’Œnpmç”±äºNode.jså¹³å°æ˜¯åœ¨åç«¯è¿è¡ŒJavaScriptä»£ç ï¼Œæ‰€ä»¥ï¼Œå¿…é¡»é¦–å…ˆåœ¨æœ¬æœºå®‰è£…Nodeç¯å¢ƒã€‚ å®‰è£…Node.jsä»Node.jså®˜ç½‘ä¸‹è½½å¯¹åº”å¹³å°çš„å®‰è£…ç¨‹åºå®‰è£…å®Œæˆåï¼Œåœ¨Windowsç¯å¢ƒä¸‹ï¼Œè¯·æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œç„¶åè¾“å…¥node -vï¼Œå¦‚æœå®‰è£…æ­£å¸¸ï¼Œä½ åº”è¯¥çœ‹åˆ°v7.6.0è¿™æ ·çš„è¾“å‡ºï¼š12C:\\Users\\IEUser&gt;node -vv7.6.0 npmåœ¨æ­£å¼å¼€å§‹Node.jså­¦ä¹ ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè®¤è¯†ä¸€ä¸‹npmã€‚ npmæ˜¯ä»€ä¹ˆä¸œä¸œï¼Ÿnpmå…¶å®æ˜¯Node.jsçš„åŒ…ç®¡ç†å·¥å…·ï¼ˆpackage managerï¼‰ã€‚ ä¸ºå•¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªåŒ…ç®¡ç†å·¥å…·å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬åœ¨Node.jsä¸Šå¼€å‘æ—¶ï¼Œä¼šç”¨åˆ°å¾ˆå¤šåˆ«äººå†™çš„JavaScriptä»£ç ã€‚å¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨åˆ«äººå†™çš„æŸä¸ªåŒ…ï¼Œæ¯æ¬¡éƒ½æ ¹æ®åç§°æœç´¢ä¸€ä¸‹å®˜æ–¹ç½‘ç«™ï¼Œä¸‹è½½ä»£ç ï¼Œè§£å‹ï¼Œå†ä½¿ç”¨ï¼Œéå¸¸ç¹çã€‚äºæ˜¯ä¸€ä¸ªé›†ä¸­ç®¡ç†çš„å·¥å…·åº”è¿è€Œç”Ÿï¼šå¤§å®¶éƒ½æŠŠè‡ªå·±å¼€å‘çš„æ¨¡å—æ‰“åŒ…åæ”¾åˆ°npmå®˜ç½‘ä¸Šï¼Œå¦‚æœè¦ä½¿ç”¨ï¼Œç›´æ¥é€šè¿‡npmå®‰è£…å°±å¯ä»¥ç›´æ¥ç”¨ï¼Œä¸ç”¨ç®¡ä»£ç å­˜åœ¨å“ªï¼Œåº”è¯¥ä»å“ªä¸‹è½½ã€‚ æ›´é‡è¦çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨æ¨¡å—Aï¼Œè€Œæ¨¡å—Aåˆä¾èµ–äºæ¨¡å—Bï¼Œæ¨¡å—Båˆä¾èµ–äºæ¨¡å—Xå’Œæ¨¡å—Yï¼Œnpmå¯ä»¥æ ¹æ®ä¾èµ–å…³ç³»ï¼ŒæŠŠæ‰€æœ‰ä¾èµ–çš„åŒ…éƒ½ä¸‹è½½ä¸‹æ¥å¹¶ç®¡ç†èµ·æ¥ã€‚å¦åˆ™ï¼Œé æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨ç®¡ç†ï¼Œè‚¯å®šæ—¢éº»çƒ¦åˆå®¹æ˜“å‡ºé”™ã€‚ è®²äº†è¿™ä¹ˆå¤šï¼Œnpmç©¶ç«Ÿåœ¨å“ªï¼Ÿ å…¶å®npmå·²ç»åœ¨Node.jså®‰è£…çš„æ—¶å€™é¡ºå¸¦è£…å¥½äº†ã€‚æˆ‘ä»¬åœ¨å‘½ä»¤æç¤ºç¬¦æˆ–è€…ç»ˆç«¯è¾“å…¥npm -vï¼Œåº”è¯¥çœ‹åˆ°ç±»ä¼¼çš„è¾“å‡ºï¼š12C:\\&gt;npm -v4.1.2 å¦‚æœç›´æ¥è¾“å…¥npmï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„è¾“å‡ºï¼š12345C:\\&gt; npmUsage: npm &lt;command&gt;where &lt;command&gt; is one of: å¸è½½æ¨¡å—æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¸è½½ Node.js æ¨¡å—ã€‚ $ npm uninstall expresså¸è½½åï¼Œä½ å¯ä»¥åˆ° /node_modules/ ç›®å½•ä¸‹æŸ¥çœ‹åŒ…æ˜¯å¦è¿˜å­˜åœ¨ï¼Œæˆ–è€…ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š $ npm ls æ›´æ–°æ¨¡å—æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ–°æ¨¡å—ï¼š $ npm update express æœç´¢æ¨¡å—ä½¿ç”¨ä»¥ä¸‹æ¥æœç´¢æ¨¡å—ï¼š$ npm search express NPM å¸¸ç”¨å‘½ä»¤ NPMæä¾›äº†å¾ˆå¤šå‘½ä»¤ï¼Œä¾‹å¦‚installå’Œpublishï¼Œä½¿ç”¨npm helpå¯æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤ã€‚ ä½¿ç”¨npm help å¯æŸ¥çœ‹æŸæ¡å‘½ä»¤çš„è¯¦ç»†å¸®åŠ©ï¼Œä¾‹å¦‚npm help installã€‚ åœ¨package.jsonæ‰€åœ¨ç›®å½•ä¸‹ä½¿ç”¨npm install . -gå¯å…ˆåœ¨æœ¬åœ°å®‰è£…å½“å‰å‘½ä»¤è¡Œç¨‹åºï¼Œå¯ç”¨äºå‘å¸ƒå‰çš„æœ¬åœ°æµ‹è¯•ã€‚ ä½¿ç”¨npm update å¯ä»¥æŠŠå½“å‰ç›®å½•ä¸‹node_moduleså­ç›®å½•é‡Œè¾¹çš„å¯¹åº”æ¨¡å—æ›´æ–°è‡³æœ€æ–°ç‰ˆæœ¬ã€‚ ä½¿ç”¨npm update -gå¯ä»¥æŠŠå…¨å±€å®‰è£…çš„å¯¹åº”å‘½ä»¤è¡Œç¨‹åºæ›´æ–°è‡³æœ€æ–°ç‰ˆã€‚ ä½¿ç”¨npm cache clearå¯ä»¥æ¸…ç©ºNPMæœ¬åœ°ç¼“å­˜ï¼Œç”¨äºå¯¹ä»˜ä½¿ç”¨ç›¸åŒç‰ˆæœ¬å·å‘å¸ƒæ–°ç‰ˆæœ¬ä»£ç çš„äººã€‚ ä½¿ç”¨npm unpublish @å¯ä»¥æ’¤é”€å‘å¸ƒè‡ªå·±å‘å¸ƒè¿‡çš„æŸä¸ªç‰ˆæœ¬ä»£ç ã€‚ ä½¿ç”¨æ·˜å® NPM é•œåƒ1$ npm install -g cnpm --registry=https://registry.npm.taobao.org è¿™æ ·å°±å¯ä»¥ä½¿ç”¨ cnpm å‘½ä»¤æ¥å®‰è£…æ¨¡å—äº†ï¼š1$ cnpm install [name] å°ç»“è¯·åœ¨æœ¬æœºå®‰è£…Node.jsç¯å¢ƒï¼Œå¹¶ç¡®ä¿nodeå’Œnpmèƒ½æ­£å¸¸è¿è¡Œã€‚ ç¬¬ä¸€ä¸ªNodeç¨‹åºç”¨æ–‡æœ¬ç¼–è¾‘å™¨å†™JavaScriptç¨‹åºï¼Œç„¶åä¿å­˜ä¸ºåç¼€ä¸º.jsçš„æ–‡ä»¶ï¼Œå°±å¯ä»¥ç”¨nodeç›´æ¥è¿è¡Œè¿™ä¸ªç¨‹åºäº†ã€‚ Nodeçš„äº¤äº’æ¨¡å¼å’Œç›´æ¥è¿è¡Œ.jsæ–‡ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ ç›´æ¥è¾“å…¥nodeè¿›å…¥äº¤äº’æ¨¡å¼ï¼Œç›¸å½“äºå¯åŠ¨äº†Nodeè§£é‡Šå™¨ï¼Œä½†æ˜¯ç­‰å¾…ä½ ä¸€è¡Œä¸€è¡Œåœ°è¾“å…¥æºä»£ç ï¼Œæ¯è¾“å…¥ä¸€è¡Œå°±æ‰§è¡Œä¸€è¡Œã€‚ ç›´æ¥è¿è¡Œnode hello.jsæ–‡ä»¶ç›¸å½“äºå¯åŠ¨äº†Nodeè§£é‡Šå™¨ï¼Œç„¶åä¸€æ¬¡æ€§æŠŠhello.jsæ–‡ä»¶çš„æºä»£ç ç»™æ‰§è¡Œäº†ï¼Œä½ æ˜¯æ²¡æœ‰æœºä¼šä»¥äº¤äº’çš„æ–¹å¼è¾“å…¥æºä»£ç çš„ã€‚ åœ¨ç¼–å†™JavaScriptä»£ç çš„æ—¶å€™ï¼Œå®Œå…¨å¯ä»¥ä¸€è¾¹åœ¨æ–‡æœ¬ç¼–è¾‘å™¨é‡Œå†™ä»£ç ï¼Œä¸€è¾¹å¼€ä¸€ä¸ªNodeäº¤äº’å¼å‘½ä»¤çª—å£ï¼Œåœ¨å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼ŒæŠŠéƒ¨åˆ†ä»£ç ç²˜åˆ°å‘½ä»¤è¡Œå»éªŒè¯ï¼Œäº‹åŠåŠŸå€ï¼å‰ææ˜¯å¾—æœ‰ä¸ª27â€™çš„è¶…å¤§æ˜¾ç¤ºå™¨ï¼ æ­å»ºNodeå¼€å‘ç¯å¢ƒä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ¥å¼€å‘Nodeç¨‹åºï¼Œæœ€å¤§çš„ç¼ºç‚¹æ˜¯æ•ˆç‡å¤ªä½ï¼Œè¿è¡ŒNodeç¨‹åºè¿˜éœ€è¦åœ¨å‘½ä»¤è¡Œå•ç‹¬æ•²å‘½ä»¤ã€‚å¦‚æœè¿˜éœ€è¦è°ƒè¯•ç¨‹åºï¼Œå°±æ›´åŠ éº»çƒ¦äº†ã€‚ æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªIDEé›†æˆå¼€å‘ç¯å¢ƒï¼Œè®©æˆ‘ä»¬èƒ½åœ¨ä¸€ä¸ªç¯å¢ƒé‡Œç¼–ç ã€è¿è¡Œã€è°ƒè¯•ï¼Œè¿™æ ·å°±å¯ä»¥å¤§å¤§æå‡å¼€å‘æ•ˆç‡ã€‚ Javaçš„é›†æˆå¼€å‘ç¯å¢ƒæœ‰Eclipseï¼ŒIntellij ideaç­‰ï¼ŒC#çš„é›†æˆå¼€å‘ç¯å¢ƒæœ‰Visual Studioï¼Œé‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼šNode.jsçš„é›†æˆå¼€å‘ç¯å¢ƒåˆ°åº•å“ªå®¶å¼ºï¼Ÿ è€ƒå¯ŸNode.jsçš„é›†æˆå¼€å‘ç¯å¢ƒï¼Œé‡ç‚¹æ”¾åœ¨å¯åŠ¨é€Ÿåº¦å¿«ï¼Œæ‰§è¡Œç®€å•ï¼Œè°ƒè¯•æ–¹ä¾¿è¿™ä¸‰ç‚¹ä¸Šã€‚å½“ç„¶ï¼Œå…è´¹ä½¿ç”¨æ˜¯ä¸€ä¸ªåŠ åˆ†é¡¹ã€‚ ç»¼åˆè€ƒå¯Ÿåï¼Œæˆ‘ä»¬éš†é‡å‘å¤§å®¶æ¨èNode.jsé›†æˆå¼€å‘ç¯å¢ƒï¼š vscodeVisual Studio Codeç”±å¾®è½¯å‡ºå“ï¼Œä½†å®ƒä¸æ˜¯é‚£ä¸ªå¤§å—å¤´çš„Visual Studioï¼Œå®ƒæ˜¯ä¸€ä¸ªç²¾ç®€ç‰ˆçš„è¿·ä½ Visual Studioï¼Œå¹¶ä¸”ï¼ŒVisual Studio Codeå¯ä»¥è·¨ï¼å¹³ï¼å°ï¼Windowsã€Macå’ŒLinuxé€šç”¨ã€‚ è¿è¡Œå’Œè°ƒè¯•JavaScriptåœ¨VS Codeä¸­ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸æ–¹ä¾¿åœ°è¿è¡ŒJavaScriptæ–‡ä»¶ã€‚ VS Codeä»¥æ–‡ä»¶å¤¹ä½œä¸ºå·¥ç¨‹ç›®å½•ï¼ˆWorkspace Dirï¼‰ï¼Œæ‰€æœ‰çš„JavaScriptæ–‡ä»¶éƒ½å­˜æ”¾åœ¨è¯¥ç›®å½•ä¸‹ã€‚æ­¤å¤–ï¼ŒVS Codeåœ¨å·¥ç¨‹ç›®å½•ä¸‹è¿˜éœ€è¦ä¸€ä¸ª.vscodeçš„é…ç½®ç›®å½•ï¼Œé‡Œé¢å­˜æ”¾é‡ŒVS Codeéœ€è¦çš„é…ç½®æ–‡ä»¶ã€‚ å‡è®¾æˆ‘ä»¬åœ¨C:\\Work\\ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªhelloç›®å½•ä½œä¸ºå·¥ç¨‹ç›®å½•ï¼Œå¹¶ç¼–å†™äº†ä¸€ä¸ªhello.jsæ–‡ä»¶ï¼Œåˆ™è¯¥å·¥ç¨‹ç›®å½•çš„ç»“æ„å¦‚ä¸‹ï¼š1234567hello/ &lt;-- workspace dir|+- hello.js &lt;-- JavaScript file|+- .vscode/ &lt;-- VS Code config | +- launch.json &lt;-- VS Code config file for JavaScript å¯ä»¥ç”¨VS Codeå¿«é€Ÿåˆ›å»ºlaunch.jsonï¼Œç„¶åä¿®æ”¹å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425&#123; &quot;version&quot;: &quot;0.2.0&quot;, &quot;configurations&quot;: [ &#123; &quot;name&quot;: &quot;Run hello.js&quot;, &quot;type&quot;: &quot;node&quot;, &quot;request&quot;: &quot;launch&quot;, &quot;program&quot;: &quot;$&#123;workspaceRoot&#125;/hello.js&quot;, &quot;stopOnEntry&quot;: false, &quot;args&quot;: [], &quot;cwd&quot;: &quot;$&#123;workspaceRoot&#125;&quot;, &quot;preLaunchTask&quot;: null, &quot;runtimeExecutable&quot;: null, &quot;runtimeArgs&quot;: [ &quot;--nolazy&quot; ], &quot;env&quot;: &#123; &quot;NODE_ENV&quot;: &quot;development&quot; &#125;, &quot;externalConsole&quot;: false, &quot;sourceMaps&quot;: false, &quot;outDir&quot;: null &#125; ]&#125; æœ‰äº†é…ç½®æ–‡ä»¶ï¼Œå³å¯ä½¿ç”¨VS Codeè°ƒè¯•JavaScriptã€‚ æ¨¡å—åœ¨è®¡ç®—æœºç¨‹åºçš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œéšç€ç¨‹åºä»£ç è¶Šå†™è¶Šå¤šï¼Œåœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œä»£ç å°±ä¼šè¶Šæ¥è¶Šé•¿ï¼Œè¶Šæ¥è¶Šä¸å®¹æ˜“ç»´æŠ¤ã€‚ ä¸ºäº†ç¼–å†™å¯ç»´æŠ¤çš„ä»£ç ï¼Œæˆ‘ä»¬æŠŠå¾ˆå¤šå‡½æ•°åˆ†ç»„ï¼Œåˆ†åˆ«æ”¾åˆ°ä¸åŒçš„æ–‡ä»¶é‡Œï¼Œè¿™æ ·ï¼Œæ¯ä¸ªæ–‡ä»¶åŒ…å«çš„ä»£ç å°±ç›¸å¯¹è¾ƒå°‘ï¼Œå¾ˆå¤šç¼–ç¨‹è¯­è¨€éƒ½é‡‡ç”¨è¿™ç§ç»„ç»‡ä»£ç çš„æ–¹å¼ã€‚åœ¨Nodeç¯å¢ƒä¸­ï¼Œä¸€ä¸ª.jsæ–‡ä»¶å°±ç§°ä¹‹ä¸ºä¸€ä¸ªæ¨¡å—ï¼ˆmoduleï¼‰ã€‚ ä½¿ç”¨æ¨¡å—æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ æœ€å¤§çš„å¥½å¤„æ˜¯å¤§å¤§æé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚å…¶æ¬¡ï¼Œç¼–å†™ä»£ç ä¸å¿…ä»é›¶å¼€å§‹ã€‚å½“ä¸€ä¸ªæ¨¡å—ç¼–å†™å®Œæ¯•ï¼Œå°±å¯ä»¥è¢«å…¶ä»–åœ°æ–¹å¼•ç”¨ã€‚æˆ‘ä»¬åœ¨ç¼–å†™ç¨‹åºçš„æ—¶å€™ï¼Œä¹Ÿç»å¸¸å¼•ç”¨å…¶ä»–æ¨¡å—ï¼ŒåŒ…æ‹¬Nodeå†…ç½®çš„æ¨¡å—å’Œæ¥è‡ªç¬¬ä¸‰æ–¹çš„æ¨¡å—ã€‚ ä½¿ç”¨æ¨¡å—è¿˜å¯ä»¥é¿å…å‡½æ•°åå’Œå˜é‡åå†²çªã€‚ç›¸åŒåå­—çš„å‡½æ•°å’Œå˜é‡å®Œå…¨å¯ä»¥åˆ†åˆ«å­˜åœ¨ä¸åŒçš„æ¨¡å—ä¸­ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬è‡ªå·±åœ¨ç¼–å†™æ¨¡å—æ—¶ï¼Œä¸å¿…è€ƒè™‘åå­—ä¼šä¸å…¶ä»–æ¨¡å—å†²çªã€‚ åœ¨ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªhello.jsæ–‡ä»¶ï¼Œè¿™ä¸ªhello.jsæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæ¨¡å—çš„åå­—å°±æ˜¯æ–‡ä»¶åï¼ˆå»æ‰.jsåç¼€ï¼‰ï¼Œæ‰€ä»¥hello.jsæ–‡ä»¶å°±æ˜¯åä¸ºhelloçš„æ¨¡å—ã€‚ æˆ‘ä»¬æŠŠhello.jsæ”¹é€ ä¸€ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼š123456789&apos;use strict&apos;;var s = &apos;Hello&apos;;function greet(name) &#123; console.log(s + &apos;, &apos; + name + &apos;!&apos;);&#125;module.exports = greet; å‡½æ•°greet()æ˜¯æˆ‘ä»¬åœ¨helloæ¨¡å—ä¸­å®šä¹‰çš„ï¼Œä½ å¯èƒ½æ³¨æ„åˆ°æœ€åä¸€è¡Œæ˜¯ä¸€ä¸ªå¥‡æ€ªçš„èµ‹å€¼è¯­å¥ï¼Œå®ƒçš„æ„æ€æ˜¯ï¼ŒæŠŠå‡½æ•°greetä½œä¸ºæ¨¡å—çš„è¾“å‡ºæš´éœ²å‡ºå»ï¼Œè¿™æ ·å…¶ä»–æ¨¡å—å°±å¯ä»¥ä½¿ç”¨greetå‡½æ•°äº†ã€‚ é—®é¢˜æ˜¯å…¶ä»–æ¨¡å—æ€ä¹ˆä½¿ç”¨helloæ¨¡å—çš„è¿™ä¸ªgreetå‡½æ•°å‘¢ï¼Ÿæˆ‘ä»¬å†ç¼–å†™ä¸€ä¸ªmain.jsæ–‡ä»¶ï¼Œè°ƒç”¨helloæ¨¡å—çš„greetå‡½æ•°ï¼š12345678&apos;use strict&apos;;// å¼•å…¥helloæ¨¡å—:var greet = require(&apos;./hello&apos;);var s = &apos;Michael&apos;;greet(s); // Hello, Michael! æ³¨æ„åˆ°å¼•å…¥helloæ¨¡å—ç”¨Nodeæä¾›çš„requireå‡½æ•°ï¼š1var greet = require(&apos;./hello&apos;); å¼•å…¥çš„æ¨¡å—ä½œä¸ºå˜é‡ä¿å­˜åœ¨greetå˜é‡ä¸­ï¼Œé‚£greetå˜é‡åˆ°åº•æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿå…¶å®å˜é‡greetå°±æ˜¯åœ¨hello.jsä¸­æˆ‘ä»¬ç”¨module.exports = greet;è¾“å‡ºçš„greetå‡½æ•°ã€‚æ‰€ä»¥ï¼Œmain.jså°±æˆåŠŸåœ°å¼•ç”¨äº†hello.jsæ¨¡å—ä¸­å®šä¹‰çš„greet()å‡½æ•°ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒäº†ã€‚ åœ¨ä½¿ç”¨require()å¼•å…¥æ¨¡å—çš„æ—¶å€™ï¼Œè¯·æ³¨æ„æ¨¡å—çš„ç›¸å¯¹è·¯å¾„ã€‚å› ä¸ºmain.jså’Œhello.jsä½äºåŒä¸€ä¸ªç›®å½•ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨äº†å½“å‰ç›®å½•.ï¼š1var greet = require(&apos;./hello&apos;); // ä¸è¦å¿˜äº†å†™ç›¸å¯¹ç›®å½•! å¦‚æœåªå†™æ¨¡å—åï¼š1var greet = require(&apos;hello&apos;); åˆ™Nodeä¼šä¾æ¬¡åœ¨å†…ç½®æ¨¡å—ã€å…¨å±€æ¨¡å—å’Œå½“å‰æ¨¡å—ä¸‹æŸ¥æ‰¾hello.jsï¼Œä½ å¾ˆå¯èƒ½ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼š123456789module.js throw err; ^Error: Cannot find module &apos;hello&apos; at Function.Module._resolveFilename at Function.Module._load ... at Function.Module._load at Function.Module.runMain é‡åˆ°è¿™ä¸ªé”™è¯¯ï¼Œä½ è¦æ£€æŸ¥ï¼š æ¨¡å—åæ˜¯å¦å†™å¯¹äº†ï¼› æ¨¡å—æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼› ç›¸å¯¹è·¯å¾„æ˜¯å¦å†™å¯¹äº†ã€‚ CommonJSè§„èŒƒè¿™ç§æ¨¡å—åŠ è½½æœºåˆ¶è¢«ç§°ä¸ºCommonJSè§„èŒƒã€‚åœ¨è¿™ä¸ªè§„èŒƒä¸‹ï¼Œæ¯ä¸ª.jsæ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œå®ƒä»¬å†…éƒ¨å„è‡ªä½¿ç”¨çš„å˜é‡åå’Œå‡½æ•°åéƒ½äº’ä¸å†²çªï¼Œä¾‹å¦‚ï¼Œhello.jså’Œmain.jséƒ½ç”³æ˜äº†å…¨å±€å˜é‡var s = â€˜xxxâ€™ï¼Œä½†äº’ä¸å½±å“ã€‚ ä¸€ä¸ªæ¨¡å—æƒ³è¦å¯¹å¤–æš´éœ²å˜é‡ï¼ˆå‡½æ•°ä¹Ÿæ˜¯å˜é‡ï¼‰ï¼Œå¯ä»¥ç”¨module.exports = variable;ï¼Œä¸€ä¸ªæ¨¡å—è¦å¼•ç”¨å…¶ä»–æ¨¡å—æš´éœ²çš„å˜é‡ï¼Œç”¨var ref = require(â€˜module_nameâ€™);å°±æ‹¿åˆ°äº†å¼•ç”¨æ¨¡å—çš„å˜é‡ã€‚ ç»“è®ºè¦åœ¨æ¨¡å—ä¸­å¯¹å¤–è¾“å‡ºå˜é‡ï¼Œç”¨ï¼š1module.exports = variable; è¾“å‡ºçš„å˜é‡å¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ã€å‡½æ•°ã€æ•°ç»„ç­‰ç­‰ã€‚ è¦å¼•å…¥å…¶ä»–æ¨¡å—è¾“å‡ºçš„å¯¹è±¡ï¼Œç”¨ï¼š1var foo = require(&apos;other_module&apos;); å¼•å…¥çš„å¯¹è±¡å…·ä½“æ˜¯ä»€ä¹ˆï¼Œå–å†³äºå¼•å…¥æ¨¡å—è¾“å‡ºçš„å¯¹è±¡ã€‚ module.exports vs exportså¾ˆå¤šæ—¶å€™ï¼Œä½ ä¼šçœ‹åˆ°ï¼Œåœ¨Nodeç¯å¢ƒä¸­ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥åœ¨ä¸€ä¸ªæ¨¡å—ä¸­è¾“å‡ºå˜é‡ï¼š æ–¹æ³•ä¸€ï¼šå¯¹module.exportsèµ‹å€¼ï¼š1234567891011121314// hello.jsfunction hello() &#123; console.log(&apos;Hello, world!&apos;);&#125;function greet(name) &#123; console.log(&apos;Hello, &apos; + name + &apos;!&apos;);&#125;module.exports = &#123; hello: hello, greet: greet&#125;; æ–¹æ³•äºŒï¼šç›´æ¥ä½¿ç”¨exportsï¼š12345678910111213141516// hello.jsfunction hello() &#123; console.log(&apos;Hello, world!&apos;);&#125;function greet(name) &#123; console.log(&apos;Hello, &apos; + name + &apos;!&apos;);&#125;function hello() &#123; console.log(&apos;Hello, world!&apos;);&#125;exports.hello = hello;exports.greet = greet; ä½†æ˜¯ä½ ä¸å¯ä»¥ç›´æ¥å¯¹exportsèµ‹å€¼ï¼š12345// ä»£ç å¯ä»¥æ‰§è¡Œï¼Œä½†æ˜¯æ¨¡å—å¹¶æ²¡æœ‰è¾“å‡ºä»»ä½•å˜é‡:exports = &#123; hello: hello, greet: greet&#125;","categories":[{"name":"Node","slug":"Node","permalink":"http://xdd7130.github.io/categories/Node/"}],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://xdd7130.github.io/tags/Node-js/"}]},{"title":"WebSocket","slug":"WebSocket","date":"2019-08-07T12:42:20.000Z","updated":"2022-11-02T11:15:20.544Z","comments":true,"path":"2019/08/07/WebSocket/","link":"","permalink":"http://xdd7130.github.io/2019/08/07/WebSocket/","excerpt":"","text":"WebSocketWebSocketæ˜¯HTML5æ–°å¢çš„åè®®ï¼Œå®ƒçš„ç›®çš„æ˜¯åœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªä¸å—é™çš„åŒå‘é€šä¿¡çš„é€šé“ï¼Œæ¯”å¦‚è¯´ï¼ŒæœåŠ¡å™¨å¯ä»¥åœ¨ä»»æ„æ—¶åˆ»å‘é€æ¶ˆæ¯ç»™æµè§ˆå™¨ã€‚ WebSocket æ˜¯ HTML5 å¼€å§‹æä¾›çš„ä¸€ç§åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šè®¯çš„åè®®ã€‚ WebSocketä½¿å¾—å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®äº¤æ¢å˜å¾—æ›´åŠ ç®€å•ï¼Œå…è®¸æœåŠ¡ç«¯ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®ã€‚åœ¨ WebSocket API ä¸­ï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨åªéœ€è¦å®Œæˆä¸€æ¬¡æ¡æ‰‹ï¼Œä¸¤è€…ä¹‹é—´å°±ç›´æ¥å¯ä»¥åˆ›å»ºæŒä¹…æ€§çš„è¿æ¥ï¼Œå¹¶è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“ã€‚ åœ¨ WebSocket API ä¸­ï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨åªéœ€è¦åšä¸€ä¸ªæ¡æ‰‹çš„åŠ¨ä½œï¼Œç„¶åï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´å°±å½¢æˆäº†ä¸€æ¡å¿«é€Ÿé€šé“ã€‚ä¸¤è€…ä¹‹é—´å°±ç›´æ¥å¯ä»¥æ•°æ®äº’ç›¸ä¼ é€ã€‚ ç°åœ¨ï¼Œå¾ˆå¤šç½‘ç«™ä¸ºäº†å®ç°æ¨é€æŠ€æœ¯ï¼Œæ‰€ç”¨çš„æŠ€æœ¯éƒ½æ˜¯ Ajax è½®è¯¢ã€‚è½®è¯¢æ˜¯åœ¨ç‰¹å®šçš„çš„æ—¶é—´é—´éš”ï¼ˆå¦‚æ¯1ç§’ï¼‰ï¼Œç”±æµè§ˆå™¨å¯¹æœåŠ¡å™¨å‘å‡ºHTTPè¯·æ±‚ï¼Œç„¶åç”±æœåŠ¡å™¨è¿”å›æœ€æ–°çš„æ•°æ®ç»™å®¢æˆ·ç«¯çš„æµè§ˆå™¨ã€‚è¿™ç§ä¼ ç»Ÿçš„æ¨¡å¼å¸¦æ¥å¾ˆæ˜æ˜¾çš„ç¼ºç‚¹ï¼Œå³æµè§ˆå™¨éœ€è¦ä¸æ–­çš„å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œç„¶è€ŒHTTPè¯·æ±‚å¯èƒ½åŒ…å«è¾ƒé•¿çš„å¤´éƒ¨ï¼Œå…¶ä¸­çœŸæ­£æœ‰æ•ˆçš„æ•°æ®å¯èƒ½åªæ˜¯å¾ˆå°çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¾ç„¶è¿™æ ·ä¼šæµªè´¹å¾ˆå¤šçš„å¸¦å®½ç­‰èµ„æºã€‚ HTML5 å®šä¹‰çš„ WebSocket åè®®ï¼Œèƒ½æ›´å¥½çš„èŠ‚çœæœåŠ¡å™¨èµ„æºå’Œå¸¦å®½ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ›´å®æ—¶åœ°è¿›è¡Œé€šè®¯ã€‚æµè§ˆå™¨é€šè¿‡ JavaScript å‘æœåŠ¡å™¨å‘å‡ºå»ºç«‹ WebSocket è¿æ¥çš„è¯·æ±‚ï¼Œè¿æ¥å»ºç«‹ä»¥åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å°±å¯ä»¥é€šè¿‡ TCP è¿æ¥ç›´æ¥äº¤æ¢æ•°æ®ã€‚ å½“ä½ è·å– Web Socket è¿æ¥åï¼Œä½ å¯ä»¥é€šè¿‡ send() æ–¹æ³•æ¥å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œå¹¶é€šè¿‡ onmessage äº‹ä»¶æ¥æ¥æ”¶æœåŠ¡å™¨è¿”å›çš„æ•°æ®ã€‚ ä»¥ä¸‹ API ç”¨äºåˆ›å»º WebSocket å¯¹è±¡ã€‚1var Socket = new WebSocket(url, [protocol] ); ä»¥ä¸Šä»£ç ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•° url, æŒ‡å®šè¿æ¥çš„ URLã€‚ç¬¬äºŒä¸ªå‚æ•° protocol æ˜¯å¯é€‰çš„ï¼ŒæŒ‡å®šäº†å¯æ¥å—çš„å­åè®®ã€‚ WebSocket å±æ€§ä»¥ä¸‹æ˜¯ WebSocket å¯¹è±¡çš„å±æ€§ã€‚å‡å®šæˆ‘ä»¬ä½¿ç”¨äº†ä»¥ä¸Šä»£ç åˆ›å»ºäº† Socket å¯¹è±¡ï¼š WebSocket äº‹ä»¶ä»¥ä¸‹æ˜¯ WebSocket å¯¹è±¡çš„ç›¸å…³äº‹ä»¶ã€‚å‡å®šæˆ‘ä»¬ä½¿ç”¨äº†ä»¥ä¸Šä»£ç åˆ›å»ºäº† Socket å¯¹è±¡ï¼š WebSocket æ–¹æ³•ä»¥ä¸‹æ˜¯ WebSocket å¯¹è±¡çš„ç›¸å…³æ–¹æ³•ã€‚å‡å®šæˆ‘ä»¬ä½¿ç”¨äº†ä»¥ä¸Šä»£ç åˆ›å»ºäº† Socket å¯¹è±¡ï¼š WebSocket åè®®æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŸºäº TCP çš„åè®®ã€‚ ä¸ºäº†å»ºç«‹ä¸€ä¸ª WebSocket è¿æ¥ï¼Œå®¢æˆ·ç«¯æµè§ˆå™¨é¦–å…ˆè¦å‘æœåŠ¡å™¨å‘èµ·ä¸€ä¸ª HTTP è¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚å’Œé€šå¸¸çš„ HTTP è¯·æ±‚ä¸åŒï¼ŒåŒ…å«äº†ä¸€äº›é™„åŠ å¤´ä¿¡æ¯ï¼Œå…¶ä¸­é™„åŠ å¤´ä¿¡æ¯â€Upgrade: WebSocketâ€è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªç”³è¯·åè®®å‡çº§çš„ HTTP è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯è§£æè¿™äº›é™„åŠ çš„å¤´ä¿¡æ¯ç„¶åäº§ç”Ÿåº”ç­”ä¿¡æ¯è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„ WebSocket è¿æ¥å°±å»ºç«‹èµ·æ¥äº†ï¼ŒåŒæ–¹å°±å¯ä»¥é€šè¿‡è¿™ä¸ªè¿æ¥é€šé“è‡ªç”±çš„ä¼ é€’ä¿¡æ¯ï¼Œå¹¶ä¸”è¿™ä¸ªè¿æ¥ä¼šæŒç»­å­˜åœ¨ç›´åˆ°å®¢æˆ·ç«¯æˆ–è€…æœåŠ¡å™¨ç«¯çš„æŸä¸€æ–¹ä¸»åŠ¨çš„å…³é—­è¿æ¥ã€‚","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"WebSocket","slug":"WebSocket","permalink":"http://xdd7130.github.io/tags/WebSocket/"}]},{"title":"pythonåŸºç¡€(å››)","slug":"pythonåŸºç¡€4","date":"2019-08-07T12:04:14.000Z","updated":"2022-11-02T11:15:20.668Z","comments":true,"path":"2019/08/07/pythonåŸºç¡€4/","link":"","permalink":"http://xdd7130.github.io/2019/08/07/pythonåŸºç¡€4/","excerpt":"","text":"Python æ¨¡å—Python æ¨¡å—(Module)ï¼Œæ˜¯ä¸€ä¸ª Python æ–‡ä»¶ï¼Œä»¥ .py ç»“å°¾ï¼ŒåŒ…å«äº† Python å¯¹è±¡å®šä¹‰å’ŒPythonè¯­å¥ã€‚ æ¨¡å—è®©ä½ èƒ½å¤Ÿæœ‰é€»è¾‘åœ°ç»„ç»‡ä½ çš„ Python ä»£ç æ®µã€‚ æŠŠç›¸å…³çš„ä»£ç åˆ†é…åˆ°ä¸€ä¸ªæ¨¡å—é‡Œèƒ½è®©ä½ çš„ä»£ç æ›´å¥½ç”¨ï¼Œæ›´æ˜“æ‡‚ã€‚ æ¨¡å—èƒ½å®šä¹‰å‡½æ•°ï¼Œç±»å’Œå˜é‡ï¼Œæ¨¡å—é‡Œä¹Ÿèƒ½åŒ…å«å¯æ‰§è¡Œçš„ä»£ç ã€‚ä¸‹ä¾‹æ˜¯ä¸ªç®€å•çš„æ¨¡å— support.pyï¼š123def print_func( par ): print &quot;Hello : &quot;, par return import è¯­å¥1import module1[, module2[,... moduleN]] æ¯”å¦‚è¦å¼•ç”¨æ¨¡å— mathï¼Œå°±å¯ä»¥åœ¨æ–‡ä»¶æœ€å¼€å§‹çš„åœ°æ–¹ç”¨ import math æ¥å¼•å…¥ã€‚åœ¨è°ƒç”¨ math æ¨¡å—ä¸­çš„å‡½æ•°æ—¶ï¼Œå¿…é¡»è¿™æ ·å¼•ç”¨ï¼š1æ¨¡å—å.å‡½æ•°å å½“è§£é‡Šå™¨é‡åˆ° import è¯­å¥ï¼Œå¦‚æœæ¨¡å—åœ¨å½“å‰çš„æœç´¢è·¯å¾„å°±ä¼šè¢«å¯¼å…¥ã€‚ æœç´¢è·¯å¾„æ˜¯ä¸€ä¸ªè§£é‡Šå™¨ä¼šå…ˆè¿›è¡Œæœç´¢çš„æ‰€æœ‰ç›®å½•çš„åˆ—è¡¨ã€‚å¦‚æƒ³è¦å¯¼å…¥æ¨¡å— support.pyï¼Œéœ€è¦æŠŠå‘½ä»¤æ”¾åœ¨è„šæœ¬çš„é¡¶ç«¯ï¼š test.py æ–‡ä»¶ä»£ç ï¼š12345678#!/usr/bin/python# -*- coding: UTF-8 -*- # å¯¼å…¥æ¨¡å—import support # ç°åœ¨å¯ä»¥è°ƒç”¨æ¨¡å—é‡ŒåŒ…å«çš„å‡½æ•°äº†support.print_func(&quot;Runoob&quot;) fromâ€¦import è¯­å¥Python çš„ from è¯­å¥è®©ä½ ä»æ¨¡å—ä¸­å¯¼å…¥ä¸€ä¸ªæŒ‡å®šçš„éƒ¨åˆ†åˆ°å½“å‰å‘½åç©ºé—´ä¸­ã€‚è¯­æ³•å¦‚ä¸‹ï¼š1from modname import name1[, name2[, ... nameN]] ä¾‹å¦‚ï¼Œè¦å¯¼å…¥æ¨¡å— fib çš„ fibonacci å‡½æ•°ï¼Œä½¿ç”¨å¦‚ä¸‹è¯­å¥ï¼š1from fib import fibonacci fromâ€¦import* è¯­å¥æŠŠä¸€ä¸ªæ¨¡å—çš„æ‰€æœ‰å†…å®¹å…¨éƒ½å¯¼å…¥åˆ°å½“å‰çš„å‘½åç©ºé—´ä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œåªéœ€ä½¿ç”¨å¦‚ä¸‹å£°æ˜ï¼š1from modname import * dir()å‡½æ•°dir() å‡½æ•°ä¸€ä¸ªæ’å¥½åºçš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œå†…å®¹æ˜¯ä¸€ä¸ªæ¨¡å—é‡Œå®šä¹‰è¿‡çš„åå­—ã€‚ è¿”å›çš„åˆ—è¡¨å®¹çº³äº†åœ¨ä¸€ä¸ªæ¨¡å—é‡Œå®šä¹‰çš„æ‰€æœ‰æ¨¡å—ï¼Œå˜é‡å’Œå‡½æ•°ã€‚å¦‚ä¸‹ä¸€ä¸ªç®€å•çš„å®ä¾‹ï¼š123456789#!/usr/bin/python# -*- coding: UTF-8 -*- # å¯¼å…¥å†…ç½®mathæ¨¡å—import math content = dir(math) print content; Python æ–‡ä»¶I/Oæ‰“å°åˆ°å±å¹•æœ€ç®€å•çš„è¾“å‡ºæ–¹æ³•æ˜¯ç”¨printè¯­å¥ï¼Œä½ å¯ä»¥ç»™å®ƒä¼ é€’é›¶ä¸ªæˆ–å¤šä¸ªç”¨é€—å·éš”å¼€çš„è¡¨è¾¾å¼ã€‚æ­¤å‡½æ•°æŠŠä½ ä¼ é€’çš„è¡¨è¾¾å¼è½¬æ¢æˆä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼ï¼Œå¹¶å°†ç»“æœå†™åˆ°æ ‡å‡†è¾“å‡ºå¦‚ä¸‹ï¼š1234#!/usr/bin/python# -*- coding: UTF-8 -*- print &quot;Python æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„è¯­è¨€ï¼Œä¸æ˜¯å—ï¼Ÿ&quot; è¯»å–é”®ç›˜è¾“å…¥Pythonæä¾›äº†ä¸¤ä¸ªå†…ç½®å‡½æ•°ä»æ ‡å‡†è¾“å…¥è¯»å…¥ä¸€è¡Œæ–‡æœ¬ï¼Œé»˜è®¤çš„æ ‡å‡†è¾“å…¥æ˜¯é”®ç›˜ã€‚å¦‚ä¸‹ï¼š raw_input input æ‰“å¼€å’Œå…³é—­æ–‡ä»¶open å‡½æ•°ä½ å¿…é¡»å…ˆç”¨Pythonå†…ç½®çš„open()å‡½æ•°æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªfileå¯¹è±¡ï¼Œç›¸å…³çš„æ–¹æ³•æ‰å¯ä»¥è°ƒç”¨å®ƒè¿›è¡Œè¯»å†™ã€‚1file object = open(file_name [, access_mode][, buffering]) file_nameï¼šfile_nameå˜é‡æ˜¯ä¸€ä¸ªåŒ…å«äº†ä½ è¦è®¿é—®çš„æ–‡ä»¶åç§°çš„å­—ç¬¦ä¸²å€¼ã€‚ access_modeï¼šaccess_modeå†³å®šäº†æ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼ï¼šåªè¯»ï¼Œå†™å…¥ï¼Œè¿½åŠ ç­‰ã€‚æ‰€æœ‰å¯å–å€¼è§å¦‚ä¸‹çš„å®Œå…¨åˆ—è¡¨ã€‚è¿™ä¸ªå‚æ•°æ˜¯éå¼ºåˆ¶çš„ï¼Œé»˜è®¤æ–‡ä»¶è®¿é—®æ¨¡å¼ä¸ºåªè¯»(r)ã€‚ buffering:å¦‚æœbufferingçš„å€¼è¢«è®¾ä¸º0ï¼Œå°±ä¸ä¼šæœ‰å¯„å­˜ã€‚å¦‚æœbufferingçš„å€¼å–1ï¼Œè®¿é—®æ–‡ä»¶æ—¶ä¼šå¯„å­˜è¡Œã€‚å¦‚æœå°†bufferingçš„å€¼è®¾ä¸ºå¤§äº1çš„æ•´æ•°ï¼Œè¡¨æ˜äº†è¿™å°±æ˜¯çš„å¯„å­˜åŒºçš„ç¼“å†²å¤§å°ã€‚å¦‚æœå–è´Ÿå€¼ï¼Œå¯„å­˜åŒºçš„ç¼“å†²å¤§å°åˆ™ä¸ºç³»ç»Ÿé»˜è®¤ã€‚ write()æ–¹æ³•write()æ–¹æ³•å¯å°†ä»»ä½•å­—ç¬¦ä¸²å†™å…¥ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶ã€‚éœ€è¦é‡ç‚¹æ³¨æ„çš„æ˜¯ï¼ŒPythonå­—ç¬¦ä¸²å¯ä»¥æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œè€Œä¸æ˜¯ä»…ä»…æ˜¯æ–‡å­—ã€‚ write()æ–¹æ³•ä¸ä¼šåœ¨å­—ç¬¦ä¸²çš„ç»“å°¾æ·»åŠ æ¢è¡Œç¬¦(â€˜\\nâ€™) read()æ–¹æ³•readï¼ˆï¼‰æ–¹æ³•ä»ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶ä¸­è¯»å–ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚éœ€è¦é‡ç‚¹æ³¨æ„çš„æ˜¯ï¼ŒPythonå­—ç¬¦ä¸²å¯ä»¥æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œè€Œä¸æ˜¯ä»…ä»…æ˜¯æ–‡å­—ã€‚ remove()æ–¹æ³•ä½ å¯ä»¥ç”¨remove()æ–¹æ³•åˆ é™¤æ–‡ä»¶ï¼Œéœ€è¦æä¾›è¦åˆ é™¤çš„æ–‡ä»¶åä½œä¸ºå‚æ•° tell()æ–¹æ³•,seekï¼ˆoffset [,from]ï¼‰æ–‡ä»¶å®šä½ é‡å‘½åå’Œåˆ é™¤æ–‡ä»¶ Pythonçš„osæ¨¡å—æä¾›äº†å¸®ä½ æ‰§è¡Œæ–‡ä»¶å¤„ç†æ“ä½œçš„æ–¹æ³•ï¼Œæ¯”å¦‚é‡å‘½åå’Œåˆ é™¤æ–‡ä»¶ã€‚è¦ä½¿ç”¨è¿™ä¸ªæ¨¡å—ï¼Œä½ å¿…é¡»å…ˆå¯¼å…¥å®ƒï¼Œç„¶åæ‰å¯ä»¥è°ƒç”¨ç›¸å…³çš„å„ç§åŠŸèƒ½ã€‚rename()æ–¹æ³•ï¼šrename()æ–¹æ³•éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œå½“å‰çš„æ–‡ä»¶åå’Œæ–°æ–‡ä»¶åã€‚ 1os.rename(current_file_name, new_file_name) ä¸‹ä¾‹å°†é‡å‘½åä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ–‡ä»¶test1.txtã€‚1234567#!/usr/bin/python# -*- coding: UTF-8 -*-import os # é‡å‘½åæ–‡ä»¶test1.txtåˆ°test2.txtã€‚os.rename( &quot;test1.txt&quot;, &quot;test2.txt&quot; ) remove()æ–¹æ³•ä½ å¯ä»¥ç”¨remove()æ–¹æ³•åˆ é™¤æ–‡ä»¶ï¼Œéœ€è¦æä¾›è¦åˆ é™¤çš„æ–‡ä»¶åä½œä¸ºå‚æ•°ã€‚è¯­æ³•ï¼š1os.remove(file_name) ä¾‹å­ï¼š1234567#!/usr/bin/python# -*- coding: UTF-8 -*-import os # åˆ é™¤ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ–‡ä»¶test2.txtos.remove(&quot;test2.txt&quot;)","categories":[{"name":"python","slug":"python","permalink":"http://xdd7130.github.io/categories/python/"}],"tags":[{"name":"pythonåŸºç¡€","slug":"pythonåŸºç¡€","permalink":"http://xdd7130.github.io/tags/pythonåŸºç¡€/"}]},{"title":"pythonåŸºç¡€(ä¸‰)--æ•°æ®ç±»å‹","slug":"pythonåŸºç¡€3","date":"2019-08-07T10:59:42.000Z","updated":"2022-11-02T11:15:20.660Z","comments":true,"path":"2019/08/07/pythonåŸºç¡€3/","link":"","permalink":"http://xdd7130.github.io/2019/08/07/pythonåŸºç¡€3/","excerpt":"","text":"Python Number(æ•°å­—)Python Number æ•°æ®ç±»å‹ç”¨äºå­˜å‚¨æ•°å€¼ã€‚ æ•°æ®ç±»å‹æ˜¯ä¸å…è®¸æ”¹å˜çš„,è¿™å°±æ„å‘³ç€å¦‚æœæ”¹å˜ Number æ•°æ®ç±»å‹çš„å€¼ï¼Œå°†é‡æ–°åˆ†é…å†…å­˜ç©ºé—´ã€‚ ä»¥ä¸‹å®ä¾‹åœ¨å˜é‡èµ‹å€¼æ—¶ Number å¯¹è±¡å°†è¢«åˆ›å»ºï¼š12var1 = 1var2 = 10 Python æ”¯æŒå››ç§ä¸åŒçš„æ•°å€¼ç±»å‹ï¼š æ•´å‹(Int) - é€šå¸¸è¢«ç§°ä¸ºæ˜¯æ•´å‹æˆ–æ•´æ•°ï¼Œæ˜¯æ­£æˆ–è´Ÿæ•´æ•°ï¼Œä¸å¸¦å°æ•°ç‚¹ã€‚ é•¿æ•´å‹(long integers) - æ— é™å¤§å°çš„æ•´æ•°ï¼Œæ•´æ•°æœ€åæ˜¯ä¸€ä¸ªå¤§å†™æˆ–å°å†™çš„Lã€‚ æµ®ç‚¹å‹(floating point real values) - æµ®ç‚¹å‹ç”±æ•´æ•°éƒ¨åˆ†ä¸å°æ•°éƒ¨åˆ†ç»„æˆï¼Œæµ®ç‚¹å‹ä¹Ÿå¯ä»¥ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºï¼ˆ2.5e2 = 2.5 x 102 = 250ï¼‰ å¤æ•°(complex numbers) - å¤æ•°ç”±å®æ•°éƒ¨åˆ†å’Œè™šæ•°éƒ¨åˆ†æ„æˆï¼Œå¯ä»¥ç”¨a + bj,æˆ–è€…complex(a,b)è¡¨ç¤ºï¼Œ å¤æ•°çš„å®éƒ¨aå’Œè™šéƒ¨béƒ½æ˜¯æµ®ç‚¹å‹ã€‚ Python Number ç±»å‹è½¬æ¢ Python math æ¨¡å—ã€cmath æ¨¡å—Python ä¸­æ•°å­¦è¿ç®—å¸¸ç”¨çš„å‡½æ•°åŸºæœ¬éƒ½åœ¨ math æ¨¡å—ã€cmath æ¨¡å—ä¸­ã€‚ Python math æ¨¡å—æä¾›äº†è®¸å¤šå¯¹æµ®ç‚¹æ•°çš„æ•°å­¦è¿ç®—å‡½æ•°ã€‚ Python cmath æ¨¡å—åŒ…å«äº†ä¸€äº›ç”¨äºå¤æ•°è¿ç®—çš„å‡½æ•°ã€‚ cmath æ¨¡å—çš„å‡½æ•°è·Ÿ math æ¨¡å—å‡½æ•°åŸºæœ¬ä¸€è‡´ï¼ŒåŒºåˆ«æ˜¯ cmath æ¨¡å—è¿ç®—çš„æ˜¯å¤æ•°ï¼Œmath æ¨¡å—è¿ç®—çš„æ˜¯æ•°å­¦è¿ç®—ã€‚ è¦ä½¿ç”¨ math æˆ– cmath å‡½æ•°å¿…é¡»å…ˆå¯¼å…¥ï¼š1import math Pythonæ•°å­¦å‡½æ•° Pythonéšæœºæ•°å‡½æ•° Pythonä¸‰è§’å‡½æ•° Pythonæ•°å­¦å¸¸é‡ Python å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨å¼•å·(â€˜æˆ–â€)æ¥åˆ›å»ºå­—ç¬¦ä¸²Pythonè®¿é—®å­—ç¬¦ä¸²ä¸­çš„å€¼Pythonä¸æ”¯æŒå•å­—ç¬¦ç±»å‹ï¼Œå•å­—ç¬¦åœ¨ Python ä¸­ä¹Ÿæ˜¯ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ä½¿ç”¨ã€‚ Pythonè®¿é—®å­å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·æ¥æˆªå–å­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹å®ä¾‹ï¼š1234567#!/usr/bin/python var1 = &apos;Hello World!&apos;var2 = &quot;Python Runoob&quot; print &quot;var1[0]: &quot;, var1[0]print &quot;var2[1:5]: &quot;, var2[1:5] Pythonå­—ç¬¦ä¸²æ›´æ–°1234#!/usr/bin/python# -*- coding: UTF-8 -*-var1 = &apos;Hello World!&apos;print &quot;æ›´æ–°å­—ç¬¦ä¸² :- &quot;, var1[:6] + &apos;Runoob!&apos; Pythonè½¬ä¹‰å­—ç¬¦Pythonå­—ç¬¦ä¸²è¿ç®—ç¬¦Python å­—ç¬¦ä¸²æ ¼å¼åŒ–123#!/usr/bin/pythonprint &quot;My name is %s and weight is %d kg!&quot; % (&apos;Zara&apos;, 21) ä»¥ä¸Šå®ä¾‹è¾“å‡ºç»“æœï¼š1My name is Zara and weight is 21 kg! Pythonä¸‰å¼•å·ï¼ˆtriple quotesï¼‰ pythonä¸­ä¸‰å¼•å·å¯ä»¥å°†å¤æ‚çš„å­—ç¬¦ä¸²è¿›è¡Œå¤åˆ¶:pythonä¸‰å¼•å·å…è®¸ä¸€ä¸ªå­—ç¬¦ä¸²è·¨å¤šè¡Œï¼Œå­—ç¬¦ä¸²ä¸­å¯ä»¥åŒ…å«æ¢è¡Œç¬¦ã€åˆ¶è¡¨ç¬¦ä»¥åŠå…¶ä»–ç‰¹æ®Šå­—ç¬¦ã€‚ä¸‰å¼•å·çš„è¯­æ³•æ˜¯ä¸€å¯¹è¿ç»­çš„å•å¼•å·æˆ–è€…åŒå¼•å·ï¼ˆé€šå¸¸éƒ½æ˜¯æˆå¯¹çš„ç”¨ï¼‰ã€‚ Unicode å­—ç¬¦ä¸²å¼•å·å‰å°å†™çš„â€uâ€è¡¨ç¤ºè¿™é‡Œåˆ›å»ºçš„æ˜¯ä¸€ä¸ª Unicode å­—ç¬¦ä¸²ã€‚å¦‚æœä½ æƒ³åŠ å…¥ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨ Python çš„ Unicode-Escape ç¼–ç ã€‚ Python åˆ—è¡¨(List)åºåˆ—æ˜¯Pythonä¸­æœ€åŸºæœ¬çš„æ•°æ®ç»“æ„ã€‚åºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½åˆ†é…ä¸€ä¸ªæ•°å­— - å®ƒçš„ä½ç½®ï¼Œæˆ–ç´¢å¼•ï¼Œç¬¬ä¸€ä¸ªç´¢å¼•æ˜¯0ï¼Œç¬¬äºŒä¸ªç´¢å¼•æ˜¯1ï¼Œä¾æ­¤ç±»æ¨ã€‚Pythonæœ‰6ä¸ªåºåˆ—çš„å†…ç½®ç±»å‹ï¼Œä½†æœ€å¸¸è§çš„æ˜¯åˆ—è¡¨å’Œå…ƒç»„ã€‚åºåˆ—éƒ½å¯ä»¥è¿›è¡Œçš„æ“ä½œåŒ…æ‹¬ç´¢å¼•ï¼Œåˆ‡ç‰‡ï¼ŒåŠ ï¼Œä¹˜ï¼Œæ£€æŸ¥æˆå‘˜ã€‚æ­¤å¤–ï¼ŒPythonå·²ç»å†…ç½®ç¡®å®šåºåˆ—çš„é•¿åº¦ä»¥åŠç¡®å®šæœ€å¤§å’Œæœ€å°çš„å…ƒç´ çš„æ–¹æ³•ã€‚åˆ—è¡¨æ˜¯æœ€å¸¸ç”¨çš„Pythonæ•°æ®ç±»å‹ï¼Œå®ƒå¯ä»¥ä½œä¸ºä¸€ä¸ªæ–¹æ‹¬å·å†…çš„é€—å·åˆ†éš”å€¼å‡ºç°ã€‚åˆ—è¡¨çš„æ•°æ®é¡¹ä¸éœ€è¦å…·æœ‰ç›¸åŒçš„ç±»å‹åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ï¼Œåªè¦æŠŠé€—å·åˆ†éš”çš„ä¸åŒçš„æ•°æ®é¡¹ä½¿ç”¨æ–¹æ‹¬å·æ‹¬èµ·æ¥å³å¯ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š123list1 = [&apos;physics&apos;, &apos;chemistry&apos;, 1997, 2000]list2 = [1, 2, 3, 4, 5 ]list3 = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;] è®¿é—®åˆ—è¡¨ä¸­çš„å€¼ä½¿ç”¨ä¸‹æ ‡ç´¢å¼•æ¥è®¿é—®åˆ—è¡¨ä¸­çš„å€¼ï¼ŒåŒæ ·ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·çš„å½¢å¼æˆªå–å­—ç¬¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š1234567#!/usr/bin/python list1 = [&apos;physics&apos;, &apos;chemistry&apos;, 1997, 2000]list2 = [1, 2, 3, 4, 5, 6, 7 ] print &quot;list1[0]: &quot;, list1[0]print &quot;list2[1:5]: &quot;, list2[1:5] æ›´æ–°åˆ—è¡¨ä½ å¯ä»¥å¯¹åˆ—è¡¨çš„æ•°æ®é¡¹è¿›è¡Œä¿®æ”¹æˆ–æ›´æ–°ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨append()æ–¹æ³•æ¥æ·»åŠ åˆ—è¡¨é¡¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š1234567#!/usr/bin/python# -*- coding: UTF-8 -*- list = [] ## ç©ºåˆ—è¡¨list.append(&apos;Google&apos;) ## ä½¿ç”¨ append() æ·»åŠ å…ƒç´ list.append(&apos;Runoob&apos;)print list åˆ é™¤åˆ—è¡¨å…ƒç´ 12345678#!/usr/bin/python list1 = [&apos;physics&apos;, &apos;chemistry&apos;, 1997, 2000] print list1del list1[2]print &quot;After deleting value at index 2 : &quot;print list1 Pythonåˆ—è¡¨è„šæœ¬æ“ä½œç¬¦åˆ—è¡¨å¯¹ + å’Œ çš„æ“ä½œç¬¦ä¸å­—ç¬¦ä¸²ç›¸ä¼¼ã€‚+ å·ç”¨äºç»„åˆåˆ—è¡¨ï¼Œ å·ç”¨äºé‡å¤åˆ—è¡¨ã€‚Pythonåˆ—è¡¨æˆªå–12345678&gt;&gt;&gt;L = [&apos;Google&apos;, &apos;Runoob&apos;, &apos;Taobao&apos;]&gt;&gt;&gt; L[2]&apos;Taobao&apos;&gt;&gt;&gt; L[-2]&apos;Runoob&apos;&gt;&gt;&gt; L[1:][&apos;Runoob&apos;, &apos;Taobao&apos;]&gt;&gt;&gt; Pythonåˆ—è¡¨å‡½æ•°&amp;æ–¹æ³• Python å…ƒç»„Pythonçš„å…ƒç»„ä¸åˆ—è¡¨ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå…ƒç»„çš„å…ƒç´ ä¸èƒ½ä¿®æ”¹ã€‚å…ƒç»„ä½¿ç”¨å°æ‹¬å·ï¼Œåˆ—è¡¨ä½¿ç”¨æ–¹æ‹¬å·ã€‚å…ƒç»„åˆ›å»ºå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨æ‹¬å·ä¸­æ·»åŠ å…ƒç´ ï¼Œå¹¶ä½¿ç”¨é€—å·éš”å¼€å³å¯ã€‚123tup1 = (&apos;physics&apos;, &apos;chemistry&apos;, 1997, 2000)tup2 = (1, 2, 3, 4, 5 )tup3 = &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; åˆ›å»ºç©ºå…ƒç»„1tup1 = () å…ƒç»„ä¸­åªåŒ…å«ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œéœ€è¦åœ¨å…ƒç´ åé¢æ·»åŠ é€—å·1tup1 = (50,) è®¿é—®å…ƒç»„å…ƒç»„å¯ä»¥ä½¿ç”¨ä¸‹æ ‡ç´¢å¼•æ¥è®¿é—®å…ƒç»„ä¸­çš„å€¼1234567#!/usr/bin/python tup1 = (&apos;physics&apos;, &apos;chemistry&apos;, 1997, 2000)tup2 = (1, 2, 3, 4, 5, 6, 7 ) print &quot;tup1[0]: &quot;, tup1[0]print &quot;tup2[1:5]: &quot;, tup2[1:5] ä¿®æ”¹å…ƒç»„å…ƒç»„ä¸­çš„å…ƒç´ å€¼æ˜¯ä¸å…è®¸ä¿®æ”¹çš„ï¼Œä½†æˆ‘ä»¬å¯ä»¥å¯¹å…ƒç»„è¿›è¡Œè¿æ¥ç»„åˆ123456789101112#!/usr/bin/python# -*- coding: UTF-8 -*- tup1 = (12, 34.56)tup2 = (&apos;abc&apos;, &apos;xyz&apos;) # ä»¥ä¸‹ä¿®æ”¹å…ƒç»„å…ƒç´ æ“ä½œæ˜¯éæ³•çš„ã€‚# tup1[0] = 100 # åˆ›å»ºä¸€ä¸ªæ–°çš„å…ƒç»„tup3 = tup1 + tup2print tup3 ä»¥ä¸Šå®ä¾‹è¾“å‡ºç»“æœï¼š1(12, 34.56, &apos;abc&apos;, &apos;xyz&apos;) åˆ é™¤å…ƒç»„å…ƒç»„ä¸­çš„å…ƒç´ å€¼æ˜¯ä¸å…è®¸åˆ é™¤çš„ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨delè¯­å¥æ¥åˆ é™¤æ•´ä¸ªå…ƒç»„12345678#!/usr/bin/python tup = (&apos;physics&apos;, &apos;chemistry&apos;, 1997, 2000) print tupdel tupprint &quot;After deleting tup : &quot;print tup å…ƒç»„è¿ç®—ç¬¦ä¸å­—ç¬¦ä¸²ä¸€æ ·ï¼Œå…ƒç»„ä¹‹é—´å¯ä»¥ä½¿ç”¨ + å·å’Œ * å·è¿›è¡Œè¿ç®—ã€‚è¿™å°±æ„å‘³ç€ä»–ä»¬å¯ä»¥ç»„åˆå’Œå¤åˆ¶ï¼Œè¿ç®—åä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„å…ƒç»„å…ƒç»„ç´¢å¼•ï¼Œæˆªå–æ— å…³é—­åˆ†éš”ç¬¦ä»»æ„æ— ç¬¦å·çš„å¯¹è±¡ï¼Œä»¥é€—å·éš”å¼€ï¼Œé»˜è®¤ä¸ºå…ƒç»„å…ƒç»„å†…ç½®å‡½æ•° Python å­—å…¸(Dictionary)å­—å…¸æ˜¯å¦ä¸€ç§å¯å˜å®¹å™¨æ¨¡å‹ï¼Œä¸”å¯å­˜å‚¨ä»»æ„ç±»å‹å¯¹è±¡ã€‚ å­—å…¸çš„æ¯ä¸ªé”®å€¼ key=&gt;value å¯¹ç”¨å†’å· : åˆ†å‰²ï¼Œæ¯ä¸ªé”®å€¼å¯¹ä¹‹é—´ç”¨é€—å· , åˆ†å‰²ï¼Œæ•´ä¸ªå­—å…¸åŒ…æ‹¬åœ¨èŠ±æ‹¬å· {} ä¸­ ,æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š1d = &#123;key1 : value1, key2 : value2 &#125; é”®ä¸€èˆ¬æ˜¯å”¯ä¸€çš„ï¼Œå¦‚æœé‡å¤æœ€åçš„ä¸€ä¸ªé”®å€¼å¯¹ä¼šæ›¿æ¢å‰é¢çš„ï¼Œå€¼ä¸éœ€è¦å”¯ä¸€ã€‚12345&gt;&gt;&gt;dict = &#123;&apos;a&apos;: 1, &apos;b&apos;: 2, &apos;b&apos;: &apos;3&apos;&#125;&gt;&gt;&gt; dict[&apos;b&apos;]&apos;3&apos;&gt;&gt;&gt; dict&#123;&apos;a&apos;: 1, &apos;b&apos;: &apos;3&apos;&#125; å€¼å¯ä»¥å–ä»»ä½•æ•°æ®ç±»å‹ï¼Œä½†é”®å¿…é¡»æ˜¯ä¸å¯å˜çš„ï¼Œå¦‚å­—ç¬¦ä¸²ï¼Œæ•°å­—æˆ–å…ƒç»„ã€‚ ä¸€ä¸ªç®€å•çš„å­—å…¸å®ä¾‹ï¼š1dict = &#123;&apos;Alice&apos;: &apos;2341&apos;, &apos;Beth&apos;: &apos;9102&apos;, &apos;Cecil&apos;: &apos;3258&apos;&#125; è®¿é—®å­—å…¸é‡Œçš„å€¼123456#!/usr/bin/python dict = &#123;&apos;Name&apos;: &apos;Zara&apos;, &apos;Age&apos;: 7, &apos;Class&apos;: &apos;First&apos;&#125; print &quot;dict[&apos;Name&apos;]: &quot;, dict[&apos;Name&apos;]print &quot;dict[&apos;Age&apos;]: &quot;, dict[&apos;Age&apos;] ä¿®æ”¹å­—å…¸å‘å­—å…¸æ·»åŠ æ–°å†…å®¹çš„æ–¹æ³•æ˜¯å¢åŠ æ–°çš„é”®/å€¼å¯¹ï¼Œä¿®æ”¹æˆ–åˆ é™¤å·²æœ‰é”®/å€¼å¯¹12345678910#!/usr/bin/python dict = &#123;&apos;Name&apos;: &apos;Zara&apos;, &apos;Age&apos;: 7, &apos;Class&apos;: &apos;First&apos;&#125; dict[&apos;Age&apos;] = 8 # æ›´æ–°dict[&apos;School&apos;] = &quot;RUNOOB&quot; # æ·»åŠ  print &quot;dict[&apos;Age&apos;]: &quot;, dict[&apos;Age&apos;]print &quot;dict[&apos;School&apos;]: &quot;, dict[&apos;School&apos;] åˆ é™¤å­—å…¸å…ƒç´ èƒ½åˆ å•ä¸€çš„å…ƒç´ ä¹Ÿèƒ½æ¸…ç©ºå­—å…¸ï¼Œæ¸…ç©ºåªéœ€ä¸€é¡¹æ“ä½œã€‚ æ˜¾ç¤ºåˆ é™¤ä¸€ä¸ªå­—å…¸ç”¨delå‘½ä»¤. Python æ—¥æœŸå’Œæ—¶é—´Python ç¨‹åºèƒ½ç”¨å¾ˆå¤šæ–¹å¼å¤„ç†æ—¥æœŸå’Œæ—¶é—´ï¼Œè½¬æ¢æ—¥æœŸæ ¼å¼æ˜¯ä¸€ä¸ªå¸¸è§çš„åŠŸèƒ½ã€‚ Python æä¾›äº†ä¸€ä¸ª time å’Œ calendar æ¨¡å—å¯ä»¥ç”¨äºæ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´ã€‚ æ—¶é—´é—´éš”æ˜¯ä»¥ç§’ä¸ºå•ä½çš„æµ®ç‚¹å°æ•°ã€‚ æ¯ä¸ªæ—¶é—´æˆ³éƒ½ä»¥è‡ªä»1970å¹´1æœˆ1æ—¥åˆå¤œï¼ˆå†å…ƒï¼‰ç»è¿‡äº†å¤šé•¿æ—¶é—´æ¥è¡¨ç¤ºã€‚ Python çš„ time æ¨¡å—ä¸‹æœ‰å¾ˆå¤šå‡½æ•°å¯ä»¥è½¬æ¢å¸¸è§æ—¥æœŸæ ¼å¼ã€‚å¦‚å‡½æ•°time.time()ç”¨äºè·å–å½“å‰æ—¶é—´æˆ³1234567#!/usr/bin/python# -*- coding: UTF-8 -*- import time; # å¼•å…¥timeæ¨¡å— ticks = time.time()print &quot;å½“å‰æ—¶é—´æˆ³ä¸º:&quot;, ticks ä»¥ä¸Šå®ä¾‹è¾“å‡ºç»“æœï¼š1å½“å‰æ—¶é—´æˆ³ä¸º: 1459994552.51 è·å–å½“å‰æ—¶é—´12localtime = time.localtime(time.time())print &quot;æœ¬åœ°æ—¶é—´ä¸º :&quot;, localtime è·å–æ ¼å¼åŒ–çš„æ—¶é—´1234import time localtime = time.asctime( time.localtime(time.time()) )print &quot;æœ¬åœ°æ—¶é—´ä¸º :&quot;, localtime æ ¼å¼åŒ–æ—¥æœŸæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ time æ¨¡å—çš„ strftime æ–¹æ³•æ¥æ ¼å¼åŒ–æ—¥æœŸï¼Œï¼š1time.strftime(format[, t]) è·å–æŸæœˆæ—¥å†12345import calendar cal = calendar.month(2016, 1)print &quot;ä»¥ä¸‹è¾“å‡º2016å¹´1æœˆä»½çš„æ—¥å†:&quot;print cal Python å‡½æ•°å‡½æ•°æ˜¯ç»„ç»‡å¥½çš„ï¼Œå¯é‡å¤ä½¿ç”¨çš„ï¼Œç”¨æ¥å®ç°å•ä¸€ï¼Œæˆ–ç›¸å…³è”åŠŸèƒ½çš„ä»£ç æ®µã€‚ å‡½æ•°èƒ½æé«˜åº”ç”¨çš„æ¨¡å—æ€§ï¼Œå’Œä»£ç çš„é‡å¤åˆ©ç”¨ç‡ã€‚ä½ å·²ç»çŸ¥é“Pythonæä¾›äº†è®¸å¤šå†…å»ºå‡½æ•°ï¼Œæ¯”å¦‚print()ã€‚ä½†ä½ ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºå‡½æ•°ï¼Œè¿™è¢«å«åšç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ã€‚ å®šä¹‰ä¸€ä¸ªå‡½æ•°ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªç”±è‡ªå·±æƒ³è¦åŠŸèƒ½çš„å‡½æ•°ï¼Œä»¥ä¸‹æ˜¯ç®€å•çš„è§„åˆ™ï¼š å‡½æ•°ä»£ç å—ä»¥ def å…³é”®è¯å¼€å¤´ï¼Œåæ¥å‡½æ•°æ ‡è¯†ç¬¦åç§°å’Œåœ†æ‹¬å·()ã€‚ ä»»ä½•ä¼ å…¥å‚æ•°å’Œè‡ªå˜é‡å¿…é¡»æ”¾åœ¨åœ†æ‹¬å·ä¸­é—´ã€‚åœ†æ‹¬å·ä¹‹é—´å¯ä»¥ç”¨äºå®šä¹‰å‚æ•°ã€‚ å‡½æ•°çš„ç¬¬ä¸€è¡Œè¯­å¥å¯ä»¥é€‰æ‹©æ€§åœ°ä½¿ç”¨æ–‡æ¡£å­—ç¬¦ä¸²â€”ç”¨äºå­˜æ”¾å‡½æ•°è¯´æ˜ã€‚ å‡½æ•°å†…å®¹ä»¥å†’å·èµ·å§‹ï¼Œå¹¶ä¸”ç¼©è¿›ã€‚ return [è¡¨è¾¾å¼] ç»“æŸå‡½æ•°ï¼Œé€‰æ‹©æ€§åœ°è¿”å›ä¸€ä¸ªå€¼ç»™è°ƒç”¨æ–¹ã€‚ä¸å¸¦è¡¨è¾¾å¼çš„returnç›¸å½“äºè¿”å› Noneã€‚ å‡½æ•°è°ƒç”¨å®šä¹‰ä¸€ä¸ªå‡½æ•°åªç»™äº†å‡½æ•°ä¸€ä¸ªåç§°ï¼ŒæŒ‡å®šäº†å‡½æ•°é‡ŒåŒ…å«çš„å‚æ•°ï¼Œå’Œä»£ç å—ç»“æ„ã€‚ è¿™ä¸ªå‡½æ•°çš„åŸºæœ¬ç»“æ„å®Œæˆä»¥åï¼Œä½ å¯ä»¥é€šè¿‡å¦ä¸€ä¸ªå‡½æ•°è°ƒç”¨æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä»Pythonæç¤ºç¬¦æ‰§è¡Œã€‚ å¦‚ä¸‹å®ä¾‹è°ƒç”¨äº†printmeï¼ˆï¼‰å‡½æ•°ï¼š123456789101112#!/usr/bin/python# -*- coding: UTF-8 -*- # å®šä¹‰å‡½æ•°def printme( str ): &quot;æ‰“å°ä»»ä½•ä¼ å…¥çš„å­—ç¬¦ä¸²&quot; print str; return; # è°ƒç”¨å‡½æ•°printme(&quot;æˆ‘è¦è°ƒç”¨ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°!&quot;);printme(&quot;å†æ¬¡è°ƒç”¨åŒä¸€å‡½æ•°&quot;);","categories":[{"name":"python","slug":"python","permalink":"http://xdd7130.github.io/categories/python/"}],"tags":[{"name":"pythonåŸºç¡€","slug":"pythonåŸºç¡€","permalink":"http://xdd7130.github.io/tags/pythonåŸºç¡€/"}]},{"title":"pythonåŸºç¡€(äºŒ)--è¯­å¥","slug":"pythonåŸºç¡€2","date":"2019-08-07T10:24:58.000Z","updated":"2022-11-02T11:15:20.650Z","comments":true,"path":"2019/08/07/pythonåŸºç¡€2/","link":"","permalink":"http://xdd7130.github.io/2019/08/07/pythonåŸºç¡€2/","excerpt":"","text":"Python æ¡ä»¶è¯­å¥Pythonæ¡ä»¶è¯­å¥æ˜¯é€šè¿‡ä¸€æ¡æˆ–å¤šæ¡è¯­å¥çš„æ‰§è¡Œç»“æœï¼ˆTrueæˆ–è€…Falseï¼‰æ¥å†³å®šæ‰§è¡Œçš„ä»£ç å—ã€‚1234if åˆ¤æ–­æ¡ä»¶ï¼š æ‰§è¡Œè¯­å¥â€¦â€¦elseï¼š æ‰§è¡Œè¯­å¥â€¦â€¦ if è¯­å¥çš„åˆ¤æ–­æ¡ä»¶å¯ä»¥ç”¨&gt;ï¼ˆå¤§äºï¼‰ã€&lt;(å°äº)ã€==ï¼ˆç­‰äºï¼‰ã€&gt;=ï¼ˆå¤§äºç­‰äºï¼‰ã€&lt;=ï¼ˆå°äºç­‰äºï¼‰æ¥è¡¨ç¤ºå…¶å…³ç³»ã€‚ å½“åˆ¤æ–­æ¡ä»¶ä¸ºå¤šä¸ªå€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å½¢å¼ï¼š12345678if åˆ¤æ–­æ¡ä»¶1: æ‰§è¡Œè¯­å¥1â€¦â€¦elif åˆ¤æ–­æ¡ä»¶2: æ‰§è¡Œè¯­å¥2â€¦â€¦elif åˆ¤æ–­æ¡ä»¶3: æ‰§è¡Œè¯­å¥3â€¦â€¦else: æ‰§è¡Œè¯­å¥4â€¦â€¦ ç®€å•çš„è¯­å¥ç»„123456#!/usr/bin/python # -*- coding: UTF-8 -*- var = 100 if ( var == 100 ) : print &quot;å˜é‡ var çš„å€¼ä¸º100&quot; print &quot;Good bye!&quot; Python å¾ªç¯è¯­å¥å¾ªç¯æ§åˆ¶è¯­å¥ Python While å¾ªç¯è¯­å¥Python ç¼–ç¨‹ä¸­ while è¯­å¥ç”¨äºå¾ªç¯æ‰§è¡Œç¨‹åºï¼Œå³åœ¨æŸæ¡ä»¶ä¸‹ï¼Œå¾ªç¯æ‰§è¡ŒæŸæ®µç¨‹åºï¼Œä»¥å¤„ç†éœ€è¦é‡å¤å¤„ç†çš„ç›¸åŒä»»åŠ¡ã€‚å…¶åŸºæœ¬å½¢å¼ä¸ºï¼š12while åˆ¤æ–­æ¡ä»¶ï¼š æ‰§è¡Œè¯­å¥â€¦â€¦ while è¯­å¥æ—¶è¿˜æœ‰å¦å¤–ä¸¤ä¸ªé‡è¦çš„å‘½ä»¤ continueï¼Œbreak æ¥è·³è¿‡å¾ªç¯ï¼Œcontinue ç”¨äºè·³è¿‡è¯¥æ¬¡å¾ªç¯ï¼Œbreak . å¾ªç¯ä½¿ç”¨ else è¯­å¥åœ¨ python ä¸­ï¼Œwhile â€¦ else åœ¨å¾ªç¯æ¡ä»¶ä¸º false æ—¶æ‰§è¡Œ else è¯­å¥å—ï¼š12345678#!/usr/bin/python count = 0while count &lt; 5: print count, &quot; is less than 5&quot; count = count + 1else: print count, &quot; is not less than 5&quot; ç®€å•è¯­å¥ç»„ç±»ä¼¼ if è¯­å¥çš„è¯­æ³•ï¼Œå¦‚æœä½ çš„ whileå¾ªç¯ä½“ä¸­åªæœ‰ä¸€æ¡è¯­å¥ï¼Œä½ å¯ä»¥å°†è¯¥è¯­å¥ä¸whileå†™åœ¨åŒä¸€è¡Œä¸­ï¼Œ å¦‚ä¸‹æ‰€ç¤ºï¼š1234#!/usr/bin/pythonflag = 1while (flag): print &apos;Given flag is really true!&apos;print &quot;Good bye!&quot; Python for å¾ªç¯è¯­å¥Python forå¾ªç¯å¯ä»¥éå†ä»»ä½•åºåˆ—çš„é¡¹ç›®ï¼Œå¦‚ä¸€ä¸ªåˆ—è¡¨æˆ–è€…ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ è¯­æ³•ï¼š12for iterating_var in sequence: statements(s) 1234567891011#!/usr/bin/python# -*- coding: UTF-8 -*- for letter in &apos;Python&apos;: # ç¬¬ä¸€ä¸ªå®ä¾‹ print &apos;å½“å‰å­—æ¯ :&apos;, letter fruits = [&apos;banana&apos;, &apos;apple&apos;, &apos;mango&apos;]for fruit in fruits: # ç¬¬äºŒä¸ªå®ä¾‹ print &apos;å½“å‰æ°´æœ :&apos;, fruit print &quot;Good bye!&quot; ç»“æœï¼š12345678910å½“å‰å­—æ¯ : På½“å‰å­—æ¯ : yå½“å‰å­—æ¯ : tå½“å‰å­—æ¯ : hå½“å‰å­—æ¯ : oå½“å‰å­—æ¯ : nå½“å‰æ°´æœ : bananaå½“å‰æ°´æœ : appleå½“å‰æ°´æœ : mangoGood bye! é€šè¿‡åºåˆ—ç´¢å¼•è¿­ä»£:12345678#!/usr/bin/python# -*- coding: UTF-8 -*- fruits = [&apos;banana&apos;, &apos;apple&apos;, &apos;mango&apos;]for index in range(len(fruits)): print &apos;å½“å‰æ°´æœ :&apos;, fruits[index] print &quot;Good bye!&quot; å¾ªç¯ä½¿ç”¨ else è¯­å¥åœ¨ python ä¸­ï¼Œfor â€¦ else è¡¨ç¤ºè¿™æ ·çš„æ„æ€ï¼Œfor ä¸­çš„è¯­å¥å’Œæ™®é€šçš„æ²¡æœ‰åŒºåˆ«ï¼Œelse ä¸­çš„è¯­å¥ä¼šåœ¨å¾ªç¯æ­£å¸¸æ‰§è¡Œå®Œï¼ˆå³ for ä¸æ˜¯é€šè¿‡ break è·³å‡ºè€Œä¸­æ–­çš„ï¼‰çš„æƒ…å†µä¸‹æ‰§è¡Œï¼Œwhile â€¦ else ä¹Ÿæ˜¯ä¸€æ ·ã€‚12345678for num in range(10,20): # è¿­ä»£ 10 åˆ° 20 ä¹‹é—´çš„æ•°å­— for i in range(2,num): # æ ¹æ®å› å­è¿­ä»£ if num%i == 0: # ç¡®å®šç¬¬ä¸€ä¸ªå› å­ j=num/i # è®¡ç®—ç¬¬äºŒä¸ªå› å­ print &apos;%d ç­‰äº %d * %d&apos; % (num,i,j) break # è·³å‡ºå½“å‰å¾ªç¯ else: # å¾ªç¯çš„ else éƒ¨åˆ† print num, &apos;æ˜¯ä¸€ä¸ªè´¨æ•°&apos; Python å¾ªç¯åµŒå¥—Python è¯­è¨€å…è®¸åœ¨ä¸€ä¸ªå¾ªç¯ä½“é‡Œé¢åµŒå…¥å¦ä¸€ä¸ªå¾ªç¯ã€‚ Python for å¾ªç¯åµŒå¥—è¯­æ³•ï¼š12345for iterating_var in sequence: for iterating_var in sequence: statements(s) statements(s)Python while å¾ªç¯åµŒå¥—è¯­æ³•ï¼š 1234while expression: while expression: statement(s) statement(s) ä½ å¯ä»¥åœ¨å¾ªç¯ä½“å†…åµŒå…¥å…¶ä»–çš„å¾ªç¯ä½“ï¼Œå¦‚åœ¨whileå¾ªç¯ä¸­å¯ä»¥åµŒå…¥forå¾ªç¯ï¼Œ åä¹‹ï¼Œä½ å¯ä»¥åœ¨forå¾ªç¯ä¸­åµŒå…¥whileå¾ªç¯ Python break è¯­å¥Python breakè¯­å¥ï¼Œå°±åƒåœ¨Cè¯­è¨€ä¸­ï¼Œæ‰“ç ´äº†æœ€å°å°é—­foræˆ–whileå¾ªç¯ã€‚ breakè¯­å¥ç”¨æ¥ç»ˆæ­¢å¾ªç¯è¯­å¥ï¼Œå³å¾ªç¯æ¡ä»¶æ²¡æœ‰Falseæ¡ä»¶æˆ–è€…åºåˆ—è¿˜æ²¡è¢«å®Œå…¨é€’å½’å®Œï¼Œä¹Ÿä¼šåœæ­¢æ‰§è¡Œå¾ªç¯è¯­å¥ã€‚ breakè¯­å¥ç”¨åœ¨whileå’Œforå¾ªç¯ä¸­ã€‚ å¦‚æœæ‚¨ä½¿ç”¨åµŒå¥—å¾ªç¯ï¼Œbreakè¯­å¥å°†åœæ­¢æ‰§è¡Œæœ€æ·±å±‚çš„å¾ªç¯ï¼Œå¹¶å¼€å§‹æ‰§è¡Œä¸‹ä¸€è¡Œä»£ç ã€‚ Python continue è¯­å¥Python continue è¯­å¥è·³å‡ºæœ¬æ¬¡å¾ªç¯ï¼Œè€Œbreakè·³å‡ºæ•´ä¸ªå¾ªç¯ã€‚ continue è¯­å¥ç”¨æ¥å‘Šè¯‰Pythonè·³è¿‡å½“å‰å¾ªç¯çš„å‰©ä½™è¯­å¥ï¼Œç„¶åç»§ç»­è¿›è¡Œä¸‹ä¸€è½®å¾ªç¯ã€‚ continueè¯­å¥ç”¨åœ¨whileå’Œforå¾ªç¯ä¸­ã€‚ Python pass è¯­å¥Python pass æ˜¯ç©ºè¯­å¥ï¼Œæ˜¯ä¸ºäº†ä¿æŒç¨‹åºç»“æ„çš„å®Œæ•´æ€§ã€‚ pass ä¸åšä»»ä½•äº‹æƒ…ï¼Œä¸€èˆ¬ç”¨åšå ä½è¯­å¥ã€‚","categories":[{"name":"python","slug":"python","permalink":"http://xdd7130.github.io/categories/python/"}],"tags":[{"name":"pythonåŸºç¡€","slug":"pythonåŸºç¡€","permalink":"http://xdd7130.github.io/tags/pythonåŸºç¡€/"}]},{"title":"pythonåŸºç¡€ï¼ˆä¸€ï¼‰","slug":"pythonåŸºç¡€1","date":"2019-08-07T02:27:58.000Z","updated":"2022-11-02T11:15:20.642Z","comments":true,"path":"2019/08/07/pythonåŸºç¡€1/","link":"","permalink":"http://xdd7130.github.io/2019/08/07/pythonåŸºç¡€1/","excerpt":"","text":"Python ä¸­æ–‡ç¼–ç Pythonä¸­é»˜è®¤çš„ç¼–ç æ ¼å¼æ˜¯ ASCII æ ¼å¼ï¼Œåœ¨æ²¡ä¿®æ”¹ç¼–ç æ ¼å¼æ—¶æ— æ³•æ­£ç¡®æ‰“å°æ±‰å­—ï¼Œæ‰€ä»¥åœ¨è¯»å–ä¸­æ–‡æ—¶ä¼šæŠ¥é”™ã€‚ è§£å†³æ–¹æ³•ä¸ºåªè¦åœ¨æ–‡ä»¶å¼€å¤´åŠ å…¥ # -- coding: UTF-8 -- æˆ–è€… # coding=utf-8 å°±è¡Œäº† Python åŸºç¡€è¯­æ³•Python æ ‡è¯†ç¬¦ åœ¨ Python é‡Œï¼Œæ ‡è¯†ç¬¦ç”±å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ç»„æˆã€‚ åœ¨ Python ä¸­ï¼Œæ‰€æœ‰æ ‡è¯†ç¬¦å¯ä»¥åŒ…æ‹¬è‹±æ–‡ã€æ•°å­—ä»¥åŠä¸‹åˆ’çº¿(_)ï¼Œä½†ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚ Python ä¸­çš„æ ‡è¯†ç¬¦æ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚ ä»¥ä¸‹åˆ’çº¿å¼€å¤´çš„æ ‡è¯†ç¬¦æ˜¯æœ‰ç‰¹æ®Šæ„ä¹‰çš„ã€‚ä»¥å•ä¸‹åˆ’çº¿å¼€å¤´ _foo çš„ä»£è¡¨ä¸èƒ½ç›´æ¥è®¿é—®çš„ç±»å±æ€§ï¼Œéœ€é€šè¿‡ç±»æä¾›çš„æ¥å£è¿›è¡Œè®¿é—®ï¼Œä¸èƒ½ç”¨ from xxx import * è€Œå¯¼å…¥ã€‚ ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´çš„ foo ä»£è¡¨ç±»çš„ç§æœ‰æˆå‘˜ï¼Œä»¥åŒä¸‹åˆ’çº¿å¼€å¤´å’Œç»“å°¾çš„ foo__ ä»£è¡¨ Python é‡Œç‰¹æ®Šæ–¹æ³•ä¸“ç”¨çš„æ ‡è¯†ï¼Œå¦‚ init() ä»£è¡¨ç±»çš„æ„é€ å‡½æ•°ã€‚ Python å¯ä»¥åŒä¸€è¡Œæ˜¾ç¤ºå¤šæ¡è¯­å¥ï¼Œæ–¹æ³•æ˜¯ç”¨åˆ†å· ; åˆ†å¼€ï¼Œå¦‚ï¼š 123&gt;&gt;&gt; print &apos;hello&apos;;print &apos;runoob&apos;;hellorunoob Python ä¿ç•™å­—ç¬¦ 1 2 3 and exec not assert finally or break for pass class from print continue global raise def if return del import try elif in while else is with except lambda yield è¡Œå’Œç¼©è¿›Python ä¸å…¶ä»–è¯­è¨€æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ï¼ŒPythonçš„ä»£ç å—ä¸ä½¿ç”¨å¤§æ‹¬å·{}æ¥æ§åˆ¶ç±»ï¼Œå‡½æ•°ä»¥åŠå…¶ä»–é€»è¾‘åˆ¤æ–­ã€‚python æœ€å…·ç‰¹è‰²çš„å°±æ˜¯ç”¨ç¼©è¿›æ¥å†™æ¨¡å—ã€‚ ç¼©è¿›çš„ç©ºç™½æ•°é‡æ˜¯å¯å˜çš„ï¼Œä½†æ˜¯æ‰€æœ‰ä»£ç å—è¯­å¥å¿…é¡»åŒ…å«ç›¸åŒçš„ç¼©è¿›ç©ºç™½æ•°é‡ï¼Œè¿™ä¸ªå¿…é¡»ä¸¥æ ¼æ‰§è¡Œã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š1234567891011#!/usr/bin/python# -*- coding: UTF-8 -*-# æ–‡ä»¶åï¼štest.pyif True: print &quot;Answer&quot; print &quot;True&quot;else: print &quot;Answer&quot; # æ²¡æœ‰ä¸¥æ ¼ç¼©è¿›ï¼Œåœ¨æ‰§è¡Œæ—¶ä¼šæŠ¥é”™ print &quot;False&quot; æ‰§è¡Œä»¥ä¸Šä»£ç ï¼Œä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯æé†’ï¼š12345$ python test.py File &quot;test.py&quot;, line 10 print &quot;False&quot; ^IndentationError: unindent does not match any outer indentation level IndentationError: unindent does not match any outer indentation levelé”™è¯¯è¡¨æ˜ï¼Œä½ ä½¿ç”¨çš„ç¼©è¿›æ–¹å¼ä¸ä¸€è‡´ï¼Œæœ‰çš„æ˜¯ tab é”®ç¼©è¿›ï¼Œæœ‰çš„æ˜¯ç©ºæ ¼ç¼©è¿›ï¼Œæ”¹ä¸ºä¸€è‡´å³å¯ã€‚ å¦‚æœæ˜¯ IndentationError: unexpected indent é”™è¯¯, åˆ™ python ç¼–è¯‘å™¨æ˜¯åœ¨å‘Šè¯‰ä½ â€Hiï¼Œè€å…„ï¼Œä½ çš„æ–‡ä»¶é‡Œæ ¼å¼ä¸å¯¹äº†ï¼Œå¯èƒ½æ˜¯tabå’Œç©ºæ ¼æ²¡å¯¹é½çš„é—®é¢˜â€ï¼Œæ‰€æœ‰ python å¯¹æ ¼å¼è¦æ±‚éå¸¸ä¸¥æ ¼ã€‚ å› æ­¤ï¼Œåœ¨ Python çš„ä»£ç å—ä¸­å¿…é¡»ä½¿ç”¨ç›¸åŒæ•°ç›®çš„è¡Œé¦–ç¼©è¿›ç©ºæ ¼æ•°ã€‚ å»ºè®®ä½ åœ¨æ¯ä¸ªç¼©è¿›å±‚æ¬¡ä½¿ç”¨ å•ä¸ªåˆ¶è¡¨ç¬¦ æˆ– ä¸¤ä¸ªç©ºæ ¼ æˆ– å››ä¸ªç©ºæ ¼ , åˆ‡è®°ä¸èƒ½æ··ç”¨ å¤šè¡Œè¯­å¥Pythonè¯­å¥ä¸­ä¸€èˆ¬ä»¥æ–°è¡Œä½œä¸ºè¯­å¥çš„ç»“æŸç¬¦ã€‚ ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ–œæ ï¼ˆ \\ï¼‰å°†ä¸€è¡Œçš„è¯­å¥åˆ†ä¸ºå¤šè¡Œæ˜¾ç¤ºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š123total = item_one + \\ item_two + \\ item_three è¯­å¥ä¸­åŒ…å« [], {} æˆ– () æ‹¬å·å°±ä¸éœ€è¦ä½¿ç”¨å¤šè¡Œè¿æ¥ç¬¦ã€‚å¦‚ä¸‹å®ä¾‹ï¼š12days = [&apos;Monday&apos;, &apos;Tuesday&apos;, &apos;Wednesday&apos;, &apos;Thursday&apos;, &apos;Friday&apos;] Python å¼•å·Python å¯ä»¥ä½¿ç”¨å¼•å·( â€˜ )ã€åŒå¼•å·( â€œ )ã€ä¸‰å¼•å·( â€˜â€™â€™ æˆ– â€œâ€â€ ) æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œå¼•å·çš„å¼€å§‹ä¸ç»“æŸå¿…é¡»çš„ç›¸åŒç±»å‹çš„ã€‚ å…¶ä¸­ä¸‰å¼•å·å¯ä»¥ç”±å¤šè¡Œç»„æˆï¼Œç¼–å†™å¤šè¡Œæ–‡æœ¬çš„å¿«æ·è¯­æ³•ï¼Œå¸¸ç”¨äºæ–‡æ¡£å­—ç¬¦ä¸²ï¼Œåœ¨æ–‡ä»¶çš„ç‰¹å®šåœ°ç‚¹ï¼Œè¢«å½“åšæ³¨é‡Šã€‚ Pythonæ³¨é‡Špythonä¸­å•è¡Œæ³¨é‡Šé‡‡ç”¨ # å¼€å¤´ã€‚12345# -*- coding: UTF-8 -*-# æ–‡ä»¶åï¼štest.py# ç¬¬ä¸€ä¸ªæ³¨é‡Šprint &quot;Hello, Python!&quot; # ç¬¬äºŒä¸ªæ³¨é‡Š python ä¸­å¤šè¡Œæ³¨é‡Šä½¿ç”¨ä¸‰ä¸ªå•å¼•å·(â€˜â€™â€™)æˆ–ä¸‰ä¸ªåŒå¼•å·(â€œâ€â€)ã€‚12345678910111213141516#!/usr/bin/python# -*- coding: UTF-8 -*-# æ–‡ä»¶åï¼štest.py&apos;&apos;&apos;è¿™æ˜¯å¤šè¡Œæ³¨é‡Šï¼Œä½¿ç”¨å•å¼•å·ã€‚è¿™æ˜¯å¤šè¡Œæ³¨é‡Šï¼Œä½¿ç”¨å•å¼•å·ã€‚è¿™æ˜¯å¤šè¡Œæ³¨é‡Šï¼Œä½¿ç”¨å•å¼•å·ã€‚&apos;&apos;&apos;&quot;&quot;&quot;è¿™æ˜¯å¤šè¡Œæ³¨é‡Šï¼Œä½¿ç”¨åŒå¼•å·ã€‚è¿™æ˜¯å¤šè¡Œæ³¨é‡Šï¼Œä½¿ç”¨åŒå¼•å·ã€‚è¿™æ˜¯å¤šè¡Œæ³¨é‡Šï¼Œä½¿ç”¨åŒå¼•å·ã€‚&quot;&quot;&quot; ####Pythonç©ºè¡Œå‡½æ•°ä¹‹é—´æˆ–ç±»çš„æ–¹æ³•ä¹‹é—´ç”¨ç©ºè¡Œåˆ†éš”ï¼Œè¡¨ç¤ºä¸€æ®µæ–°çš„ä»£ç çš„å¼€å§‹ã€‚ç±»å’Œå‡½æ•°å…¥å£ä¹‹é—´ä¹Ÿç”¨ä¸€è¡Œç©ºè¡Œåˆ†éš”ï¼Œä»¥çªå‡ºå‡½æ•°å…¥å£çš„å¼€å§‹ã€‚ ç©ºè¡Œä¸ä»£ç ç¼©è¿›ä¸åŒï¼Œç©ºè¡Œå¹¶ä¸æ˜¯Pythonè¯­æ³•çš„ä¸€éƒ¨åˆ†ã€‚ä¹¦å†™æ—¶ä¸æ’å…¥ç©ºè¡Œï¼ŒPythonè§£é‡Šå™¨è¿è¡Œä¹Ÿä¸ä¼šå‡ºé”™ã€‚ä½†æ˜¯ç©ºè¡Œçš„ä½œç”¨åœ¨äºåˆ†éš”ä¸¤æ®µä¸åŒåŠŸèƒ½æˆ–å«ä¹‰çš„ä»£ç ï¼Œä¾¿äºæ—¥åä»£ç çš„ç»´æŠ¤æˆ–é‡æ„ã€‚ è®°ä½ï¼šç©ºè¡Œä¹Ÿæ˜¯ç¨‹åºä»£ç çš„ä¸€éƒ¨åˆ† ç­‰å¾…ç”¨æˆ·è¾“å…¥1234#!/usr/bin/python# -*- coding: UTF-8 -*-# \\n å®ç°æ¢è¡Œã€‚ä¸€æ—¦ç”¨æˆ·æŒ‰ä¸‹ enter(å›è½¦) é”®é€€å‡ºï¼Œå…¶å®ƒé”®æ˜¾ç¤ºã€‚input(&quot;æŒ‰ä¸‹ enter é”®é€€å‡ºï¼Œå…¶ä»–ä»»æ„é”®æ˜¾ç¤º...\\n&quot;) # python2 raw_input() åŒä¸€è¡Œæ˜¾ç¤ºå¤šæ¡è¯­å¥Pythonå¯ä»¥åœ¨åŒä¸€è¡Œä¸­ä½¿ç”¨å¤šæ¡è¯­å¥ï¼Œè¯­å¥ä¹‹é—´ä½¿ç”¨åˆ†å·(;)åˆ†å‰²ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„å®ä¾‹ï¼š12#!/usr/bin/pythonimport sys; x = &apos;runoob&apos;; sys.stdout.write(x + &apos;\\n&apos;) Print è¾“å‡ºprint é»˜è®¤è¾“å‡ºæ˜¯æ¢è¡Œçš„ï¼Œå¦‚æœè¦å®ç°ä¸æ¢è¡Œéœ€è¦åœ¨å˜é‡æœ«å°¾åŠ ä¸Šé€—å· ,12345678910111213141516#!/usr/bin/python# -*- coding: UTF-8 -*-x=&quot;a&quot;y=&quot;b&quot;# æ¢è¡Œè¾“å‡ºprint xprint yprint &apos;---------&apos;# ä¸æ¢è¡Œè¾“å‡ºprint x,print y,# ä¸æ¢è¡Œè¾“å‡ºprint x,y ä»¥ä¸Šå®ä¾‹æ‰§è¡Œç»“æœä¸ºï¼š1234ab---------a b a b å¤šä¸ªè¯­å¥æ„æˆä»£ç ç»„ç¼©è¿›ç›¸åŒçš„ä¸€ç»„è¯­å¥æ„æˆä¸€ä¸ªä»£ç å—ï¼Œæˆ‘ä»¬ç§°ä¹‹ä»£ç ç»„ã€‚ åƒifã€whileã€defå’Œclassè¿™æ ·çš„å¤åˆè¯­å¥ï¼Œé¦–è¡Œä»¥å…³é”®å­—å¼€å§‹ï¼Œä»¥å†’å·( : )ç»“æŸï¼Œè¯¥è¡Œä¹‹åçš„ä¸€è¡Œæˆ–å¤šè¡Œä»£ç æ„æˆä»£ç ç»„ã€‚ æˆ‘ä»¬å°†é¦–è¡ŒåŠåé¢çš„ä»£ç ç»„ç§°ä¸ºä¸€ä¸ªå­å¥(clause)ã€‚123456if expression : suite elif expression : suite else : suite å˜é‡ç±»å‹å˜é‡å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å€¼ã€‚è¿™å°±æ„å‘³ç€åœ¨åˆ›å»ºå˜é‡æ—¶ä¼šåœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€ä¸ªç©ºé—´ã€‚ åŸºäºå˜é‡çš„æ•°æ®ç±»å‹ï¼Œè§£é‡Šå™¨ä¼šåˆ†é…æŒ‡å®šå†…å­˜ï¼Œå¹¶å†³å®šä»€ä¹ˆæ•°æ®å¯ä»¥è¢«å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚ å› æ­¤ï¼Œå˜é‡å¯ä»¥æŒ‡å®šä¸åŒçš„æ•°æ®ç±»å‹ï¼Œè¿™äº›å˜é‡å¯ä»¥å­˜å‚¨æ•´æ•°ï¼Œå°æ•°æˆ–å­—ç¬¦ã€‚ å˜é‡èµ‹å€¼ Python ä¸­çš„å˜é‡èµ‹å€¼ä¸éœ€è¦ç±»å‹å£°æ˜ã€‚ æ¯ä¸ªå˜é‡åœ¨å†…å­˜ä¸­åˆ›å»ºï¼Œéƒ½åŒ…æ‹¬å˜é‡çš„æ ‡è¯†ï¼Œåç§°å’Œæ•°æ®è¿™äº›ä¿¡æ¯ã€‚ æ¯ä¸ªå˜é‡åœ¨ä½¿ç”¨å‰éƒ½å¿…é¡»èµ‹å€¼ï¼Œå˜é‡èµ‹å€¼ä»¥åè¯¥å˜é‡æ‰ä¼šè¢«åˆ›å»ºã€‚ ç­‰å·ï¼ˆ=ï¼‰ç”¨æ¥ç»™å˜é‡èµ‹å€¼ã€‚ ç­‰å·ï¼ˆ=ï¼‰è¿ç®—ç¬¦å·¦è¾¹æ˜¯ä¸€ä¸ªå˜é‡å,ç­‰å·ï¼ˆ=ï¼‰è¿ç®—ç¬¦å³è¾¹æ˜¯å­˜å‚¨åœ¨å˜é‡ä¸­çš„å€¼ã€‚ 1234567counter = 100 # èµ‹å€¼æ•´å‹å˜é‡miles = 1000.0 # æµ®ç‚¹å‹name = &quot;John&quot; # å­—ç¬¦ä¸² print counterprint milesprint name å¤šä¸ªå˜é‡èµ‹å€¼Pythonå…è®¸ä½ åŒæ—¶ä¸ºå¤šä¸ªå˜é‡èµ‹å€¼ã€‚ä¾‹å¦‚ï¼ša = b = c = 1ä»¥ä¸Šå®ä¾‹ï¼Œåˆ›å»ºä¸€ä¸ªæ•´å‹å¯¹è±¡ï¼Œå€¼ä¸º1ï¼Œä¸‰ä¸ªå˜é‡è¢«åˆ†é…åˆ°ç›¸åŒçš„å†…å­˜ç©ºé—´ä¸Šã€‚æ‚¨ä¹Ÿå¯ä»¥ä¸ºå¤šä¸ªå¯¹è±¡æŒ‡å®šå¤šä¸ªå˜é‡ã€‚ä¾‹å¦‚ï¼ša, b, c = 1, 2, â€œjohnâ€ä»¥ä¸Šå®ä¾‹ï¼Œä¸¤ä¸ªæ•´å‹å¯¹è±¡ 1 å’Œ 2 åˆ†åˆ«åˆ†é…ç»™å˜é‡ a å’Œ bï¼Œå­—ç¬¦ä¸²å¯¹è±¡ â€œjohnâ€ åˆ†é…ç»™å˜é‡ cã€‚ æ ‡å‡†æ•°æ®ç±»å‹åœ¨å†…å­˜ä¸­å­˜å‚¨çš„æ•°æ®å¯ä»¥æœ‰å¤šç§ç±»å‹ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªäººçš„å¹´é¾„å¯ä»¥ç”¨æ•°å­—æ¥å­˜å‚¨ï¼Œä»–çš„åå­—å¯ä»¥ç”¨å­—ç¬¦æ¥å­˜å‚¨ã€‚Python å®šä¹‰äº†ä¸€äº›æ ‡å‡†ç±»å‹ï¼Œç”¨äºå­˜å‚¨å„ç§ç±»å‹çš„æ•°æ®ã€‚Pythonæœ‰äº”ä¸ªæ ‡å‡†çš„æ•°æ®ç±»å‹ï¼š Numbersï¼ˆæ•°å­—ï¼‰ Stringï¼ˆå­—ç¬¦ä¸²ï¼‰ Listï¼ˆåˆ—è¡¨ï¼‰ Tupleï¼ˆå…ƒç»„ï¼‰ Dictionaryï¼ˆå­—å…¸ï¼‰ Pythonæ•°å­—æ•°å­—æ•°æ®ç±»å‹ç”¨äºå­˜å‚¨æ•°å€¼ã€‚ ä»–ä»¬æ˜¯ä¸å¯æ”¹å˜çš„æ•°æ®ç±»å‹ï¼Œè¿™æ„å‘³ç€æ”¹å˜æ•°å­—æ•°æ®ç±»å‹ä¼šåˆ†é…ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚ å½“ä½ æŒ‡å®šä¸€ä¸ªå€¼æ—¶ï¼ŒNumberå¯¹è±¡å°±ä¼šè¢«åˆ›å»ºï¼š var1 = 1var2 = 10æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨delè¯­å¥åˆ é™¤ä¸€äº›å¯¹è±¡çš„å¼•ç”¨ã€‚delè¯­å¥çš„è¯­æ³•æ˜¯ï¼šdel var1[,var2[,var3[â€¦.,varN]]]]æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨delè¯­å¥åˆ é™¤å•ä¸ªæˆ–å¤šä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼šdel vardel var_a, var_bPythonæ”¯æŒå››ç§ä¸åŒçš„æ•°å­—ç±»å‹ï¼š intï¼ˆæœ‰ç¬¦å·æ•´å‹ï¼‰longï¼ˆé•¿æ•´å‹[ä¹Ÿå¯ä»¥ä»£è¡¨å…«è¿›åˆ¶å’Œåå…­è¿›åˆ¶]ï¼‰floatï¼ˆæµ®ç‚¹å‹ï¼‰complexï¼ˆå¤æ•°ï¼‰ Pythonå­—ç¬¦ä¸²å­—ç¬¦ä¸²æˆ–ä¸²(String)æ˜¯ç”±æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ç»„æˆçš„ä¸€ä¸²å­—ç¬¦ã€‚ä¸€èˆ¬è®°ä¸º :s=â€a1a2Â·Â·Â·anâ€(n&gt;=0)pythonçš„å­—ä¸²åˆ—è¡¨æœ‰2ç§å–å€¼é¡ºåº: ä»å·¦åˆ°å³ç´¢å¼•é»˜è®¤0å¼€å§‹çš„ï¼Œæœ€å¤§èŒƒå›´æ˜¯å­—ç¬¦ä¸²é•¿åº¦å°‘1 ä»å³åˆ°å·¦ç´¢å¼•é»˜è®¤-1å¼€å§‹çš„ï¼Œæœ€å¤§èŒƒå›´æ˜¯å­—ç¬¦ä¸²å¼€å¤´ å¦‚æœä½ è¦å®ç°ä»å­—ç¬¦ä¸²ä¸­è·å–ä¸€æ®µå­å­—ç¬¦ä¸²çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ [å¤´ä¸‹æ ‡:å°¾ä¸‹æ ‡] æ¥æˆªå–ç›¸åº”çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ä¸‹æ ‡æ˜¯ä» 0 å¼€å§‹ç®—èµ·ï¼Œå¯ä»¥æ˜¯æ­£æ•°æˆ–è´Ÿæ•°ï¼Œä¸‹æ ‡å¯ä»¥ä¸ºç©ºè¡¨ç¤ºå–åˆ°å¤´æˆ–å°¾ã€‚[å¤´ä¸‹æ ‡:å°¾ä¸‹æ ‡] è·å–çš„å­å­—ç¬¦ä¸²åŒ…å«å¤´ä¸‹æ ‡çš„å­—ç¬¦ï¼Œä½†ä¸åŒ…å«å°¾ä¸‹æ ‡çš„å­—ç¬¦ã€‚æ¯”å¦‚:123s = &apos;abcdef&apos;s[1:5]&apos;bcde&apos; å½“ä½¿ç”¨ä»¥å†’å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼Œpython è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç»“æœåŒ…å«äº†ä»¥è¿™å¯¹åç§»æ ‡è¯†çš„è¿ç»­çš„å†…å®¹ï¼Œå·¦è¾¹çš„å¼€å§‹æ˜¯åŒ…å«äº†ä¸‹è¾¹ç•Œã€‚ä¸Šé¢çš„ç»“æœåŒ…å«äº† s[1] çš„å€¼ bï¼Œè€Œå–åˆ°çš„æœ€å¤§èŒƒå›´ä¸åŒ…æ‹¬å°¾ä¸‹æ ‡ï¼Œå°±æ˜¯ s[5] çš„å€¼ fã€‚123456789#!/usr/bin/python# -*- coding: UTF-8 -*-str = &apos;Hello World!&apos;print str # è¾“å‡ºå®Œæ•´å­—ç¬¦ä¸²print str[0] # è¾“å‡ºå­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦print str[2:5] # è¾“å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸‰ä¸ªè‡³ç¬¬å…­ä¸ªä¹‹é—´çš„å­—ç¬¦ä¸²print str[2:] # è¾“å‡ºä»ç¬¬ä¸‰ä¸ªå­—ç¬¦å¼€å§‹çš„å­—ç¬¦ä¸²print str * 2 # è¾“å‡ºå­—ç¬¦ä¸²ä¸¤æ¬¡print str + &quot;TEST&quot; # è¾“å‡ºè¿æ¥çš„å­—ç¬¦ä¸² ä»¥ä¸Šå®ä¾‹è¾“å‡ºç»“æœï¼š123456Hello World!Hllollo World!Hello World!Hello World!Hello World!TEST Python åˆ—è¡¨æˆªå–å¯ä»¥æ¥æ”¶ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå‚æ•°ä½œç”¨æ˜¯æˆªå–çš„æ­¥é•¿ï¼Œä»¥ä¸‹å®ä¾‹åœ¨ç´¢å¼• 1 åˆ°ç´¢å¼• 4 çš„ä½ç½®å¹¶è®¾ç½®ä¸ºæ­¥é•¿ä¸º 2ï¼ˆé—´éš”ä¸€ä¸ªä½ç½®ï¼‰æ¥æˆªå–å­—ç¬¦ä¸²ï¼š Pythonåˆ—è¡¨Listï¼ˆåˆ—è¡¨ï¼‰ æ˜¯ Python ä¸­ä½¿ç”¨æœ€é¢‘ç¹çš„æ•°æ®ç±»å‹ã€‚åˆ—è¡¨å¯ä»¥å®Œæˆå¤§å¤šæ•°é›†åˆç±»çš„æ•°æ®ç»“æ„å®ç°ã€‚å®ƒæ”¯æŒå­—ç¬¦ï¼Œæ•°å­—ï¼Œå­—ç¬¦ä¸²ç”šè‡³å¯ä»¥åŒ…å«åˆ—è¡¨ï¼ˆå³åµŒå¥—ï¼‰ã€‚åˆ—è¡¨ç”¨ [ ] æ ‡è¯†ï¼Œæ˜¯ python æœ€é€šç”¨çš„å¤åˆæ•°æ®ç±»å‹ã€‚åˆ—è¡¨ä¸­å€¼çš„åˆ‡å‰²ä¹Ÿå¯ä»¥ç”¨åˆ°å˜é‡ [å¤´ä¸‹æ ‡:å°¾ä¸‹æ ‡] ï¼Œå°±å¯ä»¥æˆªå–ç›¸åº”çš„åˆ—è¡¨ï¼Œä»å·¦åˆ°å³ç´¢å¼•é»˜è®¤ 0 å¼€å§‹ï¼Œä»å³åˆ°å·¦ç´¢å¼•é»˜è®¤ -1 å¼€å§‹ï¼Œä¸‹æ ‡å¯ä»¥ä¸ºç©ºè¡¨ç¤ºå–åˆ°å¤´æˆ–å°¾ã€‚1234567891011#!/usr/bin/python# -*- coding: UTF-8 -*- list = [ &apos;runoob&apos;, 786 , 2.23, &apos;john&apos;, 70.2 ]tinylist = [123, &apos;john&apos;]print list # è¾“å‡ºå®Œæ•´åˆ—è¡¨print list[0] # è¾“å‡ºåˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ print list[1:3] # è¾“å‡ºç¬¬äºŒä¸ªè‡³ç¬¬ä¸‰ä¸ªå…ƒç´  print list[2:] # è¾“å‡ºä»ç¬¬ä¸‰ä¸ªå¼€å§‹è‡³åˆ—è¡¨æœ«å°¾çš„æ‰€æœ‰å…ƒç´ print tinylist * 2 # è¾“å‡ºåˆ—è¡¨ä¸¤æ¬¡print list + tinylist # æ‰“å°ç»„åˆçš„åˆ—è¡¨ ä»¥ä¸Šå®ä¾‹è¾“å‡ºç»“æœï¼š123456[&apos;runoob&apos;, 786, 2.23, &apos;john&apos;, 70.2]runoob[786, 2.23][2.23, &apos;john&apos;, 70.2][123, &apos;john&apos;, 123, &apos;john&apos;][&apos;runoob&apos;, 786, 2.23, &apos;john&apos;, 70.2, 123, &apos;john&apos;] Python å…ƒç»„å…ƒç»„æ˜¯å¦ä¸€ä¸ªæ•°æ®ç±»å‹ï¼Œç±»ä¼¼äº Listï¼ˆåˆ—è¡¨ï¼‰ã€‚å…ƒç»„ç”¨ () æ ‡è¯†ã€‚å†…éƒ¨å…ƒç´ ç”¨é€—å·éš”å¼€ã€‚ä½†æ˜¯å…ƒç»„ä¸èƒ½äºŒæ¬¡èµ‹å€¼ï¼Œç›¸å½“äºåªè¯»åˆ—è¡¨ã€‚123456789101112#!/usr/bin/python# -*- coding: UTF-8 -*- tuple = ( &apos;runoob&apos;, 786 , 2.23, &apos;john&apos;, 70.2 )tinytuple = (123, &apos;john&apos;) print tuple # è¾“å‡ºå®Œæ•´å…ƒç»„print tuple[0] # è¾“å‡ºå…ƒç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ print tuple[1:3] # è¾“å‡ºç¬¬äºŒä¸ªè‡³ç¬¬å››ä¸ªï¼ˆä¸åŒ…å«ï¼‰çš„å…ƒç´  print tuple[2:] # è¾“å‡ºä»ç¬¬ä¸‰ä¸ªå¼€å§‹è‡³åˆ—è¡¨æœ«å°¾çš„æ‰€æœ‰å…ƒç´ print tinytuple * 2 # è¾“å‡ºå…ƒç»„ä¸¤æ¬¡print tuple + tinytuple # æ‰“å°ç»„åˆçš„å…ƒç»„ ä»¥ä¸Šå®ä¾‹è¾“å‡ºç»“æœï¼š123456(&apos;runoob&apos;, 786, 2.23, &apos;john&apos;, 70.2)runoob(786, 2.23)(2.23, &apos;john&apos;, 70.2)(123, &apos;john&apos;, 123, &apos;john&apos;)(&apos;runoob&apos;, 786, 2.23, &apos;john&apos;, 70.2, 123, &apos;john&apos;) ä»¥ä¸‹æ˜¯å…ƒç»„æ— æ•ˆçš„ï¼Œå› ä¸ºå…ƒç»„æ˜¯ä¸å…è®¸æ›´æ–°çš„ã€‚è€Œåˆ—è¡¨æ˜¯å…è®¸æ›´æ–°çš„ï¼š1234567#!/usr/bin/python# -*- coding: UTF-8 -*- tuple = ( &apos;runoob&apos;, 786 , 2.23, &apos;john&apos;, 70.2 )list = [ &apos;runoob&apos;, 786 , 2.23, &apos;john&apos;, 70.2 ]tuple[2] = 1000 # å…ƒç»„ä¸­æ˜¯éæ³•åº”ç”¨list[2] = 1000 # åˆ—è¡¨ä¸­æ˜¯åˆæ³•åº”ç”¨ Python å­—å…¸å­—å…¸(dictionary)æ˜¯é™¤åˆ—è¡¨ä»¥å¤–pythonä¹‹ä¸­æœ€çµæ´»çš„å†…ç½®æ•°æ®ç»“æ„ç±»å‹ã€‚åˆ—è¡¨æ˜¯æœ‰åºçš„å¯¹è±¡é›†åˆï¼Œå­—å…¸æ˜¯æ— åºçš„å¯¹è±¡é›†åˆã€‚ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«åœ¨äºï¼šå­—å…¸å½“ä¸­çš„å…ƒç´ æ˜¯é€šè¿‡é”®æ¥å­˜å–çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡åç§»å­˜å–ã€‚å­—å…¸ç”¨â€{ }â€æ ‡è¯†ã€‚å­—å…¸ç”±ç´¢å¼•(key)å’Œå®ƒå¯¹åº”çš„å€¼valueç»„æˆã€‚123456789101112#!/usr/bin/python# -*- coding: UTF-8 -*- dict = &#123;&#125;dict[&apos;one&apos;] = &quot;This is one&quot;dict[2] = &quot;This is two&quot;tinydict = &#123;&apos;name&apos;: &apos;john&apos;,&apos;code&apos;:6734, &apos;dept&apos;: &apos;sales&apos;&#125;print dict[&apos;one&apos;] # è¾“å‡ºé”®ä¸º&apos;one&apos; çš„å€¼print dict[2] # è¾“å‡ºé”®ä¸º 2 çš„å€¼print tinydict # è¾“å‡ºå®Œæ•´çš„å­—å…¸print tinydict.keys() # è¾“å‡ºæ‰€æœ‰é”®print tinydict.values() # è¾“å‡ºæ‰€æœ‰å€¼ è¾“å‡ºç»“æœä¸ºï¼š12345This is oneThis is two&#123;&apos;dept&apos;: &apos;sales&apos;, &apos;code&apos;: 6734, &apos;name&apos;: &apos;john&apos;&#125;[&apos;dept&apos;, &apos;code&apos;, &apos;name&apos;][&apos;sales&apos;, 6734, &apos;john&apos;] Pythonæ•°æ®ç±»å‹è½¬æ¢ å‡½æ•° æè¿° int(x [,base]) å°†xè½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•° long(x [,base] ) å°†xè½¬æ¢ä¸ºä¸€ä¸ªé•¿æ•´æ•° float(x) å°†xè½¬æ¢åˆ°ä¸€ä¸ªæµ®ç‚¹æ•° complex(real [,imag]) åˆ›å»ºä¸€ä¸ªå¤æ•° str(x) å°†å¯¹è±¡ x è½¬æ¢ä¸ºå­—ç¬¦ä¸² repr(x) å°†å¯¹è±¡ x è½¬æ¢ä¸ºè¡¨è¾¾å¼å­—ç¬¦ä¸² eval(str) ç”¨æ¥è®¡ç®—åœ¨å­—ç¬¦ä¸²ä¸­çš„æœ‰æ•ˆPythonè¡¨è¾¾å¼,å¹¶è¿”å›ä¸€ä¸ªå¯¹è±¡ tuple(s) å°†åºåˆ— s è½¬æ¢ä¸ºä¸€ä¸ªå…ƒç»„ list(s) å°†åºåˆ— s è½¬æ¢ä¸ºä¸€ä¸ªåˆ—è¡¨ set(s) è½¬æ¢ä¸ºå¯å˜é›†åˆ dict(d) åˆ›å»ºä¸€ä¸ªå­—å…¸ã€‚d å¿…é¡»æ˜¯ä¸€ä¸ªåºåˆ— (key,value)å…ƒç»„ã€‚ frozenset(s) è½¬æ¢ä¸ºä¸å¯å˜é›†åˆ chr(x) å°†ä¸€ä¸ªæ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ unichr(x) å°†ä¸€ä¸ªæ•´æ•°è½¬æ¢ä¸ºUnicodeå­—ç¬¦ ord(x) å°†ä¸€ä¸ªå­—ç¬¦è½¬æ¢ä¸ºå®ƒçš„æ•´æ•°å€¼ hex(x) å°†ä¸€ä¸ªæ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ä¸² oct(x) å°†ä¸€ä¸ªæ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ªå…«è¿›åˆ¶å­—ç¬¦ä¸² Python è¿ç®—ç¬¦ ç®—æœ¯è¿ç®—ç¬¦ æ¯”è¾ƒï¼ˆå…³ç³»ï¼‰è¿ç®—ç¬¦ èµ‹å€¼è¿ç®—ç¬¦ é€»è¾‘è¿ç®—ç¬¦ ä½è¿ç®—ç¬¦ æˆå‘˜è¿ç®—ç¬¦ èº«ä»½è¿ç®—ç¬¦ è¿ç®—ç¬¦ä¼˜å…ˆçº§ Pythonç®—æœ¯è¿ç®—ç¬¦ è¿ç®—ç¬¦ æè¿° å®ä¾‹ + åŠ  - ä¸¤ä¸ªå¯¹è±¡ç›¸åŠ  a + b è¾“å‡ºç»“æœ 30 - å‡ - å¾—åˆ°è´Ÿæ•°æˆ–æ˜¯ä¸€ä¸ªæ•°å‡å»å¦ä¸€ä¸ªæ•° a - b è¾“å‡ºç»“æœ -10 * ä¹˜ - ä¸¤ä¸ªæ•°ç›¸ä¹˜æˆ–æ˜¯è¿”å›ä¸€ä¸ªè¢«é‡å¤è‹¥å¹²æ¬¡çš„å­—ç¬¦ä¸² a * b è¾“å‡ºç»“æœ 200 / é™¤ - xé™¤ä»¥y b / a è¾“å‡ºç»“æœ 2 % å–æ¨¡ - è¿”å›é™¤æ³•çš„ä½™æ•° b % a è¾“å‡ºç»“æœ 0 ** å¹‚ - è¿”å›xçš„yæ¬¡å¹‚ a**b ä¸º10çš„20æ¬¡æ–¹ï¼Œ è¾“å‡ºç»“æœ 100000000000000000000 // å–æ•´é™¤ - è¿”å›å•†çš„æ•´æ•°éƒ¨åˆ†ï¼ˆå‘ä¸‹å–æ•´ï¼‰ 9//2 ç»“æœï¼š4 Pythonæ¯”è¾ƒè¿ç®—ç¬¦ Pythonèµ‹å€¼è¿ç®—ç¬¦ Pythonä½è¿ç®—ç¬¦ Pythoné€»è¾‘è¿ç®—ç¬¦ Pythonæˆå‘˜è¿ç®—ç¬¦ Pythonèº«ä»½è¿ç®—ç¬¦ Pythonè¿ç®—ç¬¦ä¼˜å…ˆçº§","categories":[{"name":"python","slug":"python","permalink":"http://xdd7130.github.io/categories/python/"}],"tags":[{"name":"pythonåŸºç¡€","slug":"pythonåŸºç¡€","permalink":"http://xdd7130.github.io/tags/pythonåŸºç¡€/"}]},{"title":"ArcGIS API For Javascriptä¹‹å½±åƒæœåŠ¡åˆ†æ","slug":"ArcGIS-API-for-JS25","date":"2019-08-06T10:08:42.000Z","updated":"2022-11-02T11:15:20.536Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS25/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS25/","excerpt":"","text":"åœ¨å‰é¢æˆ‘ä»¬å¤§å¤šæ•°çš„ç¨‹åºæ˜¯å¯¹çŸ¢é‡æ•°æ®çš„æ“ä½œï¼Œåœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œä¸»è¦ä»‹ç»å½±å“æœåŠ¡çš„æ“ä½œã€‚åœ¨å½±åƒæœåŠ¡çš„æ“ä½œä¸­ä¸»è¦ç”¨åˆ°çš„ç±»æœ‰ï¼š esri/tasks/ImageServiceIdentifyTaskç”¨äºå¯¹å½±åƒæ•°æ®çš„æŸ¥è¯¢ï¼Œå®ƒä¸»è¦å¯¹åº”çš„å‚æ•°ä¸ºesri/tasks/ImageServiceIdentifyParameters,æŸ¥è¯¢è¿”å›çš„ç»“æœç”¨esri/tasks/ImageServiceIdentifyResultæ¥å— å¯¹å½±åƒæ•°æ®çš„æµ‹é‡ä¸»è¦ç”¨åˆ°çš„ç±»ä¸ºesri/tasks/ImageServiceMeasureTask,å®ƒæ‰€å¯¹åº”çš„çš„å‚æ•°ä¸ºesri/tasks/ImageServiceMeasureParameters ArcGIS APIå½±åƒæµ‹é‡ä»£ç å®ç°é¦–å…ˆåŠ è½½åœ°å›¾123456require([&quot;esri/map&quot;,&quot;esri/layers/ArcGISImageServiceLayer&quot;,&quot;dojo/domReady!&quot;],function(Map,ArcGISImageServiceLayer)&#123; var map=new Map(&quot;mapDiv&quot;) //æ³¨æ„è¿™é‡Œæ˜¯å½±å“æœåŠ¡ var layer=new ArcGISImageServiceLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/Dem/ImageServer&quot;) map.addLayer(layer); &#125;); æ·»åŠ ä¸¤ä¸ªæŒ‰é’®ï¼Œä¸€ä¸ªç”¨äºç»˜åˆ¶æŠ˜çº¿ï¼Œä¸€ä¸ªç”¨äºæµ‹é‡åˆ†æ12&lt;button id=&quot;drawp&quot;&gt;ç»˜åˆ¶ç‚¹&lt;/button&gt;&lt;button id=&quot;btn&quot;&gt;æŸ¥è¯¢&lt;/button&gt; åˆ›å»ºå¿…è¦å¯¹è±¡12345678910//ç”¨äºç»˜åˆ¶ç‚¹ var toolbar =new Draw(map); //åˆ›å»ºå½±åƒåˆ†æå¯¹è±¡ var task=new ImageServiceIdentifyTask(&quot;http://192.168.0.112:6080/arcgis/rest/services/Test/Dem1/ImageServer&quot;); //åˆ›å»ºå½±åƒåˆ†æå‚æ•°å¯¹è±¡ var params=new ImageServiceIdentifyParameters(); var lineSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); var marker= new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CIRCLE,10, lineSymbol, new dojo.Color([255, 0, 0])); var fill= new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new dojo.Color([255, 0, 0])); ç»™ç»˜åˆ¶æŠ˜ç°æŒ‰é’®æ·»åŠ ç»‘å®šäº‹ä»¶1234567891011121314//ç»™ç»˜åˆ¶ç‚¹æŒ‰é’®ç»‘å®šäº‹ä»¶ on(dom.byId(&quot;drawp&quot;),&quot;click&quot;,function()&#123; toolbar.activate(Draw.POLYLINE, &#123; showTooltips:true &#125;) &#125;) //ç»™drawå·¥å…·çš„ç»˜åˆ¶å®Œæˆäº‹ä»¶ç»‘å®šå‡½æ•° on(toolbar,&quot;draw-complete&quot;, function (result) &#123; var geometry=result.geometry; //ç»™å‚æ•°å¯¹è±¡çš„å‡ ä½•å±æ€§èµ‹å€¼ params.geometry=geometry; toolbar.deactivate(); &#125;) ç»™åˆ†ææŒ‰é’®ç»‘å®šäº‹ä»¶12345678910111213on(dom.byId(&quot;btn&quot;),&quot;click&quot;,function()&#123; //è®¾ç½®æ©è†œè§„åˆ™ var mosaicRule=new MosaicRule(); mosaicRule.ascending=false; mosaicRule.method=MosaicRule.METHOD_CENTER params.mosaicRule=mosaicRule params.pixelSizeX=layer.pixelSizeX; params.pixelSizeY=layer.pixelSizeY; task.execute(params,function(result)&#123; //å¼¹å‡ºæ”¹ç‚¹çš„é«˜ç¨‹å€¼ alert(result.value) &#125;) &#125;) ä»£ç ç»“æœ å…¨éƒ¨ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;index.html&lt;/title&gt; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt; &lt;meta http-equiv=&quot;description&quot; content=&quot;this is my page&quot;&gt; &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;!--&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;./styles.css&quot;&gt;--&gt; &lt;style&gt; .MapClass&#123; width:100%; height:500px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script&gt; require([&quot;esri/map&quot;,&quot;esri/layers/ArcGISImageServiceLayer&quot;,&quot;dojo/on&quot;, &quot;dojo/dom&quot;,&quot;esri/toolbars/draw&quot;, &quot;esri/tasks/ImageServiceIdentifyTask&quot;,&quot;esri/tasks/ImageServiceIdentifyParameters&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;,&quot;esri/graphic&quot;,&quot;esri/symbols/SimpleMarkerSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/layers/MosaicRule&quot;, &quot;dojo/domReady!&quot;],function(Map,ArcGISImageServiceLayer,on,dom,Draw,ImageServiceIdentifyTask, ImageServiceIdentifyParameters,SimpleLineSymbol, Graphic,SimpleMarkerSymbol,SimpleFillSymbol,MosaicRule)&#123; var map=new Map(&quot;mapDiv&quot;) //æ³¨æ„è¿™é‡Œæ˜¯å½±å“æœåŠ¡ var layer=new ArcGISImageServiceLayer(&quot;http://192.168.0.112:6080/arcgis/rest/services/Test/Dem1/ImageServer&quot;) map.addLayer(layer); //ç”¨äºç»˜åˆ¶ç‚¹ var toolbar =new Draw(map); //åˆ›å»ºå½±åƒåˆ†æå¯¹è±¡ var task=new ImageServiceIdentifyTask(&quot;http://192.168.0.112:6080/arcgis/rest/services/Test/Dem1/ImageServer&quot;); //åˆ›å»ºå½±åƒåˆ†æå‚æ•°å¯¹è±¡ var params=new ImageServiceIdentifyParameters(); var lineSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); var marker= new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CIRCLE,10, lineSymbol, new dojo.Color([255, 0, 0])); var fill= new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new dojo.Color([255, 0, 0])); //ç»™ç»˜åˆ¶æŠ˜çº¿æŒ‰é’®ç»‘å®šäº‹ä»¶ on(dom.byId(&quot;drawp&quot;),&quot;click&quot;,function()&#123; toolbar.activate(Draw.POINT, &#123; showTooltips:true &#125;) &#125;) //ç»™drawå·¥å…·çš„ç»˜åˆ¶å®Œæˆäº‹ä»¶ç»‘å®šå‡½æ•° on(toolbar,&quot;draw-complete&quot;, function (result) &#123; map.graphics.clear(); var geometry=result.geometry; //ç»™å‚æ•°å¯¹è±¡çš„å‡ ä½•å±æ€§èµ‹å€¼ params.geometry =geometry; graphic= new Graphic(geometry, marker); map.graphics.add(graphic); toolbar.deactivate(); &#125;) on(dom.byId(&quot;btn&quot;),&quot;click&quot;,function()&#123; //è®¾ç½®æ©è†œè§„åˆ™ var mosaicRule=new MosaicRule(); mosaicRule.ascending=false; mosaicRule.method=MosaicRule.METHOD_CENTER params.mosaicRule=mosaicRule params.pixelSizeX=layer.pixelSizeX; params.pixelSizeY=layer.pixelSizeY; task.execute(params,function(result)&#123; //å¼¹å‡ºæ”¹ç‚¹çš„é«˜ç¨‹å€¼ alert(result.value) &#125;) &#125;) &#125;); &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;button id=&quot;drawp&quot;&gt;ç»˜åˆ¶ç‚¹&lt;/button&gt; &lt;button id=&quot;btn&quot;&gt;æŸ¥è¯¢&lt;/button&gt; &lt;/body&gt;&lt;/html&gt;","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javascriptä¹‹è°ƒç”¨åœ°ç†ç¼–ç æœåŠ¡","slug":"ArcGIS-API-for-JS24","date":"2019-08-06T10:03:13.000Z","updated":"2022-11-02T11:15:20.530Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS24/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS24/","excerpt":"","text":"åœ°ç†ç¼–ç ï¼ˆGeocodingï¼‰æŒ‡å»ºç«‹åœ°ç†ä½ç½®åæ ‡ä¸ç»™å®šåœ°å€ä¸€è‡´æ€§çš„è¿‡ç¨‹ï¼Œç®€å•çš„è¯´å°±æ˜¯å°†ä¸€ä¸ªåœ°å€çš„æè¿°ä¿¡æ¯æ˜ å°„ä¸ºåœ°å›¾ä¸Šè¯¥åœ°å€æ‰€å¯¹åº”çš„ç©ºé—´ä½ç½®ã€‚ æ ¹æ®è¾“å…¥çš„åœ°å€æ‰¾åˆ°å¯¹åº”çš„ç©ºé—´ä¿¡æ¯ã€‚å½“è¾“å…¥ä¸€ä¸ªåœ°å€çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šæŸ¥åˆ°å¥½å¤šä¸ªç©ºé—´ä½ç½®ï¼Œç¨‹åºä¼šç»™æ¯ä¸€ä¸ªä½ç½®ä¸€ä¸ªæ‰“åˆ†ï¼ŒåŒ¹é…çš„è¶Šå®Œå…¨çš„æ¯”åˆ†è¶Šé«˜ã€‚ï¼ˆæ³¨æ„è¿™é‡Œè¯´çš„ï¼‰ è°ƒç”¨åœ°ç†ç¼–ç æœåŠ¡æŸ¥çœ‹æˆ‘ä»¬å‘å¸ƒçš„æœåŠ¡é¦–å…ˆçœ‹ä¸€ä¸‹å‘å¸ƒçš„æœåŠ¡æ•°æ®æˆ‘å‘å¸ƒçš„åœ°ç†ç¼–ç æœåŠ¡æ˜¯ï¼šnameä¸ºä¸»é”® æ³¨æ„åº”è¯¥è¾“å…¥çš„å‚æ•° ä»£ç å®ç°æ·»åŠ åœ°å›¾ï¼ˆç•¥ï¼‰åˆ›å»ºä¸‰ä¸ªhtmlè¦ç´ 123Name:&lt;input class=&quot;nm&quot; type=&quot;text&quot;&gt;&lt;input id=&quot;btn&quot; type=&quot;button&quot; value=&quot;å®šä½&quot;&gt;&lt;div id=&quot;divShowResult&quot;&gt;&lt;/div&gt; ç»™å®šä½æŒ‰é’®æ·»åŠ ç»‘å®šäº‹ä»¶12345678910111213141516171819//æ‰§è¡Œæ–¹æ³• locator.addressToLocations(options,function(candidates)&#123; //è·å¾—è¿è¡Œä¹‹åçš„ä¿¡æ¯ if (candidates.length &gt; 0)&#123; //æ‹¼æ¥å­—ç¬¦ä¸² var htmls = &quot;&lt;table style=&apos;width: 100%&apos;&gt;&quot;; htmls = htmls + &quot;&lt;tr bgcolor=&apos;#E0E0E0&apos;&gt;&lt;td&gt;X åæ ‡&lt;/td&gt;&lt;td&gt;Y åæ ‡&lt;/td&gt;&lt;td&gt;å¾—åˆ†&lt;/td&gt;&lt;/tr&gt;&quot;; array.forEach(candidates, function (candidate, index) &#123; if (index % 2 == 1) &#123; htmls = htmls + &quot;&lt;tr bgcolor=&apos;#E0E0E0&apos;&gt;&lt;td style=&apos;width: 60px&apos;&gt;&quot; + candidate.location.x + &quot;&lt;/td&gt;&lt;td style=&apos;width: 60px&apos;&gt;&quot; + candidate.location.y+ &quot;&lt;/td&gt;&lt;td&gt;&quot; + candidate.score + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;; &#125; else &#123; htmls = htmls + &quot;&lt;tr&gt;&lt;td style=&apos;width: 60px&apos;&gt;&quot; + candidate.location.x + &quot;&lt;/td&gt;&lt;td style=&apos;width: 60px&apos;&gt;&quot; + candidate.location.y+ &quot;&lt;/td&gt;&lt;td&gt;&quot; + candidate.score + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;; &#125; &#125;); htmls = htmls + &quot;&lt;/table&gt;&quot;; //å°†æ‹¼æ¥çš„å­—ç¬¦ä¸²æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š dom.byId(&quot;divShowResult&quot;).innerHTML = htmls; &#125; &#125;,function(error)&#123;alert(error)&#125;); è¿è¡Œç»“æœ å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;gbk&quot;&gt; &lt;title&gt;Hello World&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;script&gt; require([&quot;esri/map&quot;,&quot;dojo/query&quot;,&quot;dojo/on&quot;,&quot;dojo/_base/array&quot;,&quot;dojo/dom&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/tasks/locator&quot;, &quot;esri/symbols/SimpleMarkerSymbol&quot;, &quot;dojo/colors&quot;, &quot;esri/InfoTemplate&quot;,&quot;esri/graphic&quot;, &quot;dojo/domReady!&quot;], function(Map,query,on,array,dom,ArcGISDynamicMapServiceLayer,Locator,SimpleMarkerSymbol,Color,InfoTemplate,Graphic)&#123; var map = new Map(&quot;mapDiv&quot;); var layer=new ArcGISDynamicMapServiceLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer&quot;); map.addLayer(layer); query(&quot;#btn&quot;).on(&quot;click&quot;,function()&#123; //è·å¾—æ•™å­¦æ¥¼çš„åç§° var name=query(&quot;.nm&quot;)[0].value; //åˆ›å»ºåœ°ç†ç¼–ç å¯¹è±¡ var locator = new Locator(&quot;http://localhost:6080/arcgis/rest/services/Test/nameLoc/GeocodeServer&quot;); //æ³¨æ„è¿™é‡Œçš„å‚æ•°è¦å’ŒæœåŠ¡çš„å‚æ•°å¯¹åº” var address = &#123; &quot;Single Line Input&quot;: name&#125;; //è¾“å‡ºçš„ç©ºé—´å‚è€ƒ locator.outSpatialReference = map.spatialReference; var options = &#123; address: address, outFields: [&quot;*&quot;] &#125; //æ‰§è¡Œæ–¹æ³• locator.addressToLocations(options,function(candidates)&#123; //è·å¾—è¿è¡Œä¹‹åçš„ä¿¡æ¯ if (candidates.length &gt; 0)&#123; //æ‹¼æ¥å­—ç¬¦ä¸² var htmls = &quot;&lt;table style=&apos;width: 100%&apos;&gt;&quot;; htmls = htmls + &quot;&lt;tr bgcolor=&apos;#E0E0E0&apos;&gt;&lt;td&gt;X åæ ‡&lt;/td&gt;&lt;td&gt;Y åæ ‡&lt;/td&gt;&lt;td&gt;å¾—åˆ†&lt;/td&gt;&lt;/tr&gt;&quot;; array.forEach(candidates, function (candidate, index) &#123; if (index % 2 == 1) &#123; htmls = htmls + &quot;&lt;tr bgcolor=&apos;#E0E0E0&apos;&gt;&lt;td style=&apos;width: 60px&apos;&gt;&quot; + candidate.location.x + &quot;&lt;/td&gt;&lt;td style=&apos;width: 60px&apos;&gt;&quot; + candidate.location.y+ &quot;&lt;/td&gt;&lt;td&gt;&quot; + candidate.score + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;; &#125; else &#123; htmls = htmls + &quot;&lt;tr&gt;&lt;td style=&apos;width: 60px&apos;&gt;&quot; + candidate.location.x + &quot;&lt;/td&gt;&lt;td style=&apos;width: 60px&apos;&gt;&quot; + candidate.location.y+ &quot;&lt;/td&gt;&lt;td&gt;&quot; + candidate.score + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;; &#125; &#125;); htmls = htmls + &quot;&lt;/table&gt;&quot;; //å°†æ‹¼æ¥çš„å­—ç¬¦ä¸²æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š dom.byId(&quot;divShowResult&quot;).innerHTML = htmls; &#125; &#125;,function(error)&#123;alert(error)&#125;); &#125;); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;tundra&quot;&gt;&lt;div id=&quot;mapDiv&quot; style=&quot;width:900px; height:580px; border:1px solid #000;&quot;&gt;&lt;/div&gt; Name:&lt;input class=&quot;nm&quot; type=&quot;text&quot;&gt; &lt;input id=&quot;btn&quot; type=&quot;button&quot; value=&quot;å®šä½&quot;&gt; &lt;div id=&quot;divShowResult&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javascriptä¹‹åœ°å›¾è¾“å‡º","slug":"ArcGIS-API-for-JS23","date":"2019-08-06T09:54:17.000Z","updated":"2022-11-02T11:15:20.526Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS23/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS23/","excerpt":"","text":"åœ¨WebGISä¸­åœ°å›¾è¾“å‡ºæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„åŠŸèƒ½ï¼Œå½“æˆ‘ä»¬åˆ¶å›¾ç»“æŸæ—¶ï¼Œå¾€å¾€è¦å°†æˆ‘ä»¬çš„åœ°å›¾æ‰“å°æˆä¸€å¼ å›¾ç‰‡ä¿å­˜èµ·æ¥ï¼Œåœ¨ArcGIS APIè¦æƒ³å®ç°åœ°å›¾æ‰“å°ï¼Œéœ€è¦å€ŸåŠ©PrintingToolså·¥å…·ï¼Œæ­¤å·¥å…·å®è´¨ä¸Šæ˜¯ä¸€ä¸ªGPå·¥å…·ï¼Œå› ä¸ºæ˜¯GPå·¥å…·ï¼Œæ‰€ä»¥åœ°å›¾çš„ç”Ÿæˆæ˜¯åœ¨æœåŠ¡å™¨ç«¯ç”Ÿæˆçš„ï¼Œä¹Ÿå¯ä»¥å«åšæœåŠ¡å™¨ç«¯æ‰“å°.æœåŠ¡å™¨ç«¯æ‰“å°çš„æ‰§è¡Œå¯¹è±¡æ˜¯ PrintTaskï¼Œæ‰“å°çš„å‚æ•°æ˜¯ PrintParametersï¼Œé€šè¿‡è®¾ç½®æ‰“å°æ¨¡æ¿å¯¹è±¡PrintTemplateï¼Œå¯ä»¥å¯¹å›¾ç‰‡çš„å¤§å°ï¼Œåƒç´ ï¼Œæ ¼å¼ç­‰è¿›è¡Œè®¾ç½® å¯ç”¨PrintingTools å·¥å…·PrintingTools å’Œå‡ ä½•æœåŠ¡ä¸€æ ·ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯å…³é—­çš„ï¼Œæˆ‘ä»¬åº”å½“å¼€å¯æ­¤å·¥å…·é»˜è®¤æƒ…å†µä¸‹å…³é—­å¯åŠ¨æˆåŠŸè¦ä½¿ç”¨çš„URL1http://localhost:6080/arcgis/rest/services/Utilities/PrintingTools/GPServer/Export%20Web%20Map%20Task ä½¿ç”¨PrintingTools æ‰“å°åœ°å›¾ä»£ç å®ç°åŠ è½½åœ°å›¾ï¼ˆç•¥ï¼‰æ·»åŠ ä¸¤ä¸ªæŒ‰é’®ï¼ˆä¸€ä¸ªæŒ‰é’®ç”¨äºç”»polygonï¼Œä¸€ä¸ªæŒ‰é’®ç”¨äºåœ°å›¾æ‰“å°ï¼‰12&lt;button class=&quot;pbtn&quot; &gt;ç”»å¤šè¾¹å½¢&lt;/button&gt;&lt;input id=&quot;Btn&quot; type=&quot;button&quot; value=&quot;åœ°å›¾æ‰“å°&quot; /&gt; åˆ›å»ºç›¸å…³å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼šç»˜å›¾å¯¹è±¡ï¼Œç¬¦å·å¯¹è±¡ï¼‰123456//åˆ›å»ºç»˜å›¾å¯¹è±¡var toolBar = new Draw(map); //çº¿ç¬¦å·lineSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3);//é¢ç¬¦å·polygonSymbol = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([255, 0, 0, 0.25])); ç»™ç»˜åˆ¶å¤šè¾¹å½¢æŒ‰é’®ç»‘å®šäº‹ä»¶123456789101112131415161718//ç»™ç»˜åˆ¶polygonçš„æŒ‰é’®ç»‘å®šäº‹ä»¶query(&quot;.pbtn&quot;).on(&quot;click&quot;,function(event)&#123; //æ¿€æ´»ç»˜åˆ¶å¤šè¾¹å½¢ toolBar.activate(Draw.POLYGON, &#123; showTooltips:true &#125;) &#125;)//ç»˜å›¾ç»“æŸç»‘å®šäº‹ä»¶on(toolBar,&quot;draw-end&quot;,function(result)&#123; //è·å¾—é¢å½¢çŠ¶ var geometry=result.geometry; //åˆ›å»ºGraphic var graphicpoint= new Graphic(geometry, polygonSymbol); map.graphics.add(graphicpoint); //å…³é—­ç»˜å›¾å·¥å…· toolBar.deactivate(); &#125;) ç»™åœ°å›¾æ‰“å°æŒ‰é’®ç»‘å®šäº‹ä»¶1234567891011121314151617181920212223242526272829303132//ç»™åœ°å›¾æ‰“å°æŒ‰é’®ç»‘å®šäº‹ä»¶ on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function()&#123; //åˆ›å»ºåœ°å›¾æ‰“å°å¯¹è±¡ var printMap = new PrintTask(&quot;http://localhost:6080/arcgis/rest/services/Utilities/PrintingTools/GPServer/Export%20Web%20Map%20Task&quot;); //åˆ›å»ºåœ°å›¾æ‰“å°æ¨¡ç‰ˆ var template = new PrintTemplate(); //åˆ›å»ºåœ°å›¾çš„æ‰“å°å‚æ•°ï¼Œå‚æ•°é‡Œé¢åŒ…æ‹¬ï¼šæ¨¡ç‰ˆå’Œåœ°å›¾ var params = new PrintParameters(); //è¾“å‡ºå›¾ç‰‡çš„ç©ºé—´å‚è€ƒ printMap.outSpatialReference = map.SpatialReference //æ‰“å°å›¾ç‰‡çš„å„ç§å‚æ•° template.exportOptions = &#123; width: 850, height: 650, dpi: 96 &#125;; //æ‰“å°è¾“å‡ºçš„æ ¼å¼ template.format = &quot;PDF&quot;; //è¾“å‡ºåœ°å›¾çš„å¸ƒå±€ template.layout = &quot;MAP_ONLY&quot;; PrintTemplate //è®¾ç½®å‚æ•°åœ°å›¾ params.map = map; //è®¾ç½®å‚æ•°æ¨¡ç‰ˆ params.template = template; //è¿è¡Œç»“æœ printMap.execute(params, function(result)&#123; if (result != null) &#123; //ç½‘é¡µæ‰“å¼€ç”Ÿæˆçš„åœ°å›¾ window.open(result.url); &#125; &#125;) è¿è¡Œç»“æœ å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;åœ°å›¾æ‰“å°&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:500px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;dojo/dom&quot;,&quot;dojo/on&quot;,&quot;dojo/query&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/symbols/SimpleMarkerSymbol&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/toolbars/draw&quot;, &quot;esri/graphic&quot;, &quot;esri/tasks/PrintTask&quot;, &quot;esri/tasks/PrintTemplate&quot;, &quot;esri/tasks/PrintParameters&quot;, &quot;dojo/colors&quot;, &quot;dojo/domReady!&quot;], function (Map,dom,on,query, ArcGISDynamicMapServiceLayer, SimpleMarkerSymbol, SimpleLineSymbol, SimpleFillSymbol, Draw, Graphic, PrintTask,PrintTemplate,PrintParameters, Color) &#123; var map = new esri.Map(&quot;mapDiv&quot;); var layer = new esri.layers.ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer&quot;); map.addLayer(layer); //åˆ›å»ºç»˜å›¾å¯¹è±¡ var toolBar = new Draw(map); //çº¿ç¬¦å· lineSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //é¢ç¬¦å· polygonSymbol = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([255, 0, 0, 0.25])); //ç»™ç»˜åˆ¶polygonçš„æŒ‰é’®ç»‘å®šäº‹ä»¶ query(&quot;.pbtn&quot;).on(&quot;click&quot;,function(event)&#123; //æ¿€æ´»ç»˜åˆ¶å¤šè¾¹å½¢ toolBar.activate(Draw.POLYGON, &#123; showTooltips:true &#125;) &#125;) //ç»˜å›¾ç»“æŸç»‘å®šäº‹ä»¶ on(toolBar,&quot;draw-end&quot;,function(result)&#123; //è·å¾—é¢å½¢çŠ¶ var geometry=result.geometry; //åˆ›å»ºGraphic var graphicpoint= new Graphic(geometry, polygonSymbol); map.graphics.add(graphicpoint); //å…³é—­ç»˜å›¾å·¥å…· toolBar.deactivate(); &#125;) //ç»™åœ°å›¾æ‰“å°æŒ‰é’®ç»‘å®šäº‹ä»¶ on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function()&#123; //åˆ›å»ºåœ°å›¾æ‰“å°å¯¹è±¡ var printMap = new PrintTask(&quot;http://localhost:6080/arcgis/rest/services/Utilities/PrintingTools/GPServer/Export%20Web%20Map%20Task&quot;); //åˆ›å»ºåœ°å›¾æ‰“å°æ¨¡ç‰ˆ var template = new PrintTemplate(); //åˆ›å»ºåœ°å›¾çš„æ‰“å°å‚æ•°ï¼Œå‚æ•°é‡Œé¢åŒ…æ‹¬ï¼šæ¨¡ç‰ˆå’Œåœ°å›¾ var params = new PrintParameters(); //è¾“å‡ºå›¾ç‰‡çš„ç©ºé—´å‚è€ƒ printMap.outSpatialReference = map.SpatialReference //æ‰“å°å›¾ç‰‡çš„å„ç§å‚æ•° template.exportOptions = &#123; width: 850, height: 650, dpi: 96 &#125;; //æ‰“å°è¾“å‡ºçš„æ ¼å¼ template.format = &quot;PDF&quot;; //è¾“å‡ºåœ°å›¾çš„å¸ƒå±€ template.layout = &quot;MAP_ONLY&quot;; PrintTemplate //è®¾ç½®å‚æ•°åœ°å›¾ params.map = map; //è®¾ç½®å‚æ•°æ¨¡ç‰ˆ params.template = template; //è¿è¡Œç»“æœ printMap.execute(params, function(result)&#123; if (result != null) &#123; //ç½‘é¡µæ‰“å¼€ç”Ÿæˆçš„åœ°å›¾ window.open(result.url); &#125; &#125;) &#125;) &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;button class=&quot;pbtn&quot; &gt;ç”»å¤šè¾¹å½¢&lt;/button&gt; &lt;input id=&quot;Btn&quot; type=&quot;button&quot; value=&quot;åœ°å›¾æ‰“å°&quot; /&gt;&lt;/body&gt;&lt;/html&gt;","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javascriptä¹‹å‡ ä½•æœåŠ¡","slug":"ArcGIS-API-for-JS22","date":"2019-08-06T09:43:13.000Z","updated":"2022-11-02T11:15:20.522Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS22/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS22/","excerpt":"","text":"ä»€ä¹ˆæ˜¯å‡ ä½•æœåŠ¡ï¼ˆGeometryServiceï¼‰ï¼Ÿä»å­—é¢æ„ä¹‰ä¸Šæ¥è¯´æ˜¯å’Œå‡ ä½•ï¼ˆGeometryï¼‰ç›¸å…³çš„æœåŠ¡ï¼Œå…·ä½“ä¸€ç‚¹è®²æˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªç±»å®ç°ä¸€äº›ç®€å•çš„å›¾å½¢æ“ä½œã€‚ä¾‹å¦‚ï¼š æµ‹é‡ç›´çº¿çš„è·ç¦» å½¢çŠ¶çš„ç¼“å†²åŒºåˆ†æ åˆ¤æ–­ä¸¤ä¸ªå½¢çŠ¶ä¹‹é—´çš„å…³ç³»ï¼ˆç›¸äº¤ï¼Œç›¸ç¦»ç­‰ç­‰ï¼‰ ä¸¤ä¸ªå½¢çŠ¶æ±‚äº¤ å¯¹å½¢çŠ¶çš„è£å‰ªç­‰ç­‰ åœ¨æ­¤ä»¥ç¼“å†²åŒºåˆ†æå’Œå›¾å½¢æ±‚äº¤æ¥ä»‹ç»å‡ ä½•æœåŠ¡çš„ä½¿ç”¨. å¯ç”¨å‡ ä½•æœåŠ¡å½“æˆ‘ä»¬å®‰è£…å¥½ArcGIS Serverçš„æ—¶å€™ï¼Œå‡ ä½•æœåŠ¡å°±å·²ç»å­˜åœ¨äº†ï¼Œå› æ­¤å‡ ä½•æœåŠ¡ä¸éœ€è¦æˆ‘ä»¬å‘å¸ƒï¼Œä½†æ˜¯åœ¨é»˜è®¤æƒ…å†µä¸‹å‡ ä½•æœåŠ¡æ˜¯å…³é—­çš„ï¼Œå› æ­¤æˆ‘ä»¬é¦–å…ˆå¯åŠ¨å‡ ä½•æœåŠ¡ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š ç™»å½•æˆ‘ä»¬çš„ArcGIS Server Managerå¯åŠ¨æˆåŠŸå‡ ä½•æœåŠ¡çš„URL åˆ©ç”¨å‡ ä½•æœåŠ¡è¿›è¡Œç¼“å†²åŒºåˆ†æå‡ ä½•æœåŠ¡çš„ä½¿ç”¨ä¸€èˆ¬åˆ†ä¸ºå››ä¸ªæ­¥éª¤ï¼š åˆ›å»ºå‡ ä½•æœåŠ¡å¯¹è±¡ åˆ›å»ºå‚æ•° æ„å»ºå‚æ•°å¯¹è±¡ æ‰§è¡Œç›¸åº”çš„æ–¹æ³•ï¼Œå¹¶å¤„ç†è¿”å›çš„ç»“æœ ä»£ç å®ç°åŠ è½½åœ°å›¾ï¼ˆçœç•¥ï¼‰åˆ›å»ºä¸¤ä¸ªæŒ‰é’®â€“ä¸€ä¸ªæŒ‰é’®ç”¨äºç”»ç‚¹ï¼Œå¦å¤–ä¸€ä¸ªæŒ‰é’®ç”¨äºç¼“å†²åŒºåˆ†æ12&lt;input id=&quot;point&quot; type=&quot;button&quot; value=&quot;ç‚¹&quot;/&gt;&lt;input id=&quot;Btn&quot; type=&quot;button&quot; /&gt; åˆ›å»ºç›¸å…³å¯¹è±¡ï¼ˆä¾‹å¦‚ç¬¦å·å¯¹è±¡ï¼ŒDrawå¯¹è±¡ç­‰ç­‰ï¼‰1234567891011//ä½¿ç”¨toolbarä¸Šçš„ç»˜å›¾å·¥å…· var toolBar = new Draw(map); //åˆ›å»ºç‚¹ç¬¦å· var pointSymbol = new SimpleMarkerSymbol(); pointSymbol.style = SimpleMarkerSymbol.STYLE_CIRCLE; pointSymbol.setSize(12); pointSymbol.setColor(new Color(&quot;#FFFFCC&quot;)); //çº¿ç¬¦å· lineSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //é¢ç¬¦å· polygonSymbol= new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([255, 255, 0, 0.25])); åˆ›å»ºå‡ ä½•æœåŠ¡å¯¹è±¡ï¼Œåˆ›å»ºç›¸åº”çš„ç¼“å†²åŒºå‚æ•°å¯¹è±¡12var geometryServices = new GeometryService(&quot;http://localhost:6080/arcgis/rest/services/Utilities/Geometry/GeometryServer&quot;);var params = new BufferParameters(); ç»™ç”»ç‚¹æŒ‰é’®ç»‘å®šäº‹ä»¶123456789101112131415161718192021222324//ç»™ç”»ç‚¹æŒ‰é’®ç»‘å®šäº‹ä»¶ on(dom.byId(&quot;point&quot;),&quot;click&quot;,function()&#123; //æ¿€æ´»ç”»ç‚¹å·¥å…· toolBar.activate(Draw.POINT, &#123; showTooltips:true &#125;) &#125;) //ç»˜å›¾ç»“æŸç»‘å®šäº‹ä»¶ on(toolBar,&quot;draw-end&quot;,function(result)&#123; //è·å¾—ç‚¹å½¢çŠ¶ var geometry=result.geometry; //åˆ›å»ºGraphic var graphicpoint = new Graphic(geometry, pointSymbol); map.graphics.add(graphicpoint); //å…³é—­ç»˜å›¾å·¥å…· toolBar.deactivate(); //å¾ˆé‡è¦ï¼ï¼ï¼åœ¨è¿™é‡Œæ„å»ºç¼“å†²åŒºåˆ†æçš„å½¢çŠ¶å±æ€§ //æ³¨æ„è¿™é‡Œå¯ä»¥æ”¾ä¸€ä¸ªæ•°ç»„ï¼Œæ­¤å¤„ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬åªå¯¹ä¸€ä¸ªå½¢çŠ¶è¿›è¡Œç¼“å†²åŒºåˆ†æ params.geometries = [ geometry ]; &#125;) ç»™ç¼“å†²åŒºåˆ†ææŒ‰é’®ç»‘å®šäº‹ä»¶12345678910111213141516171819//ç»™ç¼“å†²åŒºåˆ†ææŒ‰é’®ç»‘å®šäº‹ä»¶ on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function()&#123; //ç¼“å†²è·ç¦» params.distances = [ &quot;80&quot; ]; //ç©ºé—´å‚è€ƒ params.bufferSpatialReference = map.spatialReference; params.outSpatialReference = map.spatialReference; //æ‰§è¡Œåˆ†æå¤„ç†ç»“æœ geometryServices.buffer(params,function(result)&#123; //å¤„ç†ç¼“å†²åŒºåˆ†æå¾—åˆ°çš„ç»“æœ for(var idx in result) &#123; //åˆ›å»ºGraphic var graphic=new Graphic(result[idx],polygonSymbol) //å°†æ¯ä¸€ä¸ªç»“æœéƒ½æ”¾åœ¨mapä¸­ map.graphics.add(graphic) &#125; &#125;); &#125;) è¿è¡Œç»“æœ å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;ç¼“å†²åŒºåˆ†æ&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:500px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;dojo/dom&quot;,&quot;dojo/on&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/symbols/SimpleMarkerSymbol&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/toolbars/draw&quot;, &quot;esri/graphic&quot;, &quot;esri/tasks/GeometryService&quot;, &quot;esri/tasks/BufferParameters&quot;, &quot;dojo/colors&quot;, &quot;dojo/domReady!&quot;], function (Map,dom,on, ArcGISDynamicMapServiceLayer, SimpleMarkerSymbol, SimpleLineSymbol, SimpleFillSymbol, Draw, Graphic, GeometryService, BufferParameters,Color) &#123; var map = new esri.Map(&quot;mapDiv&quot;); var layer = new esri.layers.ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer&quot;); map.addLayer(layer); //åˆ›å»ºå‡ ä½•æœåŠ¡å¯¹è±¡ var geometryServices = new GeometryService(&quot;http://localhost:6080/arcgis/rest/services/Utilities/Geometry/GeometryServer&quot;); //åˆ›å»ºç¼“å­˜å‚æ•°å¯¹è±¡ var params = new BufferParameters(); //ä½¿ç”¨toolbarä¸Šçš„ç»˜å›¾å·¥å…· var toolBar = new Draw(map); //åˆ›å»ºç‚¹ç¬¦å· var pointSymbol = new SimpleMarkerSymbol(); pointSymbol.style = SimpleMarkerSymbol.STYLE_CIRCLE; pointSymbol.setSize(12); pointSymbol.setColor(new Color(&quot;#FFFFCC&quot;)); //çº¿ç¬¦å· lineSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //é¢ç¬¦å· polygonSymbol = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([255, 255, 0, 0.25])); //ç»™ç”»ç‚¹æŒ‰é’®ç»‘å®šäº‹ä»¶ on(dom.byId(&quot;point&quot;),&quot;click&quot;,function()&#123; //æ¿€æ´»ç”»ç‚¹å·¥å…· toolBar.activate(Draw.POINT, &#123; showTooltips:true &#125;) &#125;) //ç»˜å›¾ç»“æŸç»‘å®šäº‹ä»¶ on(toolBar,&quot;draw-end&quot;,function(result)&#123; //è·å¾—ç‚¹å½¢çŠ¶ var geometry=result.geometry; //åˆ›å»ºGraphic var graphicpoint = new Graphic(geometry, pointSymbol); map.graphics.add(graphicpoint); //å…³é—­ç»˜å›¾å·¥å…· toolBar.deactivate(); //å¾ˆé‡è¦ï¼ï¼ï¼åœ¨è¿™é‡Œæ„å»ºç¼“å†²åŒºåˆ†æçš„å½¢çŠ¶å±æ€§ //æ³¨æ„è¿™é‡Œå¯ä»¥æ”¾ä¸€ä¸ªæ•°ç»„ï¼Œæ­¤å¤„ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬åªå¯¹ä¸€ä¸ªå½¢çŠ¶è¿›è¡Œç¼“å†²åŒºåˆ†æ params.geometries = [ geometry ]; &#125;) //ç»™ç¼“å†²åŒºåˆ†ææŒ‰é’®ç»‘å®šäº‹ä»¶ on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function()&#123; //ç¼“å†²è·ç¦» params.distances = [ &quot;80&quot; ]; //ç©ºé—´å‚è€ƒ params.bufferSpatialReference = map.spatialReference; params.outSpatialReference = map.spatialReference; //æ‰§è¡Œåˆ†æå¤„ç†ç»“æœ geometryServices.buffer(params,function(result)&#123; //å¤„ç†ç¼“å†²åŒºåˆ†æå¾—åˆ°çš„ç»“æœ for(var idx in result) &#123; //åˆ›å»ºGraphic var graphic=new Graphic(result[idx],polygonSymbol) //å°†æ¯ä¸€ä¸ªç»“æœéƒ½æ”¾åœ¨mapä¸­ map.graphics.add(graphic) &#125; &#125;); &#125;) &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;input id=&quot;point&quot; type=&quot;button&quot; value=&quot;ç‚¹&quot;/&gt; &lt;input id=&quot;Btn&quot; type=&quot;button&quot; value=&quot;ç¼“å†²åŒºåˆ†æ&quot; /&gt;&lt;/body&gt;&lt;/html&gt; åˆ©ç”¨å‡ ä½•æœåŠ¡è¿›è¡Œå¤šè¾¹å½¢æ±‚äº¤é¦–å…ˆæˆ‘ä»¬å…ˆçœ‹çœ‹æ±‚äº¤è¿™ä¸€ä¸ªæ–¹æ³•1GeometryService.intersect(geometries, geometry, callback?, errback?) è§£é‡Šï¼š12345æ­¤æ–¹æ³•æœ‰å››ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ å½¢çŠ¶çš„é›†åˆ(å¤šä¸ªå½¢çŠ¶)ç¬¬äºŒä¸ªå‚æ•°æ˜¯ ä¸€ä¸ªå½¢çŠ¶ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ è¿è¡ŒæˆåŠŸä¹‹åçš„ç»“æœç¬¬å››ä¸ªå‚æ•°æ˜¯ è¿è¡Œå¤±è´¥ä¹‹åçš„ç»“æœ æ–¹æ³•çš„ä½¿ç”¨ï¼šç”¨ç¬¬äºŒä¸ªå‚æ•°çš„å½¢çŠ¶ä¸ç¬¬ä¸€ä¸ªå‚æ•°çš„å¤šä¸ªå½¢çŠ¶è¿›è¡Œæ±‚äº¤ï¼Œä»è€Œè¿”å›è¿è¡Œçš„ç»“æœ ä»£ç å®ç°åŠ è½½åœ°å›¾ï¼ˆç•¥ï¼‰åˆ›å»ºä¸‰ä¸ªæŒ‰é’®123&lt;button class=&quot;pbtn&quot; &gt;ç¬¬ä¸€ä¸ªå‚æ•°&lt;/button&gt;&lt;button class=&quot;pbtn&quot; &gt;ç¬¬äºŒä¸ªå‚æ•°&lt;/button&gt;&lt;input id=&quot;Btn&quot; type=&quot;button&quot; value=&quot;æ±‚äº¤åˆ†æ&quot; /&gt; åˆ›å»ºç›¸å…³å¯¹è±¡ï¼ˆç¬¦å·å¯¹è±¡ï¼Œç»˜å›¾å¯¹è±¡ï¼‰12345678910111213141516171819//ä¸€ä¸ªæ ‡å¿—ä½ï¼Œç”¨äºè®°å½•æ˜¯ç»˜åˆ¶ç¬¬å‡ ä¸ªå‚æ•° //1ä»£è¡¨ç¬¬ä¸€ä¸ªå‚æ•° //2ä»£è¡¨ç¬¬äºŒä¸ªå‚æ•° var flag; //ç¬¬ä¸€ä¸ªå‚æ•° æ³¨æ„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¤šä¸ªå½¢çŠ¶ var geometries=[]; //ç¬¬äºŒä¸ªå‚æ•° æ³¨æ„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå½¢çŠ¶ var paramGeometry; //ä½¿ç”¨toolbarä¸Šçš„ç»˜å›¾å·¥å…· var toolBar = new Draw(map); //çº¿ç¬¦å· lineSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //ç¬¬ä¸€ä¸ªå‚æ•°çš„é¢ç¬¦å· polygonSymbol1 = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([255, 0, 0, 0.25])); //ç¬¬äºŒä¸ªå‚æ•°çš„é¢ç¬¦å· polygonSymbol2 = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([0, 255, 0, 0.25])); //æ±‚äº¤ä¹‹åçš„é¢ç¬¦å· polygonSymbol3 = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([0, 0, 255, 0.25])); ç»™ç”»å›¾å½¢çš„æŒ‰é’®ç»‘å®šäº‹ä»¶1234567891011121314151617181920212223242526272829303132333435363738394041424344//ç»™ç»˜åˆ¶polygonçš„æŒ‰é’®ç»‘å®šäº‹ä»¶ query(&quot;.pbtn&quot;).on(&quot;click&quot;,function(event)&#123; var value=this.innerHTML; switch(value)&#123; case &quot;ç¬¬ä¸€ä¸ªå‚æ•°&quot;:&#123; flag=1; break; &#125; case &quot;ç¬¬äºŒä¸ªå‚æ•°&quot;:&#123; flag=2; break; &#125; &#125; //æ¿€æ´»ç»˜åˆ¶å¤šè¾¹å½¢ toolBar.activate(Draw.POLYGON, &#123; showTooltips:true &#125;) &#125;) //ç»˜å›¾ç»“æŸç»‘å®šäº‹ä»¶ on(toolBar,&quot;draw-end&quot;,function(result)&#123; //è·å¾—é¢å½¢çŠ¶ var geometry=result.geometry; //åˆ›å»ºGraphic var graphicpoint; //å¾ˆé‡è¦ï¼ï¼ï¼åœ¨è¿™é‡Œæ„å»ºå‚æ•°å¯¹è±¡ if(flag==1) &#123; //åˆ›å»ºGraphic graphicpoint = new Graphic(geometry, polygonSymbol1); geometries.push(geometry) &#125; else if(flag==2) &#123; //åˆ›å»ºGraphic graphicpoint = new Graphic(geometry, polygonSymbol2); paramGeometry=geometry; &#125; map.graphics.add(graphicpoint); //å…³é—­ç»˜å›¾å·¥å…· toolBar.deactivate(); &#125;) ç»™æ±‚äº¤æŒ‰é’®ç»‘å®šäº‹ä»¶12345678910111213//ç»™æ±‚äº¤æŒ‰é’®ç»‘å®šäº‹ä»¶ on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function()&#123; //åœ¨è¿™é‡Œåœ¨è¯´ä¸€è¾¹ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å›¾å½¢é›†åˆï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›¾å½¢ geometryServices.intersect(geometries,paramGeometry,function(result)&#123; for(var idx in result) &#123; //åˆ›å»ºGraphic var graphic=new Graphic(result[idx],polygonSymbol3) //å°†æ¯ä¸€ä¸ªç»“æœéƒ½æ”¾åœ¨mapä¸­ map.graphics.add(graphic) &#125; &#125;) &#125;) è¿è¡Œç»“æœ å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;å¤šè¾¹å½¢æ±‚äº¤&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:500px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;dojo/dom&quot;,&quot;dojo/on&quot;,&quot;dojo/query&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/symbols/SimpleMarkerSymbol&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/toolbars/draw&quot;, &quot;esri/graphic&quot;, &quot;esri/tasks/GeometryService&quot;, &quot;dojo/colors&quot;, &quot;dojo/domReady!&quot;], function (Map,dom,on,query, ArcGISDynamicMapServiceLayer, SimpleMarkerSymbol, SimpleLineSymbol, SimpleFillSymbol, Draw, Graphic, GeometryService, Color) &#123; var map = new esri.Map(&quot;mapDiv&quot;); var layer = new esri.layers.ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer&quot;); map.addLayer(layer); //åˆ›å»ºå‡ ä½•æœåŠ¡å¯¹è±¡ var geometryServices = new GeometryService(&quot;http://localhost:6080/arcgis/rest/services/Utilities/Geometry/GeometryServer&quot;); //ä¸€ä¸ªæ ‡å¿—ä½ï¼Œç”¨äºè®°å½•æ˜¯ç»˜åˆ¶ç¬¬å‡ ä¸ªå‚æ•° //1ä»£è¡¨ç¬¬ä¸€ä¸ªå‚æ•° //2ä»£è¡¨ç¬¬äºŒä¸ªå‚æ•° var flag; //ç¬¬ä¸€ä¸ªå‚æ•° æ³¨æ„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¤šä¸ªå½¢çŠ¶ var geometries=[]; //ç¬¬äºŒä¸ªå‚æ•° æ³¨æ„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå½¢çŠ¶ var paramGeometry; //ä½¿ç”¨toolbarä¸Šçš„ç»˜å›¾å·¥å…· var toolBar = new Draw(map); //çº¿ç¬¦å· lineSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //ç¬¬ä¸€ä¸ªå‚æ•°çš„é¢ç¬¦å· polygonSymbol1 = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([255, 0, 0, 0.25])); //ç¬¬äºŒä¸ªå‚æ•°çš„é¢ç¬¦å· polygonSymbol2 = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([0, 255, 0, 0.25])); //æ±‚äº¤ä¹‹åçš„é¢ç¬¦å· polygonSymbol3 = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([0, 0, 255, 0.25])); //ç»™ç»˜åˆ¶polygonçš„æŒ‰é’®ç»‘å®šäº‹ä»¶ query(&quot;.pbtn&quot;).on(&quot;click&quot;,function(event)&#123; var value=this.innerHTML; switch(value)&#123; case &quot;ç¬¬ä¸€ä¸ªå‚æ•°&quot;:&#123; flag=1; break; &#125; case &quot;ç¬¬äºŒä¸ªå‚æ•°&quot;:&#123; flag=2; break; &#125; &#125; //æ¿€æ´»ç»˜åˆ¶å¤šè¾¹å½¢ toolBar.activate(Draw.POLYGON, &#123; showTooltips:true &#125;) &#125;) //ç»˜å›¾ç»“æŸç»‘å®šäº‹ä»¶ on(toolBar,&quot;draw-end&quot;,function(result)&#123; //è·å¾—é¢å½¢çŠ¶ var geometry=result.geometry; //åˆ›å»ºGraphic var graphicpoint; //å¾ˆé‡è¦ï¼ï¼ï¼åœ¨è¿™é‡Œæ„å»ºå‚æ•°å¯¹è±¡ if(flag==1) &#123; //åˆ›å»ºGraphic graphicpoint = new Graphic(geometry, polygonSymbol1); geometries.push(geometry) &#125; else if(flag==2) &#123; //åˆ›å»ºGraphic graphicpoint = new Graphic(geometry, polygonSymbol2); paramGeometry=geometry; &#125; map.graphics.add(graphicpoint); //å…³é—­ç»˜å›¾å·¥å…· toolBar.deactivate(); &#125;) //ç»™æ±‚äº¤æŒ‰é’®ç»‘å®šäº‹ä»¶ on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function()&#123; //åœ¨è¿™é‡Œåœ¨è¯´ä¸€è¾¹ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å›¾å½¢é›†åˆï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›¾å½¢ geometryServices.intersect(geometries,paramGeometry,function(result)&#123; for(var idx in result) &#123; //åˆ›å»ºGraphic var graphic=new Graphic(result[idx],polygonSymbol3) //å°†æ¯ä¸€ä¸ªç»“æœéƒ½æ”¾åœ¨mapä¸­ map.graphics.add(graphic) &#125; &#125;) &#125;) &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;button class=&quot;pbtn&quot; &gt;ç¬¬ä¸€ä¸ªå‚æ•°&lt;/button&gt; &lt;button class=&quot;pbtn&quot; &gt;ç¬¬äºŒä¸ªå‚æ•°&lt;/button&gt; &lt;input id=&quot;Btn&quot; type=&quot;button&quot; value=&quot;æ±‚äº¤åˆ†æ&quot; /&gt;&lt;/body&gt;&lt;/html&gt;","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javascriptä¹‹ç½‘ç»œåˆ†æ","slug":"ArcGIS-API-for-JS21","date":"2019-08-06T09:27:59.000Z","updated":"2022-11-02T11:15:20.518Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS21/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS21/","excerpt":"","text":"åœ¨WebGISä¸­ç½‘ç»œåˆ†æä¸€ç›´æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šè·¯å¾„åˆ†æï¼ŒæœåŠ¡ç‚¹åˆ†æç­‰ç­‰,åœ¨WebGISä¸­æƒ³è¦å®ç°ç›¸åº”çš„åŠŸèƒ½éœ€è¦å°†æˆ‘ä»¬çš„æœåŠ¡å‘å¸ƒä¸ºç½‘ç»œæœåŠ¡ã€‚ è·¯å¾„åˆ†æåœ¨è·¯å¾„åˆ†æä¸­ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªæ¯”è¾ƒå…³é”®çš„å‚æ•°ï¼š åœé ç‚¹ éšœç¢ç‚¹ æ€»ä½“æ¥è¯´ï¼Œè·¯å¾„åˆ†æçš„æ­¥éª¤ä¸»è¦æœ‰ä»¥ä¸‹å‡ æ­¥ï¼š å‘å¸ƒç½‘ç»œåˆ†ææœåŠ¡ åœ¨Webç«¯åˆ›å»ºè·¯å¾„åˆ†æå¯¹è±¡ æ„å»ºè·¯å¾„åˆ†æå‚æ•°ã€‚ï¼ˆ1ï¼‰åœé ç‚¹ï¼ˆ2ï¼‰éšœç¢ç‚¹ è·å¾—ç»“æœï¼Œè¿›è¡Œå¤„ç†ã€‚ #### ä»£ç å®ç°åˆ›å»ºä¸‰ä¸ªæŒ‰é’®ï¼ˆåœé ç‚¹ï¼Œéšœç¢ç‚¹ï¼Œåˆ†æï¼‰123&lt;input id=&quot;Stop&quot; type=&quot;button&quot; value=&quot;åœé ç‚¹&quot; /&gt;&lt;input id=&quot;barriers&quot; type=&quot;button&quot; value=&quot;éšœç¢ç‚¹&quot; /&gt;&lt;input id=&quot;Analyse&quot; type=&quot;button&quot; value=&quot;åˆ†æ&quot; /&gt; æ·»åŠ åœ°å›¾ï¼ˆæ­¥éª¤çœç•¥ï¼‰åˆ›å»ºè·¯å¾„åˆ†æå¯¹è±¡ï¼Œåˆ›å»ºè·¯å¾„åˆ†æå‚æ•°å¯¹è±¡ï¼ˆæ³¨æ„ï¼šè¿˜ç¼ºå°‘ä¸¤ä¸ªé‡è¦çš„å‚æ•°ï¼Œåœé ç‚¹ï¼Œéšœç¢ç‚¹ï¼‰1234567891011121314//åˆ›å»ºè·¯å¾„åˆ†æå¯¹è±¡ var shortestAnalyst = new RouteTask(&quot;http://localhost:6080/arcgis/rest/services/Test/mynet/NAServer/Route&quot;); //åˆ›å»ºè·¯å¾„å‚æ•°å¯¹è±¡ var routeParas = new RouteParameters(); //éšœç¢ç‚¹ï¼Œä½†æ˜¯æ­¤æ—¶éšœç¢ç‚¹ä¸ºç©º routeParas.barriers = new FeatureSet(); //åœé ç‚¹ï¼Œä½†æ˜¯æ­¤æ—¶åœé ç‚¹ä¸ºç©º routeParas.stops = new FeatureSet(); //è·¯å¾„æ˜¯å¦æœ‰æ–¹å‘ routeParas.returnDirections = false; //æ˜¯å¦è¿”å›è·¯å¾„ï¼Œæ­¤å¤„å¿…é¡»è¿”å› routeParas.returnRoutes = true; //ç©ºé—´å‚è€ƒ routeParas.outSpatialReference = map.SpatialReference; ç»™åœé ç‚¹æŒ‰é’®å’Œéšœç¢ç‚¹æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶12345678910111213//å®šä¹‰ä¸€ä¸ªæ ‡å¿— //selectPointID=0ä»€ä¹ˆéƒ½ä¸åš //selectPointID=1è¯´æ˜æ˜¯æ·»åŠ åœé ç‚¹ //selectPointID=2è¯´æ˜æ˜¯æ·»åŠ éšœç¢ç‚¹ var selectPointID; //ç»™åœé ç‚¹æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ on(dom.byId(&quot;stop&quot;),&quot;click&quot;,function()&#123; selectPointID = 1; &#125;) //ç»™éšœç¢ç‚¹æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ on(dom.byId(&quot;barriers&quot;),&quot;click&quot;,function()&#123; selectPointID = 2; &#125;) ç»™åœ°å›¾ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼ˆä¸ºäº†è·å¾—ç‚¹çš„åæ ‡â€“&gt;æ„å»ºåœé ç‚¹æˆ–è€…éšœç¢ç‚¹ï¼‰123456789101112131415161718192021222324252627282930313233343536373839404142434445464748//å®šä¹‰åœé ç‚¹çš„ç¬¦å· var stopSymbol = new SimpleMarkerSymbol(); stopSymbol.style = SimpleMarkerSymbol.STYLE_CIRCLE; stopSymbol.setSize(8); stopSymbol.setColor(new Color(&quot;#FFFFCC&quot;)); //å®šä¹‰éšœç¢ç‚¹çš„ç¬¦å· var barrierSymbol = new SimpleMarkerSymbol(); barrierSymbol.style = SimpleMarkerSymbol.STYLE_CIRCLE; barrierSymbol.setSize(8); barrierSymbol.setColor(new Color(&quot;#f1a340&quot;)); on(map, &quot;mouse-down&quot;, function(evt)&#123; //é€šè¿‡selectPointIDåˆ¤æ–­æ˜¯æ·»åŠ æ˜¯åœé ç‚¹è¿˜æ˜¯éšœç¢ç‚¹ switch (selectPointID) &#123; case 0: break; case 1: //è·å¾—åœé ç‚¹çš„åæ ‡ var pointStop=evt.mapPoint; var gr=new Graphic(pointStop,stopSymbol); //æ„å»ºåœé ç‚¹çš„å‚æ•° routeParas.stops.features.push(gr); break; case 2: //è·å¾—éšœç¢ç‚¹çš„åæ ‡ var pointBarrier=evt.mapPoint; var gr=new Graphic(pointBarrier,barrierSymbol); //æ„å»ºéšœç¢ç‚¹çš„å‚æ•° routeParas.barriers.features.push(gr); break; &#125; //å¦‚æœselectPointIDä¸ç­‰äº0ï¼Œå°†ç‚¹çš„åæ ‡åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºå‡ºæ¥ if (selectPointID != 0) &#123; addTextPoint(&quot;åœé ç‚¹&quot;, pointStop, stopSymbol); addTextPoint(&quot;éšœç¢ç‚¹&quot;, pointBarrier, barrierSymbol); selectPointID = 0; &#125; &#125;); //æ–‡æœ¬ç¬¦å·ï¼šæ–‡æœ¬ä¿¡æ¯ï¼Œç‚¹åæ ‡ï¼Œç¬¦å· function addTextPoint(text,point,symbol) &#123; var textSymbol = new TextSymbol(text); textSymbol.setColor(new Color([128, 0, 0])); var graphicText = Graphic(point, textSymbol); var graphicpoint = new Graphic(point, symbol); //ç”¨é»˜è®¤çš„å›¾å±‚æ·»åŠ  map.graphics.add(graphicpoint); //ç”¨é»˜è®¤çš„å›¾å±‚æ·»åŠ  map.graphics.add(graphicText); &#125; ç»™åˆ†ææŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶1234567891011//ç»™åˆ†ææŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ on(dom.byId(&quot;analyse&quot;),&quot;click&quot;,function()&#123; //å¦‚æœéšœç¢ç‚¹æˆ–è€…åœé ç‚¹çš„ä¸ªæ•°æœ‰ä¸€ä¸ªä¸º0ï¼Œæç¤ºç”¨æˆ·å‚æ•°è¾“å…¥ä¸å¯¹ if (routeParas.stops.features.length == 0 || routeParas.barriers.features.length==0) &#123; alert(&quot;è¾“å…¥å‚æ•°ä¸å…¨ï¼Œæ— æ³•åˆ†æ&quot;); return; &#125; //æ‰§è¡Œè·¯å¾„åˆ†æå‡½æ•° shortestAnalyst.solve(routeParas, showRoute) &#125;) è·å¾—ç»“æœï¼Œå¤„ç†è·¯å¾„åˆ†æè¿”å›çš„ç»“æœã€‚1234567891011121314151617181920//å¤„ç†è·¯å¾„åˆ†æè¿”å›çš„ç»“æœã€‚ function showRoute(solveResult) &#123; //è·¯å¾„åˆ†æçš„ç»“æœ var routeResults = solveResult.routeResults; //è·¯å¾„åˆ†æçš„é•¿åº¦ var res = routeResults.length; //è·¯å¾„çš„ç¬¦å· routeSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); if (res &gt; 0) &#123; for (var i = 0; i &lt; res; i++) &#123; var graphicroute = routeResults[i]; var graphic = graphicroute.route; graphic.setSymbol(routeSymbol); map.graphics.add(graphic); &#125; &#125; else &#123; alert(&quot;æ²¡æœ‰è¿”å›ç»“æœ&quot;); &#125; &#125; è¿è¡Œç»“æœæ·»åŠ åœé ç‚¹æ·»åŠ éšœç¢ç‚¹åˆ†æè·å¾—ç»“æœ å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;Geometric _Network&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:600px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;dojo/on&quot;, &quot;dojo/dom&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/tasks/RouteTask&quot;, &quot;esri/tasks/FeatureSet&quot;, &quot;esri/symbols/SimpleMarkerSymbol&quot;, &quot;esri/symbols/TextSymbol&quot;, &quot;esri/toolbars/draw&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/tasks/RouteParameters&quot;, &quot;dojo/colors&quot;, &quot;esri/graphic&quot;, &quot;dojo/domReady!&quot;], function (Map,on,dom, ArcGISDynamicMapServiceLayer, RouteTask, FeatureSet, SimpleMarkerSymbol, TextSymbol, Draw, SimpleLineSymbol, RouteParameters, Color, Graphic ) &#123; var map = new Map(&quot;MyMapDiv&quot;); var layer = new ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/mynet/MapServer&quot;); map.addLayer(layer) //åˆ›å»ºè·¯å¾„åˆ†æå¯¹è±¡ var shortestAnalyst = new RouteTask(&quot;http://localhost:6080/arcgis/rest/services/Test/mynet/NAServer/Route&quot;); //åˆ›å»ºè·¯å¾„å‚æ•°å¯¹è±¡ var routeParas = new RouteParameters(); //éšœç¢ç‚¹ï¼Œä½†æ˜¯æ­¤æ—¶éšœç¢ç‚¹ä¸ºç©º routeParas.barriers = new FeatureSet(); //åœé ç‚¹ï¼Œä½†æ˜¯æ­¤æ—¶åœé ç‚¹ä¸ºç©º routeParas.stops = new FeatureSet(); //è·¯å¾„æ˜¯å¦æœ‰æ–¹å‘ routeParas.returnDirections = false; //æ˜¯å¦è¿”å›è·¯å¾„ï¼Œæ­¤å¤„å¿…é¡»è¿”å› routeParas.returnRoutes = true; //ç©ºé—´å‚è€ƒ routeParas.outSpatialReference = map.SpatialReference; //å®šä¹‰ä¸€ä¸ªæ ‡å¿— //selectPointID=0ä»€ä¹ˆéƒ½ä¸åš //selectPointID=1è¯´æ˜æ˜¯æ·»åŠ åœé ç‚¹ //selectPointID=2è¯´æ˜æ˜¯æ·»åŠ éšœç¢ç‚¹ var selectPointID; //ç»™åœé ç‚¹æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ on(dom.byId(&quot;stop&quot;),&quot;click&quot;,function()&#123; selectPointID = 1; &#125;) //ç»™éšœç¢ç‚¹æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ on(dom.byId(&quot;barriers&quot;),&quot;click&quot;,function()&#123; selectPointID = 2; &#125;) //å®šä¹‰åœé ç‚¹çš„ç¬¦å· var stopSymbol = new SimpleMarkerSymbol(); stopSymbol.style = SimpleMarkerSymbol.STYLE_CIRCLE; stopSymbol.setSize(8); stopSymbol.setColor(new Color(&quot;#FFFFCC&quot;)); //å®šä¹‰éšœç¢ç‚¹çš„ç¬¦å· var barrierSymbol = new SimpleMarkerSymbol(); barrierSymbol.style = SimpleMarkerSymbol.STYLE_CIRCLE; barrierSymbol.setSize(8); barrierSymbol.setColor(new Color(&quot;#f1a340&quot;)); on(map, &quot;mouse-down&quot;, function(evt)&#123; //é€šè¿‡selectPointIDåˆ¤æ–­æ˜¯æ·»åŠ æ˜¯åœé ç‚¹è¿˜æ˜¯éšœç¢ç‚¹ switch (selectPointID) &#123; case 0: break; case 1: //è·å¾—åœé ç‚¹çš„åæ ‡ var pointStop=evt.mapPoint; var gr=new Graphic(pointStop,stopSymbol); //æ„å»ºåœé ç‚¹çš„å‚æ•° routeParas.stops.features.push(gr); break; case 2: //è·å¾—éšœç¢ç‚¹çš„åæ ‡ var pointBarrier=evt.mapPoint; var gr=new Graphic(pointBarrier,barrierSymbol); //æ„å»ºéšœç¢ç‚¹çš„å‚æ•° routeParas.barriers.features.push(gr); break; &#125; //å¦‚æœselectPointIDä¸ç­‰äº0ï¼Œå°†ç‚¹çš„åæ ‡åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºå‡ºæ¥ if (selectPointID != 0) &#123; addTextPoint(&quot;åœé ç‚¹&quot;, pointStop, stopSymbol); addTextPoint(&quot;éšœç¢ç‚¹&quot;, pointBarrier, barrierSymbol); selectPointID = 0; &#125; &#125;); //æ–‡æœ¬ç¬¦å·ï¼šæ–‡æœ¬ä¿¡æ¯ï¼Œç‚¹åæ ‡ï¼Œç¬¦å· function addTextPoint(text,point,symbol) &#123; var textSymbol = new TextSymbol(text); textSymbol.setColor(new Color([128, 0, 0])); var graphicText = Graphic(point, textSymbol); var graphicpoint = new Graphic(point, symbol); //ç”¨é»˜è®¤çš„å›¾å±‚æ·»åŠ  map.graphics.add(graphicpoint); map.graphics.add(graphicText); &#125; //ç»™åˆ†ææŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ on(dom.byId(&quot;analyse&quot;),&quot;click&quot;,function()&#123; //å¦‚æœéšœç¢ç‚¹æˆ–è€…åœé ç‚¹çš„ä¸ªæ•°æœ‰ä¸€ä¸ªä¸º0ï¼Œæç¤ºç”¨æˆ·å‚æ•°è¾“å…¥ä¸å¯¹ if (routeParas.stops.features.length == 0 || routeParas.barriers.features.length==0) &#123; alert(&quot;è¾“å…¥å‚æ•°ä¸å…¨ï¼Œæ— æ³•åˆ†æ&quot;); return; &#125; //æ‰§è¡Œè·¯å¾„åˆ†æå‡½æ•° shortestAnalyst.solve(routeParas, showRoute) &#125;) //å¤„ç†è·¯å¾„åˆ†æè¿”å›çš„ç»“æœã€‚ function showRoute(solveResult) &#123; //è·¯å¾„åˆ†æçš„ç»“æœ var routeResults = solveResult.routeResults; //è·¯å¾„åˆ†æçš„é•¿åº¦ var res = routeResults.length; //è·¯å¾„çš„ç¬¦å· routeSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); if (res &gt; 0) &#123; for (var i = 0; i &lt; res; i++) &#123; var graphicroute = routeResults[i]; var graphic = graphicroute.route; graphic.setSymbol(routeSymbol); map.graphics.add(graphic); &#125; &#125; else &#123; alert(&quot;æ²¡æœ‰è¿”å›ç»“æœ&quot;); &#125; &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;MyMapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;input id=&quot;stop&quot; type=&quot;button&quot; value=&quot;åœé ç‚¹&quot; /&gt; &lt;input id=&quot;barriers&quot; type=&quot;button&quot; value=&quot;éšœç¢ç‚¹&quot; /&gt; &lt;input id=&quot;analyse&quot; type=&quot;button&quot; value=&quot;åˆ†æ&quot; /&gt; &lt;/body&gt;&lt;/html&gt;","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javascriptä¹‹ç¼–è¾‘æœåŠ¡å™¨ç«¯å›¾å±‚","slug":"ArcGIS-API-for-JS20","date":"2019-08-06T09:19:00.000Z","updated":"2022-11-02T11:15:20.516Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS20/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS20/","excerpt":"","text":"åœ¨ç°å®éœ€æ±‚ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…ä»…éœ€è¦ç¼–è¾‘å®¢æˆ·ç«¯å›¾å±‚ï¼Œä¹Ÿæœ‰å¯èƒ½å»ç¼–è¾‘æœåŠ¡å™¨ç«¯å›¾å±‚ï¼Œè¦æƒ³ç¼–è¾‘æœåŠ¡å™¨ç«¯çš„å›¾å±‚ï¼Œå¿…é¡»è¦å°†åœ°å›¾å‘å¸ƒä¸ºï¼šè¦ç´ æœåŠ¡ éœ€æ±‚ï¼ˆæœåŠ¡å™¨ç«¯å›¾å±‚ç¼–è¾‘ï¼‰å…³äºæœåŠ¡å™¨ç«¯å›¾å±‚çš„æ“ä½œ,åŸºæœ¬å°±æ˜¯å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œè¦ç´ æœåŠ¡çš„æŸ¥è¯¢å‰é¢å·²ç»ä»‹ç»è¿‡ï¼Œåœ¨æ­¤ç¯‡åšå®¢ä¸­ä¸»è¦è®°å½•ä¸€ä¸‹å…³äºè¦ç´ æœåŠ¡çš„å¢åˆ æ”¹æ“ä½œ,åœ¨ArcGIS API for JSä¸­ç»™æˆ‘ä»¬æä¾›äº†ä¸‰ä¸ªç±»ç”¨äºè¦ç´ çš„å¢Add,åˆ Delete,æ”¹Update,æ¥ä¸‹æ¥å°±ç”¨è¿™ä¸‰ä¸ªç±»æ¥å®ç°æˆ‘ä»¬çš„åŠŸèƒ½ã€‚ æˆ‘ä»¬æ“ä½œçš„æ˜¯è¦ç´ æœåŠ¡çš„sushelouå›¾å±‚ æˆ‘ä»¬çš„æœåŠ¡ï¼š æ³¨æ„ï¼šå®¿èˆæ¥¼å›¾å±‚ç¼–å·ä¸º1 å›¾å±‚çš„å±æ€§ä¿¡æ¯ å®ç°é¦–å…ˆåœ¨é¡µé¢æ·»åŠ ä¸‰ä¸ªæŒ‰é’®(ç”¨äºå®ç°ç”¨æˆ·çš„å¢åˆ æ”¹æ“ä½œ) æ·»åŠ è¦ç´  åˆ é™¤è¦ç´  ä¿®æ”¹è¦ç´  æŸ¥è¯¢è¦ç´ æ·»åŠ åœ°å›¾ï¼ˆçœç•¥ï¼‰åˆ›å»ºé€šç”¨çš„å¯¹è±¡ï¼Œä¾‹å¦‚Draw12345678910//ç”¨äºæ“ä½œçš„è¦ç´ å›¾å±‚ï¼Œæ³¨æ„æˆ‘ä»¬æ˜¯æ“ä½œçš„å®¿èˆæ¥¼å›¾å±‚var featureLayer = new FeatureLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/ft/FeatureServer/1&quot;, &#123; mode:FeatureLayer.MODE_SNAPSHOT, outFields: [&quot;*&quot;] &#125;); //åœ¨æ·»åŠ è¦ç´ æ—¶ï¼Œåˆ©ç”¨Drawå·¥å…·è·å¾—geometryå¯¹è±¡ var d = new Draw(map, &#123; showTooltips: true &#125;); //è¦æ“ä½œçš„graphic var g; ç»™ç›¸åº”çš„æŒ‰é’®æ·»åŠ ç»‘å®šäº‹ä»¶12345678910111213141516171819202122232425262728293031323334query(&quot;button&quot;).on(&quot;click&quot;,function(event)&#123; //è·å¾—æŒ‰é’®çš„æ–‡æœ¬ var value=this.innerHTML; //æ ¹æ®æ–‡æœ¬ç»‘å®šä¸åŒçš„äº‹ä»¶ switch(value)&#123; case &quot;æ·»åŠ è¦ç´ &quot;: d.activate(Draw.POLYGON); break; case &quot;åˆ é™¤è¦ç´ &quot;: //åˆ›å»ºGraphicå¯¹è±¡ï¼Œåˆ é™¤OBJECTIDä¸º34çš„å…ƒç´ ï¼Œ //å› ä¸ºOBJECTIDæ˜¯ä¸»é”®ï¼Œæ‰€ä»¥åªéœ€è¦æŒ‡å®šä¸»é”®å³å¯ g=new Graphic(&quot;&quot;,&quot;&quot;,&#123; &quot;OBJECTID&quot;:34 &#125;); //åˆ›å»ºåˆ é™¤å¯¹è±¡ var de=new Delete(&#123; &quot;featureLayer&quot;:featureLayer, &quot;deletedGraphics&quot;:[g] &#125;); //æ‰§è¡Œåˆ é™¤ç»“æœ de.performRedo(); //åˆ·æ–°å›¾å±‚ layer.refresh(); break; case &quot;ä¿®æ”¹è¦ç´ &quot;: //ç”¨äºä¿®æ”¹è¦ç´ çš„å‡½æ•°,æŸ¥è¯¢æ›´æ–°ä¸º36çš„è¦ç´  updateFeature(36); break; case &quot;æŸ¥è¯¢è¦ç´ &quot;: //ç”¨äºæŸ¥è¯¢è¦ç´ çš„å‡½æ•°ï¼ŒæŸ¥è¯¢ä¸»é”®ä¸º36çš„è¦ç´  searchFeather(36); break; &#125; &#125;); å¦‚æœæ˜¯æ·»åŠ æ“ä½œï¼ˆåˆ©ç”¨drawæ·»åŠ geometryå±æ€§ï¼‰123456789101112131415//å½“ç”»å›¾å®Œæ¯•æ—¶ï¼Œæ·»åŠ è¦ç´  on(d, &quot;draw-complete&quot;, function (result) &#123; //è¦ç´ åªèµ‹äºˆäº†geometryï¼Œå±æ€§ä¿¡æ¯ä¸ºç©º var graphic = new Graphic(result.geometry, null,&#123;&#125;); var add=new Add(&#123; &quot;featureLayer&quot;:featureLayer,//ç»™å“ªä¸€ä¸ªè¦ç´ å›¾å±‚æ·»åŠ è¦ç´  &quot;addedGraphics&quot;:[graphic]//ç”¨äºæ·»åŠ çš„è¦ç´  &#125;) //æ‰§è¡Œæ·»åŠ å‡½æ•° add.performRedo(); //åˆ·æ–°è§†å›¾ layer.refresh(); //å…³é—­ç»˜å›¾å¯¹è±¡ d.deactivate(); &#125;); å¦‚æœæ˜¯æŸ¥è¯¢æ“ä½œ12345678910111213141516171819202122232425262728293031//æ ¹æ®idæŸ¥è¯¢è¦ç´  function searchFeather(id,callback)&#123; //å¾—åˆ°è¦ç´ å›¾å±‚çš„ä¸»é”®å±æ€§ var idProperty = featureLayer.objectIdField; //å®šä¹‰æŸ¥è¯¢å‚æ•° var query = new Query(); //æ˜¯å¦è¿”å›å‡ ä½•å½¢çŠ¶ query.returnGeometry = false; //å›¾å±‚çš„ä¸»é”®åç§°ï¼ˆæ ¹æ®è‡ªå·±è¦æ±‚ä¿®æ”¹ï¼‰ query.objectIds = [id]; //æŸ¥è¯¢æ¡ä»¶1=1æ„æ€æ˜¯ï¼šåªæ ¹æ®ä¸»é”®æŸ¥è¯¢ï¼Œå¿½ç•¥whereå­å¥ query.where = &quot;1=1&quot;; //è¿›è¡ŒæŸ¥è¯¢ featureLayer.selectFeatures(query, FeatureLayer.SELECTION_NEW,function(result)&#123; //å¦‚æœcallbackä¸å­˜åœ¨ï¼Œè¯´æ˜ä»…ä»…æ˜¯æŸ¥è¯¢æ“ä½œ if(!callback)&#123; //å› ä¸ºæˆ‘ä»¬æ ¹æ®ä¸»é”®æŸ¥è¯¢ï¼Œä¸€å®šåªæœ‰ä¸€ä¸ªå…ƒç´  var graphic=result[0]; //è·å¾—å±æ€§ var attributes=graphic.attributes; //å¾—åˆ°è¯¥å±æ€§ä¿¡æ¯è½¬æ¢æˆå­—ç¬¦ä¸² var result=jsonUtil.stringify(attributes) //å°†ç»“æœå¼¹å‡ºä¸€ä¸‹ alert(result); &#125;else//å¦‚æœcallbackå­˜åœ¨ï¼Œè¯´æ˜æ˜¯æ›´æ–°æ“ä½œ &#123; callback(result); &#125; &#125;); &#125; å¦‚æœæ˜¯æ›´æ–°æ“ä½œ12345678910111213141516171819202122232425//æ ¹æ®idä¿®æ”¹è¦ç´  function updateFeature(id)&#123; //æ³¨æ„:ï¼ˆç¬¬äºŒä¸ªå‚æ•°ï¼‰è¿™é‡Œä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç”¨äºå¤„ç†æŸ¥è¯¢å‡ºæ¥çš„æ•°æ® searchFeather(id,function(result)&#123; //è·å¾—æ—§çš„è¦ç´  var oldgraphic=result[0]; //æ–°çš„è¦ç´  var newgraphic=new Graphic(oldgraphic.toJson()); //å°†aliaså±æ€§ä¿®æ”¹ä¸º:ä¿®æ”¹åçš„CåŒº newgraphic.attributes.alias=&quot;ä¿®æ”¹åçš„CåŒº&quot;; //åˆ›å»ºæ›´æ–°å¯¹è±¡ var update=new Update(&#123; &quot;featureLayer&quot;:featureLayer, &quot;postUpdatedGraphics&quot;:[newgraphic],//ä¿®æ”¹ä¹‹åçš„è¦ç´  &quot;preUpdatedGraphics&quot;:[oldgraphic]//ä¿®æ”¹ä¹‹å‰çš„è¦ç´  &#125;) //æ‰§è¡Œåˆ·æ–°æ“ä½œ update.performRedo(); //åˆ·æ–°è§†å›¾ layer.refresh(); alert(&quot;ä¿®æ”¹æˆåŠŸ&quot;); &#125;) &#125; å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;WebGIS&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:500px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;dojo/on&quot;, &quot;dojo/query&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/toolbars/draw&quot;, &quot;esri/layers/FeatureLayer&quot;, &quot;esri/graphic&quot;, &quot;esri/dijit/editing/Add&quot;, &quot;esri/dijit/editing/Delete&quot;,&quot;esri/dijit/editing/Update&quot;,&quot;esri/tasks/query&quot;,&quot;dojo/json&quot;, &quot;dojo/domReady!&quot;], function (Map,on,query, ArcGISDynamicMapServiceLayer, Draw,FeatureLayer,Graphic,Add,Delete,Update,Query,jsonUtil) &#123; var map = new esri.Map(&quot;MyMapDiv&quot;); var layer = new ArcGISDynamicMapServiceLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer&quot;); map.addLayer(layer); //ç”¨äºæ“ä½œçš„è¦ç´ å›¾å±‚ï¼Œæ³¨æ„æˆ‘ä»¬æ˜¯æ“ä½œçš„å®¿èˆæ¥¼å›¾å±‚ var featureLayer = new FeatureLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/ft/FeatureServer/1&quot;, &#123; mode:FeatureLayer.MODE_SNAPSHOT, outFields: [&quot;*&quot;] &#125;); //åœ¨æ·»åŠ è¦ç´ æ—¶ï¼Œåˆ©ç”¨Drawå·¥å…·è·å¾—geometryå¯¹è±¡ var d = new Draw(map, &#123; showTooltips: true &#125;); //è¦æ“ä½œçš„graphic var g; query(&quot;button&quot;).on(&quot;click&quot;,function(event)&#123; var value=this.innerHTML; switch(value)&#123; case &quot;æ·»åŠ è¦ç´ &quot;: d.activate(Draw.POLYGON); break; case &quot;åˆ é™¤è¦ç´ &quot;: //åˆ›å»ºGraphicå¯¹è±¡ï¼Œåˆ é™¤OBJECTIDä¸º34çš„å…ƒç´ ï¼Œ //å› ä¸ºOBJECTIDæ˜¯ä¸»é”®ï¼Œæ‰€ä»¥åªéœ€è¦æŒ‡å®šä¸»é”®å³å¯ g=new Graphic(&quot;&quot;,&quot;&quot;,&#123; &quot;OBJECTID&quot;:34 &#125;); //åˆ›å»ºåˆ é™¤å¯¹è±¡ var de=new Delete(&#123; &quot;featureLayer&quot;:featureLayer, &quot;deletedGraphics&quot;:[g] &#125;); //æ‰§è¡Œåˆ é™¤ç»“æœ de.performRedo(); //åˆ·æ–°å›¾å±‚ layer.refresh(); break; case &quot;ä¿®æ”¹è¦ç´ &quot;: //ç”¨äºä¿®æ”¹è¦ç´ çš„å‡½æ•°,æŸ¥è¯¢æ›´æ–°ä¸º36çš„è¦ç´  updateFeature(1); break; case &quot;æŸ¥è¯¢è¦ç´ &quot;: //ç”¨äºæŸ¥è¯¢è¦ç´ çš„å‡½æ•°ï¼ŒæŸ¥è¯¢ä¸»é”®ä¸º36çš„è¦ç´  searchFeather(1); break; &#125; &#125;); //å½“ç”»å›¾å®Œæ¯•æ—¶ï¼Œæ·»åŠ è¦ç´  on(d, &quot;draw-complete&quot;, function (result) &#123; //è¦ç´ åªèµ‹äºˆäº†geometryï¼Œå±æ€§ä¿¡æ¯ä¸ºç©º var graphic = new Graphic(result.geometry, null,&#123;&#125;); var add=new Add(&#123; &quot;featureLayer&quot;:featureLayer,//ç»™å“ªä¸€ä¸ªè¦ç´ å›¾å±‚æ·»åŠ è¦ç´  &quot;addedGraphics&quot;:[graphic]//ç”¨äºæ·»åŠ çš„è¦ç´  &#125;) //æ‰§è¡Œæ·»åŠ å‡½æ•° add.performRedo(); //åˆ·æ–°è§†å›¾ layer.refresh(); //å…³é—­ç»˜å›¾å¯¹è±¡ d.deactivate(); &#125;); //æ ¹æ®idä¿®æ”¹è¦ç´  function updateFeature(id)&#123; //æ³¨æ„:ï¼ˆç¬¬äºŒä¸ªå‚æ•°ï¼‰è¿™é‡Œä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç”¨äºå¤„ç†æŸ¥è¯¢å‡ºæ¥çš„æ•°æ® searchFeather(id,function(result)&#123; //è·å¾—æ—§çš„è¦ç´  var oldgraphic=result[0]; //æ–°çš„è¦ç´  var newgraphic=new Graphic(oldgraphic.toJson()); //å°†aliaså±æ€§ä¿®æ”¹ä¸º:ä¿®æ”¹åçš„AåŒºå®¿èˆ newgraphic.attributes.alias=&quot;ä¿®æ”¹åçš„AåŒºå®¿èˆ&quot;; //åˆ›å»ºæ›´æ–°å¯¹è±¡ var update=new Update(&#123; &quot;featureLayer&quot;:featureLayer, &quot;postUpdatedGraphics&quot;:[newgraphic],//ä¿®æ”¹ä¹‹åçš„è¦ç´  &quot;preUpdatedGraphics&quot;:[oldgraphic]//ä¿®æ”¹ä¹‹å‰çš„è¦ç´  &#125;) //æ‰§è¡Œåˆ·æ–°æ“ä½œ update.performRedo(); //åˆ·æ–°è§†å›¾ layer.refresh(); alert(&quot;ä¿®æ”¹æˆåŠŸ&quot;); &#125;) &#125; //æ ¹æ®idæŸ¥è¯¢è¦ç´  function searchFeather(id,callback)&#123; //å¾—åˆ°è¦ç´ å›¾å±‚çš„ä¸»é”®å±æ€§ var idProperty = featureLayer.objectIdField; //å®šä¹‰æŸ¥è¯¢å‚æ•° var query = new Query(); //æ˜¯å¦è¿”å›å‡ ä½•å½¢çŠ¶ query.returnGeometry = false; //å›¾å±‚çš„ä¸»é”®åç§°ï¼ˆæ ¹æ®è‡ªå·±è¦æ±‚ä¿®æ”¹ï¼‰ query.objectIds = [id]; //æŸ¥è¯¢æ¡ä»¶1=1æ„æ€æ˜¯ï¼šåªæ ¹æ®ä¸»é”®æŸ¥è¯¢ï¼Œå¿½ç•¥whereå­å¥ query.where = &quot;1=1&quot;; //è¿›è¡ŒæŸ¥è¯¢ featureLayer.selectFeatures(query, FeatureLayer.SELECTION_NEW,function(result)&#123; //å¦‚æœcallbackä¸å­˜åœ¨ï¼Œè¯´æ˜ä»…ä»…æ˜¯æŸ¥è¯¢æ“ä½œ if(!callback)&#123; //å› ä¸ºæˆ‘ä»¬æ ¹æ®ä¸»é”®æŸ¥è¯¢ï¼Œä¸€å®šåªæœ‰ä¸€ä¸ªå…ƒç´  var graphic=result[0]; //è·å¾—å±æ€§ var attributes=graphic.attributes; //å¾—åˆ°è¯¥å±æ€§ä¿¡æ¯è½¬æ¢æˆå­—ç¬¦ä¸² var result=jsonUtil.stringify(attributes) //å°†ç»“æœå¼¹å‡ºä¸€ä¸‹ alert(result); &#125;else//å¦‚æœcallbackå­˜åœ¨ï¼Œè¯´æ˜æ˜¯æ›´æ–°æ“ä½œ &#123; callback(result); &#125; &#125;); &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;MyMapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt;&lt;button class=&quot;btn&quot;&gt;æ·»åŠ è¦ç´ &lt;/button&gt;&lt;button class=&quot;btn&quot;&gt;åˆ é™¤è¦ç´ &lt;/button&gt;&lt;button class=&quot;btn&quot;&gt;ä¿®æ”¹è¦ç´ &lt;/button&gt;&lt;button class=&quot;btn&quot;&gt;æŸ¥è¯¢è¦ç´ &lt;/button&gt;&lt;/body&gt;&lt;/html&gt;","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javacsriptç¼–è¾‘å®¢æˆ·ç«¯å›¾å½¢","slug":"ArcGIS-API-for-JS19","date":"2019-08-06T09:07:56.000Z","updated":"2022-11-02T11:15:20.513Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS19/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS19/","excerpt":"","text":"åœ¨ArcGIS APIå½“ä¸­ï¼Œæä¾›äº†ä¸€ä¸ªå·¥å…·å«åšEditï¼Œæˆ‘ä»¬åˆ©ç”¨Editå¯ä»¥äº¤äº’çš„ç¼–è¾‘å®¢æˆ·ç«¯å›¾å½¢Graphicï¼Œè¿™ä¸ªåŠŸèƒ½åœ¨æˆ‘ä»¬å®é™…å¼€å‘è¿‡ç¨‹ä¸­éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥äº¤äº’ç¼–è¾‘å·²ç»å­˜åœ¨çš„Graphicä»¥è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ï¼ŒEditå·¥å…·å¯ä»¥ä»ä»¥ä¸‹æ–¹é¢ç¼–è¾‘å®¢æˆ·ç«¯å›¾å½¢ï¼š ç§»åŠ¨å®¢æˆ·ç«¯å›¾å½¢ ç¼–è¾‘ç»“ç‚¹ï¼ˆå¢åŠ ç»“ç‚¹ï¼Œåˆ é™¤ç»“ç‚¹ï¼‰ æ‹‰ä¼¸å®¢æˆ·ç«¯å›¾å½¢ï¼ˆæ˜¯å¦ä¿æŒé•¿å®½æ¯”ä¾‹ï¼‰ æ—‹è½¬å®¢æˆ·ç«¯å›¾å½¢ Editå·¥å…·çš„ä½¿ç”¨ä½¿ç”¨Editå·¥å…·å¾ˆç®€å•ï¼Œåªéœ€è¦ä»¥ä¸‹å‡ æ­¥å³å¯ï¼š ç»™åœ°å›¾æ·»åŠ Graphicï¼Œä¸ºäº†ä¸‹é¢Editäº¤äº’æ“ä½œåšå‡†å¤‡ åˆ›å»ºEditå¯¹è±¡ æ¿€æ´»Editå·¥å…·ï¼Œæ­¤æ—¶éœ€è¦åˆ¶å®šEditçš„ä¸€äº›å‚æ•° æ“ä½œå®ŒGraphicå°†Editå·¥å…·å…³é—­ ä»£ç å®ç°æ·»åŠ åœ°å›¾ï¼ˆçœç•¥ï¼‰å®šä¹‰Editå¯¹è±¡ï¼Œå’Œgraphicå¯¹è±¡1234//å£°æ˜ä¸€ä¸ªå®¢æˆ·ç«¯å›¾å½¢ï¼ˆä¸ºäº†ä»¥åçš„ç¼–è¾‘ï¼‰var graphic//å®šä¹‰ä¸€ä¸ªEditå¯¹è±¡var edit = new Edit(map); é¦–å…ˆåˆ›å»ºå‡ ä¸ªæŒ‰é’®ï¼ˆç”¨æˆ·å®ç°ç›¸åº”çš„åŠŸèƒ½ï¼‰12345&lt;input type=&quot;button&quot; id=&quot;add&quot; value=&quot;æ·»åŠ å®¢æˆ·ç«¯å›¾å½¢&quot;&gt;&lt;input type=&quot;button&quot; class=&quot;btn&quot; value=&quot;ç§»åŠ¨å®¢æˆ·ç«¯å›¾å½¢&quot;&gt;&lt;input type=&quot;button&quot; class=&quot;btn&quot; value=&quot;æ‹‰ä¼¸å®¢æˆ·ç«¯å›¾å½¢&quot;&gt;&lt;input type=&quot;button&quot; class=&quot;btn&quot; value=&quot;æ—‹è½¬å®¢æˆ·ç«¯å›¾å½¢&quot;&gt;&lt;input type=&quot;button&quot; class=&quot;btn&quot; value=&quot;ç¼–è¾‘ç»“ç‚¹&quot;&gt; ç»™æ·»åŠ å®¢æˆ·ç«¯å›¾å½¢æŒ‰é’®æ·»åŠ ç»‘å®šäº‹ä»¶123456789101112131415161718192021on(dom.byId(&quot;add&quot;),&quot;click&quot;,function()&#123; //å®šä¹‰çº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //å®šä¹‰é¢ç¬¦å· var fill=SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([255, 0, 0])); //ç‚¹çš„åæ ‡å¯¹ var ring=[]; ring[0]=[ [510275, 3986100], [510508, 3986162], [510596, 3986032], [510271, 3985847], [510275, 3986100] ]; var geometry=new Polygon(&#123; &quot;rings&quot;:ring, &quot;spatialReference&quot;:map.spatialReference &#125;); graphic=new Graphic(geometry,fill); map.graphics.add(graphic); &#125;) ç»™å‰©ä½™å››ä¸ªæŒ‰é’®æ·»åŠ ç»‘å®šäº‹ä»¶123456789101112131415161718192021222324252627282930//ç»™å‰©ä½™å››ä¸ªæŒ‰é’®ç»‘å®šäº‹ä»¶ query(&quot;.btn&quot;).on(&quot;click&quot;,function(event)&#123; var value=event.currentTarget.defaultValue; switch(value)&#123; case &quot;ç§»åŠ¨å®¢æˆ·ç«¯å›¾å½¢&quot;: //æ¿€æ´»Editå·¥å…·ï¼ˆç§»åŠ¨ï¼‰ edit.activate(Edit.MOVE,graphic); break; case &quot;æ‹‰ä¼¸å®¢æˆ·ç«¯å›¾å½¢&quot;: //æ„å»ºEditå‚æ•° æ³¨ï¼šæ‹‰ä¼¸çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šæ˜¯å¦ä¿æŒé•¿å®½æ¯”ä¾‹ var options = &#123; uniformScaling:true &#125;; //æ¿€æ´»Editå·¥å…·ï¼ˆæ‹‰ä¼¸å®¢æˆ·ç«¯å›¾å½¢ï¼‰ edit.activate(Edit.SCALE,graphic,options) break; case &quot;æ—‹è½¬å®¢æˆ·ç«¯å›¾å½¢&quot;: //æ¿€æ´»Editå·¥å…·ï¼ˆæ—‹è½¬å®¢æˆ·ç«¯å›¾å½¢ï¼‰ edit.activate(Edit.ROTATE,graphic) break; case &quot;ç¼–è¾‘ç»“ç‚¹&quot;: //æ„å»ºEditå‚æ•° æ³¨ï¼šç¼–è¾‘æŠ˜ç‚¹çš„æ—¶å€™ï¼Œè¦æŒ‡å®šæ˜¯å¦èƒ½æ·»åŠ æˆ–è€…åˆ é™¤ç»“ç‚¹ã€‚ var options = &#123; allowAddVertices:true,//èƒ½æ·»åŠ ç»“ç‚¹ allowDeleteVertices: true,//èƒ½åˆ é™¤ç»“ç‚¹ &#125;; edit.activate(Edit.EDIT_VERTICES, graphic, options); break; &#125; &#125;) å…³é—­Editå·¥å…·1234//ç”¨å®ŒEditå·¥å…·ï¼Œå°†å·¥å…·å…³é—­ï¼Œç‚¹å‡»åœ°å›¾ï¼ˆæ²¡æœ‰ç‚¹å‡»åˆ°Graphicæ—¶ç»“æŸï¼‰ map.on(&quot;click&quot;, function () &#123; edit.deactivate(); &#125;) ç»“æœ å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Graphic&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style&gt; .MapClass&#123; width:100%; height:500px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script&gt; require([&quot;esri/map&quot;,&quot;dojo/dom&quot;,&quot;dojo/on&quot;,&quot;esri/toolbars/edit&quot;,&quot;esri/geometry/Polygon&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/graphic&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;,&quot;dojo/colors&quot;,&quot;dojo/query&quot;, &quot;dojo/domReady!&quot; ], function ( Map,dom,on, Edit,Polygon, ArcGISDynamicMapServiceLayer, Graphic, SimpleLineSymbol, SimpleFillSymbol,Color,query ) &#123; var map = new Map(&quot;mapDiv&quot;); var url = &quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer&quot;; var layer = new ArcGISDynamicMapServiceLayer(url); map.addLayer(layer); //å®šä¹‰ä¸€ä¸ªEditå¯¹è±¡ var edit = new Edit(map); //å®šä¹‰ä¸€ä¸ªgraphicï¼Œä¸ºäº†åæ¥çš„äº¤äº’ç¼–è¾‘ var graphic; //ç»™`æ·»åŠ å®¢æˆ·ç«¯å›¾å½¢`æŒ‰é’®æ·»åŠ ç»‘å®šäº‹ä»¶ on(dom.byId(&quot;add&quot;),&quot;click&quot;,function()&#123; //å®šä¹‰çº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //å®šä¹‰é¢ç¬¦å· var fill=SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([255, 0, 0])); //ç‚¹çš„åæ ‡å¯¹ var ring=[]; ring[0]=[ [510275, 3986100], [510508, 3986162], [510596, 3986032], [510271, 3985847], [510275, 3986100] ]; var geometry=new Polygon(&#123; &quot;rings&quot;:ring, &quot;spatialReference&quot;:map.spatialReference &#125;); graphic=new Graphic(geometry,fill); map.graphics.add(graphic); &#125;) //ç»™æŒ‰é’®ç»‘å®šäº‹ä»¶ query(&quot;.btn&quot;).on(&quot;click&quot;,function(event)&#123; var value=event.currentTarget.defaultValue; switch(value)&#123; case &quot;ç§»åŠ¨å®¢æˆ·ç«¯å›¾å½¢&quot;: //æ¿€æ´»Editå·¥å…·ï¼ˆç§»åŠ¨ï¼‰ edit.activate(Edit.MOVE,graphic); break; case &quot;æ‹‰ä¼¸å®¢æˆ·ç«¯å›¾å½¢&quot;: //æ„å»ºEditå‚æ•° æ³¨ï¼šæ‹‰ä¼¸çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šæ˜¯å¦ä¿æŒé•¿å®½æ¯”ä¾‹ var options = &#123; uniformScaling:true &#125;; //æ¿€æ´»Editå·¥å…·ï¼ˆæ‹‰ä¼¸å®¢æˆ·ç«¯å›¾å½¢ï¼‰ edit.activate(Edit.SCALE,graphic,options) break; case &quot;æ—‹è½¬å®¢æˆ·ç«¯å›¾å½¢&quot;: //æ¿€æ´»Editå·¥å…·ï¼ˆæ—‹è½¬å®¢æˆ·ç«¯å›¾å½¢ï¼‰ edit.activate(Edit.ROTATE,graphic) break; case &quot;ç¼–è¾‘ç»“ç‚¹&quot;: //æ„å»ºEditå‚æ•° æ³¨ï¼šç¼–è¾‘æŠ˜ç‚¹çš„æ—¶å€™ï¼Œè¦æŒ‡å®šæ˜¯å¦èƒ½æ·»åŠ æˆ–è€…åˆ é™¤ç»“ç‚¹ã€‚ var options = &#123; allowAddVertices:true,//èƒ½æ·»åŠ ç»“ç‚¹ allowDeleteVertices: true,//èƒ½åˆ é™¤ç»“ç‚¹ &#125;; edit.activate(Edit.EDIT_VERTICES, graphic, options); break; &#125; &#125;) //ç”¨å®ŒEditå·¥å…·ï¼Œå°†å·¥å…·å…³é—­ï¼Œç‚¹å‡»åœ°å›¾ï¼ˆæ²¡æœ‰ç‚¹å‡»åˆ°Graphicæ—¶ç»“æŸï¼‰ map.on(&quot;click&quot;, function () &#123; edit.deactivate(); &#125;) &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;input type=&quot;button&quot; id=&quot;add&quot; value=&quot;æ·»åŠ å®¢æˆ·ç«¯å›¾å½¢&quot;&gt; &lt;input type=&quot;button&quot; class=&quot;btn&quot; value=&quot;ç§»åŠ¨å®¢æˆ·ç«¯å›¾å½¢&quot;&gt; &lt;input type=&quot;button&quot; class=&quot;btn&quot; value=&quot;æ‹‰ä¼¸å®¢æˆ·ç«¯å›¾å½¢&quot;&gt; &lt;input type=&quot;button&quot; class=&quot;btn&quot; value=&quot;æ—‹è½¬å®¢æˆ·ç«¯å›¾å½¢&quot;&gt; &lt;input type=&quot;button&quot; class=&quot;btn&quot; value=&quot;ç¼–è¾‘ç»“ç‚¹&quot;&gt;&lt;/body&gt;&lt;/html&gt;","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javascriptä¹‹åŠ¨æ€å›¾å±‚","slug":"ArcGIS-API-for-JS18","date":"2019-08-06T08:42:34.000Z","updated":"2022-11-02T11:15:20.503Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS18/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS18/","excerpt":"","text":"åŠ¨æ€å›¾å±‚ä¸»è¦ç‰¹ç‚¹ï¼š æ”¹å˜åœ°å›¾æœåŠ¡çš„ç°æœ‰å›¾å±‚ åŠ¨æ€å›¾å±‚é€‚ç”¨äºæµ·é‡å›¾å±‚çš„æƒ…å†µ ä¸éœ€è¦å°†shpæ–‡ä»¶å‘å¸ƒä¸ºæœåŠ¡ï¼ŒæœåŠ¡å™¨å¯ä»¥ç›´æ¥è¯»å–shpæ–‡ä»¶åœ¨å‰ç«¯æ˜¾ç¤º è°ƒç”¨åŠ¨æ€å›¾å±‚åœ¨å‰é¢å·²ç»è¯´è¿‡åŠ¨æ€å›¾å±‚å¹¶ä¸æ˜¯ä¸€ç§æ–°çš„æœåŠ¡ç±»å‹ï¼Œè€Œæ˜¯åœ°å›¾æœåŠ¡çš„ä¸€ç§æ‰©å±•ï¼Œå› æ­¤æˆ‘ä»¬ä¸éœ€è¦å‘å¸ƒæœåŠ¡ï¼Œåªéœ€è¦å¯¹åœ°å›¾æœåŠ¡æ·»åŠ åŠ¨æ€å›¾å±‚åŠŸèƒ½å³å¯ã€‚å¯ç”¨åœ°å›¾æœåŠ¡çš„æ­¥éª¤ä¸ºï¼š ç»™ç›¸åº”çš„åœ°å›¾æœåŠ¡å¯ç”¨åŠ¨æ€å·¥ä½œç©ºé—´ é€‰æ‹©æœåŠ¡å™¨ç›¸åº”çš„ç¡¬ç›˜åœ°å€å¹¶èµ‹äºˆå…¶id å°†ç›¸åº”ä½ç½®æ³¨å†Œåˆ°ArcGIS ServeræœåŠ¡å™¨ï¼ˆä¿è¯ArcGIS Serverå¯ä»¥è®¿é—®æ•°æ®ï¼‰ åœ¨Webç«¯è¿›è¡Œè°ƒç”¨ å¯ç”¨åŠ¨æ€å›¾å±‚æˆ‘ä»¬æ‰“å¼€Manager-&gt;ç™»å½•ï¼Œæ‰¾åˆ°è¯¥æœåŠ¡ï¼Œç‚¹å‡»åŠŸèƒ½ï¼Œé€‰æ‹©å…è®¸æ¯æ¬¡è¯·æ±‚ä¿®æ”¹å›¾å±‚é¡ºåºå’Œç¬¦å·-&gt;æ·»åŠ ç¡¬ç›˜ä¸Šçš„æ•°æ®æ³¨:D:\\myshpæ–‡ä»¶å¤¹ä¸‹é¢æœ‰ä¸€ä¸ªshpæ–‡ä»¶ï¼šlunkuoxian.shpå› æ­¤æˆ‘ä»¬é€‰æ‹©å·¥ä½œç©ºé—´ç±»å‹ä¸ºï¼šshpfileæ–‡ä»¶å¤¹ï¼Œå·¥ä½œç©ºé—´idåœ¨æ­¤å¤„å–åä¸ºmyï¼Œç¡¬ç›˜è·¯å¾„ï¼šDï¼š\\myshpç‚¹å‡»ç¡®å®šï¼Œé‡æ–°å¯åŠ¨æœåŠ¡æ³¨å†Œæ–‡ä»¶å¤¹åˆ°æœåŠ¡å™¨ç‚¹å‡»ç«™ç‚¹-&gt;æ•°æ®å­˜å‚¨-&gt;æ³¨å†Œæ–‡ä»¶å¤¹ï¼ˆå› ä¸ºæˆ‘ä»¬æ˜¯æ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥æ˜¯æ³¨å†Œæ–‡ä»¶å¤¹ï¼Œå¦‚æœæ˜¯æ•°æ®åº“ï¼Œé‚£ä¹ˆå°±è¦æ³¨å†Œæ•°æ®åº“ï¼‰åœ¨Services Directory æŸ¥çœ‹åŠ¨æ€å›¾å±‚æ˜¯å¦å¯ç”¨ Webç«¯è°ƒç”¨ä»£ç å®ç°é¦–å…ˆæˆ‘ä»¬åŠ è½½åœ°å›¾12345678910111213141516require([&quot;esri/map&quot;, &quot;dojo/dom&quot;, &quot;dojo/on&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/layers/FeatureLayer&quot;, &quot;esri/layers/TableDataSource&quot;, &quot;esri/layers/LayerDataSource&quot;, &quot;esri/renderers/SimpleRenderer&quot;, &quot;esri/symbols/SimpleMarkerSymbol&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;dojo/domReady!&quot;], function ( Map,dom,on, ArcGISDynamicMapServiceLayer, FeatureLayer, TableDataSource, LayerDataSource, SimpleRenderer, SimpleMarkerSymbol,SimpleLineSymbol) &#123; var map = new Map(&quot;mapDiv&quot;); var layer1 = new ArcGISDynamicMapServiceLayer(&quot;http://localhost:6080/arcgis/rest/services//Test/MyService/MapServer&quot;); map.addLayer(layer1); &#125;); æ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼ˆç”¨äºæ·»åŠ åŠ¨æ€å›¾å±‚ï¼‰1&lt;button id=&quot;btn&quot;&gt;æ·»åŠ åŠ¨æ€å›¾å±‚&lt;/button&gt; ç»™æŒ‰é’®æ·»åŠ äº‹ä»¶1234567891011121314151617181920212223242526on(dom.byId(&quot;btn&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰ä¸€ä¸ªæ•°æ®æº var dataSource = new TableDataSource(); //æ­¤å¤„ä¸ºæˆ‘ä»¬è®¾ç½®çš„å‘½åç©ºé—´ dataSource.workspaceId = &quot;my&quot;; //å‘½åç©ºé—´ä¸‹é¢çš„shp dataSource.dataSourceName = &quot;lunkuoxian.shp&quot;; //å®šä¹‰ä¸€ä¸ªå›¾å±‚æ•°æ®æº var layerSource = new LayerDataSource(); //ç»™å›¾å±‚æ•°æ®æºèµ‹å€¼ layerSource.dataSource = dataSource; //å®šä¹‰ä¸€ä¸ªè¦ç´ å›¾å±‚:æ³¨æ„é“¾æ¥ä¸ºåŠ¨æ€å›¾å±‚çš„åœ°å€ var layer2 = new FeatureLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer/dynamicLayer&quot;, &#123; mode: FeatureLayer.MODE_ONDEMAND, outFields: [&quot;*&quot;], source: layerSource &#125;); //å®šä¹‰çº¿ç¬¦å· var lineSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); //å®šä¹‰æ¸²æŸ“å™¨ var renderer = new esri.renderer.SimpleRenderer(lineSymbol); //å®šä¹‰æ¸²æŸ“å™¨ layer2.setRenderer(renderer); layer2.refresh(); map.addLayer(layer2); &#125;) å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head lang=&quot;en&quot;&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;dojo/dom&quot;, &quot;dojo/on&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/layers/FeatureLayer&quot;, &quot;esri/layers/TableDataSource&quot;, &quot;esri/layers/LayerDataSource&quot;, &quot;esri/renderers/SimpleRenderer&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;dojo/domReady!&quot;], function ( Map,dom,on, ArcGISDynamicMapServiceLayer, FeatureLayer, TableDataSource, LayerDataSource, SimpleRenderer,SimpleLineSymbol) &#123; var map = new Map(&quot;mapDiv&quot;); var layer1 = new ArcGISDynamicMapServiceLayer(&quot;http://localhost:6080/arcgis/rest/services//Test/MyService/MapServer&quot;); map.addLayer(layer1); on(dom.byId(&quot;btn&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰ä¸€ä¸ªæ•°æ®æº var dataSource = new TableDataSource(); //æ­¤å¤„ä¸ºæˆ‘ä»¬è®¾ç½®çš„å‘½åç©ºé—´ dataSource.workspaceId = &quot;my&quot;; //å‘½åç©ºé—´ä¸‹é¢çš„shp dataSource.dataSourceName = &quot;lunkuoxian.shp&quot;; //å®šä¹‰ä¸€ä¸ªå›¾å±‚æ•°æ®æº var layerSource = new LayerDataSource(); //ç»™å›¾å±‚æ•°æ®æºèµ‹å€¼ layerSource.dataSource = dataSource; //å®šä¹‰ä¸€ä¸ªè¦ç´ å›¾å±‚:æ³¨æ„é“¾æ¥ä¸ºåŠ¨æ€å›¾å±‚çš„åœ°å€ var layer2 = new FeatureLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer/dynamicLayer&quot;, &#123; mode: FeatureLayer.MODE_ONDEMAND, outFields: [&quot;*&quot;], source: layerSource &#125;); //å®šä¹‰çº¿ç¬¦å· var lineSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); //å®šä¹‰æ¸²æŸ“å™¨ var renderer = new esri.renderer.SimpleRenderer(lineSymbol); //å®šä¹‰æ¸²æŸ“å™¨ layer2.setRenderer(renderer); layer2.refresh(); map.addLayer(layer2); &#125;) &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;mapDiv&quot; style=&quot;height:600px;&quot;&gt;&lt;/div&gt;&lt;button id=&quot;btn&quot;&gt;æ·»åŠ åŠ¨æ€å›¾å±‚&lt;/button&gt;&lt;/body&gt;&lt;/html&gt; è¿è¡Œç»“æœä¹‹åï¼š åŠ¨æ€å›¾å±‚çš„å±æ€§æŸ¥è¯¢åœ¨çœŸå®éœ€æ±‚ä¸­,æˆ‘ä»¬ä¸ä»…ä»…æ˜¯å°†shpåœ¨åœ°å›¾ä¸­æ˜¾ç¤ºé‚£ä¹ˆç®€å•ï¼Œæˆ‘ä»¬å¾€å¾€è¦æŸ¥è¯¢è¯¥å›¾å±‚çš„å±æ€§ä¿¡æ¯,æˆ‘ä»¬åœ¨å‰é¢ä»£ç çš„åŸºç¡€ä¸Šæ·»åŠ ä¸Šå±æ€§æŸ¥è¯¢ã€‚ æ–¹æ³•1ï¼ˆé€šè¿‡clickç›´æ¥è·å–ï¼‰ä»£ç å®ç°ç»™è¦ç´ å›¾å±‚æ·»åŠ ç‚¹å‡»äº‹ä»¶123456789101112layer2.on(&quot;click&quot;, function(evt) &#123; //å¾—åˆ°ç‚¹å‡»çš„graphics var graphic=evt.graphic; //å¾—åˆ°è¯¥å±æ€§ä¿¡æ¯ var attributes=graphic.attributes; //å¾—åˆ°è¯¥å±æ€§ä¿¡æ¯è½¬æ¢æˆå­—ç¬¦ä¸² var result=jsonUtil.stringify(attributes) //å°†ç»“æœå¼¹å‡ºä¸€ä¸‹ alert(result); //è·å¾—è¦ç´ å›¾å±‚çš„ä¸»é”®åç§° &#125;) å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head lang=&quot;en&quot;&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;dojo/dom&quot;, &quot;dojo/on&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/layers/FeatureLayer&quot;, &quot;esri/layers/TableDataSource&quot;, &quot;esri/layers/LayerDataSource&quot;, &quot;esri/renderers/SimpleRenderer&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;,&quot;dojo/json&quot;, &quot;dojo/domReady!&quot;], function ( Map,dom,on, ArcGISDynamicMapServiceLayer, FeatureLayer, TableDataSource, LayerDataSource, SimpleRenderer,SimpleLineSymbol,jsonUtil) &#123; var map = new Map(&quot;mapDiv&quot;); var layer1 = new ArcGISDynamicMapServiceLayer(&quot;http://localhost:6080/arcgis/rest/services//Test/MyService/MapServer&quot;); map.addLayer(layer1); on(dom.byId(&quot;btn&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰ä¸€ä¸ªæ•°æ®æº var dataSource = new TableDataSource(); //æ­¤å¤„ä¸ºæˆ‘ä»¬è®¾ç½®çš„å‘½åç©ºé—´ dataSource.workspaceId = &quot;my&quot;; //å‘½åç©ºé—´ä¸‹é¢çš„shp dataSource.dataSourceName = &quot;lunkuoxian.shp&quot;; //å®šä¹‰ä¸€ä¸ªå›¾å±‚æ•°æ®æº var layerSource = new LayerDataSource(); //ç»™å›¾å±‚æ•°æ®æºèµ‹å€¼ layerSource.dataSource = dataSource; //å®šä¹‰ä¸€ä¸ªè¦ç´ å›¾å±‚:æ³¨æ„é“¾æ¥ä¸ºåŠ¨æ€å›¾å±‚çš„åœ°å€ var layer2 = new FeatureLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer/dynamicLayer&quot;, &#123; mode: FeatureLayer.MODE_ONDEMAND, outFields: [&quot;*&quot;], source: layerSource &#125;); //å®šä¹‰çº¿ç¬¦å· var lineSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); //å®šä¹‰æ¸²æŸ“å™¨ var renderer = new esri.renderer.SimpleRenderer(lineSymbol); //å®šä¹‰æ¸²æŸ“å™¨ layer2.setRenderer(renderer); layer2.refresh(); map.addLayer(layer2); layer2.on(&quot;click&quot;, function(evt) &#123; //å¾—åˆ°ç‚¹å‡»çš„graphics var graphic=evt.graphic; //å¾—åˆ°è¯¥å±æ€§ä¿¡æ¯ var attributes=graphic.attributes; //å¾—åˆ°è¯¥å±æ€§ä¿¡æ¯è½¬æ¢æˆå­—ç¬¦ä¸² var result=jsonUtil.stringify(attributes) //å°†ç»“æœå¼¹å‡ºä¸€ä¸‹ alert(result); //è·å¾—è¦ç´ å›¾å±‚çš„ä¸»é”®åç§° &#125;) &#125;) &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;mapDiv&quot; style=&quot;height:600px;&quot;&gt;&lt;/div&gt;&lt;button id=&quot;btn&quot;&gt;æ·»åŠ åŠ¨æ€å›¾å±‚&lt;/button&gt;&lt;/body&gt;&lt;/html&gt; è¿è¡Œç»“æœ: é€šè¿‡æŸ¥è¯¢è·å¾—å±æ€§ä»£ç å®ç°å®šä¹‰ä¸€ä¸ªæŒ‰é’®ï¼ˆç”¨æˆ·è·å¾—å±æ€§ï¼‰1&lt;button id=&quot;attr&quot;&gt;ç”¨æˆ·å¼¹å‡ºå±æ€§&lt;/button&gt; ç»™ç›¸åº”çš„æŒ‰é’®ç»‘å®šäº‹ä»¶123456789101112131415161718192021222324on(dom.byId(&quot;attr&quot;),&quot;click&quot;,function()&#123; //å¾—åˆ°è¦ç´ å›¾å±‚çš„ä¸»é”®å±æ€§ var idProperty = layer2.objectIdField; //å®šä¹‰æŸ¥è¯¢å‚æ•° var query = new Query(); //æ˜¯å¦è¿”å›å‡ ä½•å½¢çŠ¶ query.returnGeometry = false; //å›¾å±‚çš„ä¸»é”®åç§°ï¼ˆæ ¹æ®è‡ªå·±è¦æ±‚ä¿®æ”¹ï¼‰ query.objectIds = [247]; //æŸ¥è¯¢æ¡ä»¶1=1æ„æ€æ˜¯ï¼šåªæ ¹æ®ä¸»é”®æŸ¥è¯¢ï¼Œå¿½ç•¥whereå­å¥ query.where = &quot;1=1&quot;; //è¿›è¡ŒæŸ¥è¯¢ layer2.selectFeatures(query, FeatureLayer.SELECTION_NEW,function(result)&#123; //å› ä¸ºæˆ‘ä»¬æ ¹æ®ä¸»é”®æŸ¥è¯¢ï¼Œä¸€å®šåªæœ‰ä¸€ä¸ªå…ƒç´  var graphic=result[0]; //è·å¾—å±æ€§ var attributes=graphic.attributes; //å¾—åˆ°è¯¥å±æ€§ä¿¡æ¯è½¬æ¢æˆå­—ç¬¦ä¸² var result=jsonUtil.stringify(attributes) //å°†ç»“æœå¼¹å‡ºä¸€ä¸‹ alert(result); &#125;); &#125;) å…¨éƒ¨ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head lang=&quot;en&quot;&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;dojo/dom&quot;, &quot;dojo/on&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/layers/FeatureLayer&quot;, &quot;esri/layers/TableDataSource&quot;, &quot;esri/layers/LayerDataSource&quot;, &quot;esri/renderers/SimpleRenderer&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;,&quot;dojo/json&quot;,&quot;esri/tasks/query&quot;, &quot;dojo/domReady!&quot;], function ( Map,dom,on, ArcGISDynamicMapServiceLayer, FeatureLayer, TableDataSource, LayerDataSource, SimpleRenderer,SimpleLineSymbol,jsonUtil,Query) &#123; var map = new Map(&quot;mapDiv&quot;); var layer1 = new ArcGISDynamicMapServiceLayer(&quot;http://localhost:6080/arcgis/rest/services//Test/MyService/MapServer&quot;); map.addLayer(layer1); on(dom.byId(&quot;btn&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰ä¸€ä¸ªæ•°æ®æº var dataSource = new TableDataSource(); //æ­¤å¤„ä¸ºæˆ‘ä»¬è®¾ç½®çš„å‘½åç©ºé—´ dataSource.workspaceId = &quot;my&quot;; //å‘½åç©ºé—´ä¸‹é¢çš„shp dataSource.dataSourceName = &quot;lunkuoxian.shp&quot;; //å®šä¹‰ä¸€ä¸ªå›¾å±‚æ•°æ®æº var layerSource = new LayerDataSource(); //ç»™å›¾å±‚æ•°æ®æºèµ‹å€¼ layerSource.dataSource = dataSource; //å®šä¹‰ä¸€ä¸ªè¦ç´ å›¾å±‚:æ³¨æ„é“¾æ¥ä¸ºåŠ¨æ€å›¾å±‚çš„åœ°å€ var layer2 = new FeatureLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer/dynamicLayer&quot;, &#123; mode: FeatureLayer.MODE_ONDEMAND, outFields: [&quot;*&quot;], source: layerSource &#125;); //å®šä¹‰çº¿ç¬¦å· var lineSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); //å®šä¹‰æ¸²æŸ“å™¨ var renderer = new esri.renderer.SimpleRenderer(lineSymbol); //å®šä¹‰æ¸²æŸ“å™¨ layer2.setRenderer(renderer); layer2.refresh(); map.addLayer(layer2); on(dom.byId(&quot;attr&quot;),&quot;click&quot;,function()&#123; //å¾—åˆ°è¦ç´ å›¾å±‚çš„ä¸»é”®å±æ€§ var idProperty = layer2.objectIdField; //å®šä¹‰æŸ¥è¯¢å‚æ•° var query = new Query(); //æ˜¯å¦è¿”å›å‡ ä½•å½¢çŠ¶ query.returnGeometry = false; //å›¾å±‚çš„ä¸»é”®åç§°ï¼ˆæ ¹æ®è‡ªå·±è¦æ±‚ä¿®æ”¹ï¼‰ query.objectIds = [247]; //æŸ¥è¯¢æ¡ä»¶1=1æ„æ€æ˜¯ï¼šåªæ ¹æ®ä¸»é”®æŸ¥è¯¢ï¼Œå¿½ç•¥whereå­å¥ query.where = &quot;1=1&quot;; //è¿›è¡ŒæŸ¥è¯¢ layer2.selectFeatures(query, FeatureLayer.SELECTION_NEW,function(result)&#123; //å› ä¸ºæˆ‘ä»¬æ ¹æ®ä¸»é”®æŸ¥è¯¢ï¼Œä¸€å®šåªæœ‰ä¸€ä¸ªå…ƒç´  var graphic=result[0]; //è·å¾—å±æ€§ var attributes=graphic.attributes; //å¾—åˆ°è¯¥å±æ€§ä¿¡æ¯è½¬æ¢æˆå­—ç¬¦ä¸² var result=jsonUtil.stringify(attributes) //å°†ç»“æœå¼¹å‡ºä¸€ä¸‹ alert(result); &#125;); &#125;) &#125;) &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;mapDiv&quot; style=&quot;height:600px;&quot;&gt;&lt;/div&gt;&lt;button id=&quot;btn&quot;&gt;æ·»åŠ åŠ¨æ€å›¾å±‚&lt;/button&gt;&lt;button id=&quot;attr&quot;&gt;ç”¨æˆ·å¼¹å‡ºå±æ€§&lt;/button&gt;&lt;/body&gt;&lt;/html&gt; è¡¥å……å¯ç”¨æ–‡ä»¶åœ°ç†æ•°æ®åº“ä¸‰ç‚¹ä¸åŒæ–‡ä»¶çš„ç›®å½•å‘½åç©ºé—´é…ç½®æ³¨å†Œæ–‡ä»¶å¤¹é…ç½®ä»£ç è°ƒç”¨å·®åˆ«æ³¨æ„ï¼šå¿½ç•¥äº†è¦ç´ é›†çš„å­˜åœ¨ï¼Œå³è°ƒç”¨æ˜¯lunkuoxianï¼Œè€Œä¸æ˜¯vector.lunkuoxianï¼Œè°ƒç”¨çš„æ—¶å€™åé¢æ²¡æœ‰*.shp","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javascriptè°ƒç”¨ç»“æœåœ°å›¾æœåŠ¡","slug":"ArcGIS-API-for-JS17","date":"2019-08-06T08:07:59.000Z","updated":"2022-11-02T11:15:20.500Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS17/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS17/","excerpt":"","text":"ç»“æœåœ°å›¾æœåŠ¡ä¹Ÿæ˜¯GPæœåŠ¡çš„ä¸€ç§ï¼Œå½“GPæœåŠ¡çš„ç»“æœè¿”å›æ …æ ¼æ•°æ®æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€ä½¿ç”¨ç»“æœåœ°å›¾æœåŠ¡æ¥å¯¹ç”Ÿæˆçš„æ …æ ¼æ•°æ®è¿›è¡Œæ¸²æŸ“ï¼Œæœ¬å®ä¾‹æ˜¯ï¼šå…‹é‡Œé‡‘å·®å€¼ ArcGIS APIè°ƒç”¨ç»“æœåœ°å›¾æœåŠ¡é¦–å…ˆæˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹æœåŠ¡çš„å®šä¹‰ï¼š ####ä»£ç å®ç°åœ¨é¡µé¢æ·»åŠ åœ°å›¾ï¼ˆç•¥ï¼‰åˆ›å»ºä¸¤ä¸ªæŒ‰é’®ï¼ˆä¸€ä¸ªæ˜¯ç”»ç‚¹ï¼Œä¸€ä¸ªæ˜¯è¿›è¡Œæ’å€¼è¿ç®—ï¼‰12&lt;input id=&quot;Btn&quot; type=&quot;button&quot; value=&quot;ç”»ç‚¹&quot; /&gt;&lt;input id=&quot;king&quot; type=&quot;button&quot; value=&quot;æ’å€¼åˆ†æ&quot; /&gt; å®šä¹‰ç‚¹é›†åˆå¯¹è±¡1234567//å®šä¹‰ç‚¹é›†åˆvar pointSet = new FeatureSet();//å®šä¹‰ç‚¹ç¬¦å·var psymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CROSS, 12,new SimpleLineSymbol(SimpleLineSymbol.STYLE_SOLID,new dojo.Color([255, 0, 0]), 2),new dojo.Color([0, 255, 0, 0.25])); ç»™ç”»ç‚¹çš„æŒ‰é’®ç»‘å®šäº‹ä»¶1234567891011121314151617181920//ç»‘å®šç”»ç‚¹çš„äº‹ä»¶on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰ç»˜å›¾å·¥å…· var toolBar = new Draw(MyMap, &#123; showTooltips: true &#125;); //æ¿€æ´»ç»˜å›¾å·¥å…· toolBar.activate(Draw.POINT); //å®šä¹‰ä¸€ä¸ªiï¼Œä¸ºäº†ç»™graphicèµ‹äºˆå±æ€§ï¼Œä¸ºå·®å€¼åšå‡†å¤‡ã€‚ var i=20; //ç»™ç»˜å›¾å·¥å…·ç»‘å®šç»˜å›¾å®Œæˆäº‹ä»¶ on(toolBar, &quot;draw-complete&quot;, function(result)&#123; //ä¿è¯æ¯ä¸€æ¬¡içš„å€¼éƒ½ä¸ä¸€æ ·ï¼Œå¦‚æœæ‰€æœ‰ç‚¹çš„å±æ€§éƒ½ä¸€æ ·ï¼Œæ˜¯ä¸å¯ä»¥å·®å€¼çš„ã€‚ i=i+40; //è·å¾—å‡ ä½•å½¢çŠ¶ var geometry = result.geometry; //ç»™å›¾å½¢ä¸€ä¸ªmå±æ€§ï¼Œæˆ‘ä»¬åé¢å¯¹mè¿›è¡Œå·®å€¼ var graphicpoint = new Graphic(geometry, psymbol,&#123;&quot;m&quot;:i&#125;); pointSet.features.push(graphicpoint); MyMap.graphics.add(graphicpoint); &#125;); &#125;); ç»™æ’å€¼æŒ‰é’®ç»‘å®šäº‹ä»¶12345678910111213141516171819//å£°æ˜gpå¯¹è±¡var gp;on(dom.byId(&quot;king&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰gpæœåŠ¡å¯¹è±¡ gp= new Geoprocessor(&quot;http://localhost:6080/arcgis/rest/services/Test/myKing/GPServer/king&quot;); //å®šä¹‰GPæœåŠ¡å‚æ•°å¯¹è±¡ var gpParams=&#123;&#125;; //æ·»åŠ ç‚¹é›†åˆçš„å­—æ®µä¿¡æ¯ pointSet.fields=[&#123; &quot;name&quot;:&quot;m&quot;, &quot;type&quot;:&quot;esriFieldTypeSmallInteger&quot;, &quot;alias&quot;:&quot;m&quot; &#125;]; //æ·»åŠ Inputå‚æ•° gpParams.Input=pointSet; //æ·»åŠ Zå±æ€§ï¼šå³å·®å€¼çš„å±æ€§ gpParams.Z=&quot;m&quot;; gp.submitJob(gpParams,completeCallback);&#125;) å›æ‰å‡½æ•°å¤„ç†ç»“æœ12345678910function completeCallback(jobInfo) &#123; gp.on(&quot;get-result-image-layer-complete&quot;,function(gpLayer)&#123; MyMap.addLayer(gpLayer[&quot;layer&quot;]) &#125;) gp.getResultImageLayer(jobInfo.jobId,&quot;out&quot;); &#125; å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;GP&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:600px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt; require([&quot;esri/map&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/dom&quot;, &quot;esri/tasks/Geoprocessor&quot;, &quot;esri/tasks/FeatureSet&quot;, &quot;esri/symbols/SimpleMarkerSymbol&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/toolbars/draw&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;dojo/on&quot;,&quot;esri/graphic&quot;, &quot;esri/layers/ImageParameters&quot;, &quot;dojo/domReady!&quot;], function (Map, ArcGISDynamicMapServiceLayer, dom, Geoprocessor, FeatureSet, SimpleMarkerSymbol, SimpleLineSymbol, Draw, SimpleFillSymbol,on,Graphic,ImageParameters) &#123; var MyMap = new Map(&quot;MyMapDiv&quot;); var layer = new ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer&quot;); MyMap.addLayer(layer) //å®šä¹‰ç‚¹é›†åˆå¯¹è±¡ var pointSet = new FeatureSet(); //å®šä¹‰ç‚¹ç¬¦å· var psymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CROSS, 12, new SimpleLineSymbol(SimpleLineSymbol.STYLE_SOLID, new dojo.Color([255, 0, 0]), 2), new dojo.Color([0, 255, 0, 0.25])); //ç»‘å®šç”»ç‚¹çš„äº‹ä»¶ on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰ç»˜å›¾å·¥å…· var toolBar = new Draw(MyMap, &#123; showTooltips: true &#125;); //æ¿€æ´»ç»˜å›¾å·¥å…· toolBar.activate(Draw.POINT); //å®šä¹‰ä¸€ä¸ªiï¼Œä¸ºäº†ç»™graphicèµ‹äºˆå±æ€§ï¼Œä¸ºå·®å€¼åšå‡†å¤‡ã€‚ var i=20; //ç»™ç»˜å›¾å·¥å…·ç»‘å®šç»˜å›¾å®Œæˆäº‹ä»¶ on(toolBar, &quot;draw-complete&quot;, function(result)&#123; //ä¿è¯æ¯ä¸€æ¬¡içš„å€¼éƒ½ä¸ä¸€æ ·ï¼Œå¦‚æœæ‰€æœ‰ç‚¹çš„å±æ€§éƒ½ä¸€æ ·ï¼Œæ˜¯ä¸å¯ä»¥å·®å€¼çš„ã€‚ i=i+40; //è·å¾—å‡ ä½•å½¢çŠ¶ var geometry = result.geometry; //ç»™å›¾å½¢ä¸€ä¸ªmå±æ€§ï¼Œæˆ‘ä»¬åé¢å¯¹mè¿›è¡Œå·®å€¼ var graphicpoint = new Graphic(geometry, psymbol,&#123;&quot;m&quot;:i&#125;); pointSet.features.push(graphicpoint); MyMap.graphics.add(graphicpoint); &#125;); &#125;); var gp; on(dom.byId(&quot;king&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰gpæœåŠ¡å¯¹è±¡ gp= new Geoprocessor(&quot;http://localhost:6080/arcgis/rest/services/Test/myKing/GPServer/king&quot;); //å®šä¹‰GPæœåŠ¡å‚æ•°å¯¹è±¡ var gpParams=&#123;&#125;; //æ·»åŠ ç‚¹é›†åˆçš„å­—æ®µä¿¡æ¯ pointSet.fields=[&#123; &quot;name&quot;:&quot;m&quot;, &quot;type&quot;:&quot;esriFieldTypeSmallInteger&quot;, &quot;alias&quot;:&quot;m&quot; &#125;]; //æ·»åŠ Inputå‚æ•° gpParams.Input=pointSet; //æ·»åŠ Zå±æ€§ï¼šå³å·®å€¼çš„å±æ€§ gpParams.Z=&quot;m&quot;; //æ‰§è¡ŒgpæœåŠ¡ï¼Œæ³¨æ„è¿™é‡Œæ˜¯æ‰§è¡ŒsubmitJobï¼Œå› ä¸ºæ˜¯åŒæ­¥çš„gpæœåŠ¡ gp.submitJob(gpParams,completeCallback); &#125;) function completeCallback(jobInfo) &#123; //ç»™gpæœåŠ¡ç»‘å®šè·å¾—å›¾å±‚äº‹ä»¶ gp.on(&quot;get-result-image-layer-complete&quot;,function(gpLayer)&#123; //å°†å›¾å±‚æ·»åŠ åˆ°åœ°å›¾ä¸­ MyMap.addLayer(gpLayer[&quot;layer&quot;]) &#125;) //æ³¨æ„outæ˜¯æœåŠ¡å®šä¹‰çš„å‚æ•° gp.getResultImageLayer(jobInfo.jobId,&quot;out&quot;); &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;MyMapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;input id=&quot;Btn&quot; type=&quot;button&quot; value=&quot;ç”»ç‚¹&quot; /&gt; &lt;input id=&quot;king&quot; type=&quot;button&quot; value=&quot;æ’å€¼åˆ†æ&quot; /&gt;&lt;/body&gt;&lt;/html&gt;","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javascriptè°ƒç”¨GPæœåŠ¡","slug":"ArcGIS-API-for-JS16","date":"2019-08-06T07:59:51.000Z","updated":"2022-11-02T11:15:20.497Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS16/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS16/","excerpt":"","text":"ArcGIS APIä¸­å…³äºGPæœåŠ¡çš„è°ƒç”¨æ˜¯æ¯”è¾ƒå®¹æ˜“å‡ºé”™çš„ï¼Œå‡ºé”™çš„å¤§éƒ¨åˆ†åŸå› ä¾¿æ˜¯Web APIè°ƒç”¨GPæœåŠ¡çš„æ—¶å€™å‚æ•°ä¸å¯¹åº”å¯¼è‡´çš„ ArcGIS APIè°ƒç”¨GPæœåŠ¡ç„¶åæ¥ä¸‹æ¥æˆ‘ä»¬å°†åœ¨Webä¸­è°ƒç”¨æˆ‘ä»¬çš„GPæœåŠ¡ ä»£ç å®ç°åœ¨é¡µé¢åŠ å…¥åœ°å›¾ï¼ˆç•¥ï¼‰åœ¨é¡µé¢æ·»åŠ ä¸¤ä¸ªæŒ‰é’®ï¼ˆç¬¬ä¸€ä¸ªæŒ‰é’®ç”¨äºç”»ç‚¹ï¼Œç¬¬äºŒä¸ªæŒ‰é’®ç”¨äºç¼“å†²åŒºåˆ†æï¼‰12&lt;input id=&quot;Btn&quot; type=&quot;button&quot; value=&quot;ç”»ç‚¹&quot; /&gt;&lt;input id=&quot;buffer&quot; type=&quot;button&quot; value=&quot;ç¼“å†²åŒºåˆ†æ&quot; /&gt; å®šä¹‰ä¸€ä¸ªç‚¹å‡ ä½•å¯¹è±¡ï¼ˆä¸æœåŠ¡å®šä¹‰çš„ç±»å‹å¯¹åº”ï¼‰12//å®šä¹‰ç‚¹å‡ ä½•å¯¹è±¡var pointSet = new FeatureSet(); å®šä¹‰ç‚¹ç¬¦å·å¯¹è±¡1234var psymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CROSS, 12,new SimpleLineSymbol(SimpleLineSymbol.STYLE_SOLID,new dojo.Color([255, 0, 0]), 2),new dojo.Color([0, 255, 0, 0.25])); ç»™ç”»ç‚¹æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶1234567891011121314151617on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰ç»˜å›¾å¯¹è±¡ var toolBar= new Draw(MyMap, &#123; showTooltips: true &#125;); //æ¿€æ´»ç»˜å›¾å¯¹è±¡ toolBar.activate(Draw.POINT); on(toolBar, &quot;draw-complete&quot;, function(result)&#123; //è·å¾—ç»˜å›¾ç»“æŸçš„ç‚¹å¯¹è±¡ var geometry = result.geometry; //æ ¹æ®ç‚¹å¯¹è±¡ç”Ÿæˆç›¸åº”çš„å›¾å½¢ var graphic = new Graphic(geometry, psymbol); //å°†ç‚¹å¯¹è±¡å­˜å‚¨åœ¨ç‚¹å‡ ä½•ä¸­ pointSet.features.push(graphic); //å°†å›¾å½¢å­˜æ”¾åœ¨åœ°å›¾ä¸­ï¼Œç„¶åå¾—ä»¥æ˜¾ç¤º MyMap.graphics.add(graphic); &#125;); &#125;); ç»™ç¼“å†²åŒºåˆ†ææŒ‰é’®æ·»åŠ ç»‘å®šäº‹ä»¶12345678910111213141516on(dom.byId(&quot;buffer&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰GPæœåŠ¡å¯¹è±¡ var buffer = new Geoprocessor(&quot;http://localhost:6080/arcgis/rest/services/Test/MyBuffer/GPServer/Mybuffer&quot;); //æ„å»ºGPæœåŠ¡å‚æ•° var gpParams=&#123;&#125;; //GPæœåŠ¡çš„Inputå‚æ•° gpParams.Input=pointSet; //GPæœåŠ¡çš„diså‚æ•° var dis=new LinearUnit(&#123; &quot;distance&quot;: 100, &quot;units&quot;: &quot;esriMeters&quot; &#125;); gpParams.dis=dis; //æ‰§è¡ŒGPæœåŠ¡ buffer.execute(gpParams, showResult);&#125;) å¤„ç†GPæœåŠ¡è¿”å›çš„ç»“æœ12345678910111213function showResult(results, messages)&#123; var features = results[0].value.features; for (var i = 0; i &lt; features.length; i++) &#123; var graphic = features[i]; //å®šä¹‰çº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASHDOT, new dojo.Color([255, 0, 0]), 1); //å®šä¹‰é¢ç¬¦å· var PolygonSymbol = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new dojo.Color([255, 255, 0, 0.25])); //è®¾ç½®é¢ç¬¦å· graphic.setSymbol(PolygonSymbol); MyMap.graphics.add(graphic); &#125; &#125; è¿è¡Œä»£ç å‘ç°é”™è¯¯æ­¤æ—¶æˆ‘ä»¬è§‚å¯Ÿå‰å°ä¼ ç»™åå°çš„å‚æ•°123456Input:&#123; &quot;geometryType&quot;:&quot;esriGeometryPoint&quot;, &quot;features&quot;:[&#123;&quot;geometry&quot;:&#123;&quot;x&quot;:21264961.8441914,&quot;y&quot;:3997922.462940743,&quot;spatialReference&quot;:&#123;&quot;wkid&quot;:2334,&quot;latestWkid&quot;:2334&#125;&#125;&#125;], &quot;sr&quot;:&#123;&quot;wkid&quot;:2334,&quot;latestWkid&quot;:2334&#125; &#125;dis: &#123;&quot;distance&quot;:100,&quot;units&quot;:&quot;esriMeters&quot;&#125; ä¼ ç»™åå°çš„å‚æ•°å’ŒGPæœåŠ¡çš„å‚æ•°å¯¹æ¯”ï¼Œå‘ç°Inputå‚æ•°ï¼Œç¼ºå°‘fieldså­—æ®µï¼šä¿®æ”¹é”™è¯¯æˆ‘ä»¬ç»™è¿è¡ŒGPæœåŠ¡ä¹‹å‰ç»™Inputå‚æ•°æ·»åŠ ä¸ŠFieldså­—æ®µ:123456789101112131415161718on(dom.byId(&quot;buffer&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰GPæœåŠ¡å¯¹è±¡ var buffer = new Geoprocessor(&quot;http://localhost:6080/arcgis/rest/services/Test/MyBuffer/GPServer/Mybuffer&quot;); //æ„å»ºGPæœåŠ¡å‚æ•° var gpParams=&#123;&#125;; //æ·»åŠ fieldså­—æ®µï¼Œä¸ºäº†å’Œåå°æœåŠ¡å­—æ®µåŒ¹é… pointSet.fields=[]; //GPæœåŠ¡çš„Inputå‚æ•° gpParams.Input=pointSet; //GPæœåŠ¡çš„diså‚æ•° var dis=new LinearUnit(&#123; &quot;distance&quot;: 100, &quot;units&quot;: &quot;esriMeters&quot; &#125;); gpParams.dis=dis; //æ‰§è¡ŒGPæœåŠ¡ buffer.execute(gpParams, showResult);&#125;); å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;GP&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:600px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt; require([&quot;esri/map&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/dom&quot;, &quot;esri/tasks/Geoprocessor&quot;, &quot;esri/tasks/FeatureSet&quot;, &quot;esri/symbols/SimpleMarkerSymbol&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/toolbars/draw&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;dojo/on&quot;,&quot;esri/graphic&quot;, &quot;esri/tasks/LinearUnit&quot;, &quot;dojo/domReady!&quot;], function (Map, ArcGISDynamicMapServiceLayer, dom, Geoprocessor, FeatureSet, SimpleMarkerSymbol, SimpleLineSymbol, Draw, SimpleFillSymbol,on,Graphic,LinearUnit) &#123; var MyMap = new Map(&quot;MyMapDiv&quot;); var layer = new ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer&quot;); MyMap.addLayer(layer); //å®šä¹‰ç‚¹å‡ ä½•å¯¹è±¡ var pointSet = new FeatureSet(); var psymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CROSS, 12, new SimpleLineSymbol(SimpleLineSymbol.STYLE_SOLID, new dojo.Color([255, 0, 0]), 2), new dojo.Color([0, 255, 0, 0.25])); on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰ç»˜å›¾å¯¹è±¡ var toolBar= new Draw(MyMap, &#123; showTooltips: true &#125;); //æ¿€æ´»ç»˜å›¾å¯¹è±¡ toolBar.activate(Draw.POINT); on(toolBar, &quot;draw-complete&quot;, function(result)&#123; //è·å¾—ç»˜å›¾ç»“æŸçš„ç‚¹å¯¹è±¡ var geometry = result.geometry; //æ ¹æ®ç‚¹å¯¹è±¡ç”Ÿæˆç›¸åº”çš„å›¾å½¢ var graphic = new Graphic(geometry,psymbol); //å°†ç‚¹å¯¹è±¡å­˜å‚¨åœ¨ç‚¹å‡ ä½•ä¸­ pointSet.features.push(graphic); //å°†å›¾å½¢å­˜æ”¾åœ¨åœ°å›¾ä¸­ï¼Œç„¶åå¾—ä»¥æ˜¾ç¤º MyMap.graphics.add(graphic); &#125;); &#125;); on(dom.byId(&quot;buffer&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰GPæœåŠ¡å¯¹è±¡ var buffer = new Geoprocessor(&quot;http://localhost:6080/arcgis/rest/services/Test/MyBuffer/GPServer/Mybuffer&quot;); //æ„å»ºGPæœåŠ¡å‚æ•° var gpParams=&#123;&#125;; //æ·»åŠ fieldså­—æ®µï¼Œä¸ºäº†å’Œåå°æœåŠ¡å­—æ®µåŒ¹é… pointSet.fields=[]; //GPæœåŠ¡çš„Inputå‚æ•° gpParams.Input=pointSet; //GPæœåŠ¡çš„diså‚æ•° var dis=new LinearUnit(&#123; &quot;distance&quot;: 100, &quot;units&quot;: &quot;esriMeters&quot; &#125;); gpParams.dis=dis; //æ‰§è¡ŒGPæœåŠ¡ buffer.execute(gpParams, showResult); &#125;); function showResult(results, messages) &#123; var features = results[0].value.features; for (var i = 0; i &lt; features.length; i++) &#123; var graphic = features[i]; //å®šä¹‰çº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASHDOT, new dojo.Color([255, 0, 0]), 1); //å®šä¹‰é¢ç¬¦å· var PolygonSymbol = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new dojo.Color([255, 255, 0, 0.25])); //è®¾ç½®é¢ç¬¦å· graphic.setSymbol(PolygonSymbol); MyMap.graphics.add(graphic); &#125; &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;MyMapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;input id=&quot;Btn&quot; type=&quot;button&quot; value=&quot;ç”»ç‚¹&quot; /&gt; &lt;input id=&quot;buffer&quot; type=&quot;button&quot; value=&quot;ç¼“å†²åŒºåˆ†æ&quot; /&gt;&lt;/body&gt;&lt;/html&gt;","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javascriptä¹‹æ¸²æŸ“å®ç°","slug":"ArcGIS-API-for-JS15","date":"2019-08-06T07:43:25.000Z","updated":"2022-11-02T11:15:20.493Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS15/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS15/","excerpt":"","text":"åœ¨ GISå½“ä¸­ï¼Œæ€»è¦æ—¶ä¸æ—¶çš„åˆ¶ä½œå‡ å¼ ä¸“é¢˜å›¾ï¼Œåˆ¶ä½œä¸“é¢˜å›¾çš„è¿‡ç¨‹ä¸­ï¼Œä¸å¯é¿å…çš„å°±è¦æ¶‰åŠåˆ°å›¾å±‚çš„æ¸²æŸ“é—®é¢˜ï¼ˆå³æ”¹å˜å›¾å±‚çš„é¢œè‰²ä¿¡æ¯ï¼‰ï¼Œæ¸²æŸ“åˆ†ä¸ºå®¢æˆ·ç«¯æ¸²æŸ“ï¼ŒæœåŠ¡å™¨æ¸²æŸ“ï¼Œå®¢æˆ·ç«¯æ¸²æŸ“è¦æ±‚æˆ‘ä»¬çš„æœåŠ¡å¿…é¡»æ˜¯è¦ç´ æœåŠ¡ï¼Œæˆ–è€…æ˜¯å¯ä»¥ä½¿ç”¨FeatureLayeræ¥æ”¶çš„æœåŠ¡å›¾å±‚ éœ€æ±‚é¦–å…ˆæˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹æ•°æ®ï¼ˆå®¿èˆæ¥¼ä¿¡æ¯ï¼‰ éœ€æ±‚ä¸€ï¼ˆå”¯ä¸€å€¼æ¸²æŸ“ï¼‰æ ¹æ®aliaså±æ€§è¿›è¡Œå”¯ä¸€å€¼æ¸²æŸ“ ä»£ç å®ç°é¦–å…ˆæˆ‘ä»¬å…ˆå°†åœ°å›¾åŠ è½½è¿›æ¥123var map = new esri.Map(&quot;MyMapDiv&quot;);var layer = new ArcGISDynamicMapServiceLayer(&quot;http://localhost:6080/arcgis/rest/services/my/fea/MapServer&quot;);map.addLayer(layer); å®šä¹‰ä¸€ä¸ªæ¸²æŸ“æŒ‰é’®1&lt;button id=&quot;btn&quot;&gt;æ¸²æŸ“&lt;/button&gt; ç»™æŒ‰é’®ç»‘å®šç›¸åº”çš„äº‹ä»¶12345678910111213141516171819202122on(btn,&quot;click&quot;,function()&#123; //å®šä¹‰ä¸€ä¸ªè¦ç´ å›¾å±‚ var featureLayer = new FeatureLayer( &quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer/1&quot;, &#123; mode:FeatureLayer.MODE_SNAPSHOT, outFields: [&quot;*&quot;] &#125;); //å®šä¹‰çº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //å®šä¹‰é¢ç¬¦å· var fill=new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color(&quot;#FFFFCC&quot;)); //å®šä¹‰å”¯ä¸€å€¼æ¸²æŸ“å™¨ï¼Œå¯¹å­—æ®µaliasè¿›è¡Œæ¸²æŸ“ï¼Œfillæ˜¯é»˜è®¤çš„æ¸²æŸ“ç¬¦å· var renderer = new UniqueValueRenderer(fill, &quot;alias&quot;); //è®¾ç½®æ¸²æŸ“çš„æ–¹å¼ renderer.addValue(&quot;CåŒºå®¿èˆ&quot;, new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color([0, 255, 0, 0.5]))); renderer.addValue(&quot;BåŒºå®¿èˆ&quot;, new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color([0, 0, 255, 0.5]))); renderer.addValue(&quot;AåŒºå®¿èˆ&quot;,new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color([255, 0, 255, 0.5]))); renderer.addValue(&quot;å…¬å…±å‡ºå£&quot;, new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color([255, 255, 255, 0.75]))); featureLayer.setRenderer(renderer); map.addLayer(featureLayer); &#125;) å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;UniqueValueRenderer&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:600px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/on&quot;, &quot;dojo/dom&quot;, &quot;dojo/colors&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/layers/FeatureLayer&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/renderers/UniqueValueRenderer&quot;, &quot;dojo/domReady!&quot;], function (Map, ArcGISDynamicMapServiceLayer,on,dom,Color,SimpleFillSymbol, FeatureLayer, SimpleLineSymbol,UniqueValueRenderer) &#123; var map = new esri.Map(&quot;MyMapDiv&quot;); var layer = new ArcGISDynamicMapServiceLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer&quot;); map.addLayer(layer); //è·å¾—idä¸ºbtnçš„DOMå…ƒç´  var btn=dom.byId(&quot;btn&quot;); //ç»‘å®šç›¸åº”çš„äº‹ä»¶ on(btn,&quot;click&quot;,function()&#123; //å®šä¹‰ä¸€ä¸ªè¦ç´ å›¾å±‚ var featureLayer = new FeatureLayer( &quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer/1&quot;, &#123; mode:FeatureLayer.MODE_SNAPSHOT, outFields: [&quot;*&quot;] &#125;); //å®šä¹‰çº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //å®šä¹‰é¢ç¬¦å· var fill=new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color(&quot;#FFFFCC&quot;)); //å®šä¹‰å”¯ä¸€å€¼æ¸²æŸ“å™¨ï¼Œå¯¹å­—æ®µaliasè¿›è¡Œæ¸²æŸ“ï¼Œfillæ˜¯é»˜è®¤çš„æ¸²æŸ“ç¬¦å· var renderer = new UniqueValueRenderer(fill, &quot;alias&quot;); //è®¾ç½®æ¸²æŸ“çš„æ–¹å¼ renderer.addValue(&quot;CåŒºå®¿èˆ&quot;, new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color([0, 255, 0, 0.5]))); renderer.addValue(&quot;BåŒºå®¿èˆ&quot;, new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color([0, 0, 255, 0.5]))); renderer.addValue(&quot;AåŒºå®¿èˆ&quot;,new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color([255, 0, 255, 0.5]))); renderer.addValue(&quot;å…¬å…±å‡ºå£&quot;, new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color([255, 255, 255, 0.75]))); featureLayer.setRenderer(renderer); map.addLayer(featureLayer); &#125;) &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;MyMapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt;&lt;button id=&quot;btn&quot;&gt;æ¸²æŸ“&lt;/button&gt;&lt;/body&gt;&lt;/html&gt; è¿è¡Œç»“æœä¹‹åï¼š éœ€æ±‚äºŒï¼ˆåˆ†ç±»æ¸²æŸ“ï¼‰æ ¹æ®é¢ç§¯å­—æ®µå®ç°åˆ†ç±»æ¸²æŸ“ï¼Œç”±äºä»£ç åªæ˜¯ä¿®æ”¹äº†æ¸²æŸ“å™¨ï¼Œæ‰€ä»¥ç›´æ¥å°†ä»£ç è´´å‡ºæ¥ å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;UniqueValueRenderer&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:600px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/on&quot;, &quot;dojo/dom&quot;, &quot;dojo/colors&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/layers/FeatureLayer&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/renderers/ClassBreaksRenderer&quot;, &quot;dojo/domReady!&quot;], function (Map, ArcGISDynamicMapServiceLayer,on,dom,Color,SimpleFillSymbol, FeatureLayer, SimpleLineSymbol,ClassBreaksRenderer) &#123; var map = new esri.Map(&quot;MyMapDiv&quot;); var layer = new ArcGISDynamicMapServiceLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer&quot;); map.addLayer(layer); //è·å¾—idä¸ºbtnçš„DOMå…ƒç´  var btn=dom.byId(&quot;btn&quot;); //ç»‘å®šç›¸åº”çš„äº‹ä»¶ on(btn,&quot;click&quot;,function()&#123; //å®šä¹‰ä¸€ä¸ªè¦ç´ å›¾å±‚ var featureLayer = new FeatureLayer( &quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer/1&quot;, &#123; mode:FeatureLayer.MODE_SNAPSHOT, outFields: [&quot;*&quot;] &#125;); //å®šä¹‰çº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //å®šä¹‰é¢ç¬¦å· var fill=new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color(&quot;#FFFFCC&quot;)); //å®šä¹‰å”¯ä¸€å€¼æ¸²æŸ“å™¨ï¼Œå¯¹å­—æ®µaliasè¿›è¡Œæ¸²æŸ“ï¼Œfillæ˜¯é»˜è®¤çš„æ¸²æŸ“ç¬¦å· var renderer = new ClassBreaksRenderer(fill, &quot;OBJECTID&quot;); //è®¾ç½®æ¸²æŸ“é—´éš” renderer.addBreak(0,20, new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color([0, 255, 0, 0.5]))); renderer.addBreak(20,30, new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color([0, 0, 255, 0.5]))); renderer.addBreak(30,40,new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color([255, 0, 255, 0.5]))); renderer.addBreak(40,60, new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new Color([255, 255, 255, 0.75]))); featureLayer.setRenderer(renderer); map.addLayer(featureLayer); &#125;) &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;MyMapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt;&lt;button id=&quot;btn&quot;&gt;æ¸²æŸ“&lt;/button&gt;&lt;/body&gt;&lt;/html&gt; è¿è¡Œç»“æœåï¼š éœ€æ±‚ä¸‰ï¼ˆæœåŠ¡å™¨æ¸²æŸ“ï¼‰å½“æ•°æ®é‡è¿‡å¤§æ—¶ï¼Œå®¢æˆ·ç«¯æ¸²æŸ“å˜æ˜¾å¾—æœ‰äº›æ…¢äº†ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨æœåŠ¡å™¨æ¸²æŸ“ï¼ŒæœåŠ¡å™¨æ¸²æŸ“æä¾›äº†ä¸¤ç§æ¸²æŸ“çš„æ–¹å¼ï¼šå”¯ä¸€å€¼æ¸²æŸ“ï¼Œåˆ†ç±»æ¸²æŸ“ï¼Œåœ¨æ­¤å¤„æˆ‘ä»¬ç”¨åˆ°çš„ä¸ºåˆ†ç±»æ¸²æŸ“ã€‚ æ³¨æ„ï¼šæœåŠ¡å™¨æ¸²æŸ“ä¸éœ€è¦è¦ç´ æœåŠ¡ã€‚ åˆ›å»ºä¸€ä¸ªæŒ‰é’®ï¼ˆç”¨äºè§¦å‘æœåŠ¡å™¨æ¸²æŸ“ï¼‰1&lt;input type=&quot;button&quot; id=&quot;Btn&quot; value=&quot;æœåŠ¡å™¨æ¸²æŸ“&quot; /&gt; ç»™æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶123456789101112131415161718192021222324252627282930313233343536on(btn,&quot;click&quot;,function(e)&#123; //å®šä¹‰çº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); //å®šä¹‰é¢ç¬¦å· var fill=new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new dojo.Color(&quot;#FFFFCC&quot;)); //åˆ›å»ºæœåŠ¡å™¨æ¸²æŸ“å¯¹è±¡ var RenderAnalyst = new GenerateRendererTask(&quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer/1&quot;); //åˆ›å»ºæœåŠ¡å™¨æ¸²æŸ“å‚æ•°å¯¹è±¡ var params = new GenerateRendererParameters(); //åˆ›å»ºé¢œè‰²å¡é“å¯¹è±¡ var colorRamp = new AlgorithmicColorRamp(); //é¢œè‰²çš„èµ·å§‹ä½ç½® colorRamp.fromColor = dojo.colorFromHex(&quot;#998ec3&quot;); //é¢œè‰²çš„ç»ˆæ­¢ä½ç½® colorRamp.toColor = dojo.colorFromHex(&quot;#f1a340&quot;); //é¢œè‰²çš„ç±»å‹ colorRamp.algorithm = &quot;hsv&quot;; //å‘Šè¯‰æœåŠ¡å™¨æˆ‘ä»¬éœ€è¦ä»€ä¹ˆæ ·å­çš„æ¸²æŸ“å™¨ var unidef = new ClassBreaksDefinition(); //åˆ†ç±»çš„å­—æ®µ unidef.classificationField = &quot;Shape.STArea()&quot;; //å¦‚ä½•åˆ†ç±» unidef.classificationMethod=&quot;natural-breaks&quot;; //åˆ†ä¸ºå‡ ç±»ï¼Ÿ unidef.breakCount = 3; //é»˜è®¤çš„ç¬¦å· unidef.baseSymbol=fill; //å°†è‡ªå®šä¹‰çš„é¢œè‰²å¡é“å‘Šè¯‰æœåŠ¡å™¨ unidef.colorRamp=colorRamp; //ç»™æ¸²æŸ“å‚æ•°å¯¹è±¡èµ‹å€¼ params.classificationDefinition = unidef; //è¿›è¡ŒæœåŠ¡å™¨æ¸²æŸ“ RenderAnalyst.execute(params, showRender); &#125;); å¤„ç†æœåŠ¡å™¨è¿”å›çš„ç»“æœ123456789101112131415//å¤„ç†æœåŠ¡å™¨è¿”å›æ¥çš„ç»“æœ function showRender(renderer) &#123; if (renderer != null) &#123; //å®šä¹‰è¦ç´ å›¾å±‚ï¼Œæ³¨æ„ï¼šè¿™ä¸ªåœ°æ–¹æˆ‘ä»¬ç”¨åˆ°å¹¶ä¸æ˜¯è¦ç´ æœåŠ¡ï¼Œè€Œæ˜¯åœ°å›¾æœåŠ¡ var featureLayer = new FeatureLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer/1&quot;,&#123; mode: FeatureLayer.MODE_SNAPSHOT, outFields: [&quot;*&quot;] &#125;); //èµ‹äºˆæ¸²æŸ“å™¨ featureLayer.setRenderer(renderer); featureLayer.refresh(); MyMap.addLayer(featureLayer); &#125; &#125; å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;GenerateRendererTask&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:500px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/dom&quot;, &quot;dojo/on&quot;, &quot;esri/tasks/GenerateRendererTask&quot;, &quot;esri/layers/FeatureLayer&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/tasks/GenerateRendererParameters&quot;, &quot;esri/tasks/ClassBreaksDefinition&quot;, &quot;esri/tasks/AlgorithmicColorRamp&quot;, &quot;dojo/domReady!&quot;], function (Map, ArcGISDynamicMapServiceLayer, dom,on, GenerateRendererTask, FeatureLayer, SimpleFillSymbol, SimpleLineSymbol, GenerateRendererParameters, ClassBreaksDefinition, AlgorithmicColorRamp ) &#123; //æœåŠ¡å™¨ç«¯æ¸²æŸ“ var MyMap = new Map(&quot;MyMapDiv&quot;); var layer = new ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer/&quot;); MyMap.addLayer(layer) //è·å¾—idä¸ºBtnçš„DOMå¯¹è±¡ var btn=dom.byId(&quot;Btn&quot;); //ç»™btnç»‘å®šç‚¹å‡»äº‹ä»¶ on(btn,&quot;click&quot;,function(e)&#123; //å®šä¹‰çº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); //å®šä¹‰é¢ç¬¦å· var fill=new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol,new dojo.Color(&quot;#FFFFCC&quot;)); //åˆ›å»ºæœåŠ¡å™¨æ¸²æŸ“å¯¹è±¡ var RenderAnalyst = new GenerateRendererTask(&quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer/1&quot;); //åˆ›å»ºæœåŠ¡å™¨æ¸²æŸ“å‚æ•°å¯¹è±¡ var params = new GenerateRendererParameters(); //åˆ›å»ºé¢œè‰²å¡é“å¯¹è±¡ var colorRamp = new AlgorithmicColorRamp(); //é¢œè‰²çš„èµ·å§‹ä½ç½® colorRamp.fromColor = dojo.colorFromHex(&quot;#998ec3&quot;); //é¢œè‰²çš„ç»ˆæ­¢ä½ç½® colorRamp.toColor = dojo.colorFromHex(&quot;#f1a340&quot;); //é¢œè‰²çš„ç±»å‹ colorRamp.algorithm = &quot;hsv&quot;; //å‘Šè¯‰æœåŠ¡å™¨æˆ‘ä»¬éœ€è¦ä»€ä¹ˆæ ·å­çš„æ¸²æŸ“å™¨ var unidef = new ClassBreaksDefinition(); //åˆ†ç±»çš„å­—æ®µ unidef.classificationField = &quot;Shape.STArea()&quot;; //å¦‚ä½•åˆ†ç±» unidef.classificationMethod=&quot;natural-breaks&quot;; //åˆ†ä¸ºå‡ ç±»ï¼Ÿ unidef.breakCount = 3; //é»˜è®¤çš„ç¬¦å· unidef.baseSymbol=fill; //å°†è‡ªå®šä¹‰çš„é¢œè‰²å¡é“å‘Šè¯‰æœåŠ¡å™¨ unidef.colorRamp=colorRamp; //ç»™æ¸²æŸ“å‚æ•°å¯¹è±¡èµ‹å€¼ params.classificationDefinition = unidef; //è¿›è¡ŒæœåŠ¡å™¨æ¸²æŸ“ RenderAnalyst.execute(params, showRender); &#125;); //å¤„ç†æœåŠ¡å™¨è¿”å›æ¥çš„ç»“æœ function showRender(renderer) &#123; if (renderer != null) &#123; //å®šä¹‰è¦ç´ å›¾å±‚ï¼Œæ³¨æ„ï¼šè¿™ä¸ªåœ°æ–¹æˆ‘ä»¬ç”¨åˆ°å¹¶ä¸æ˜¯è¦ç´ æœåŠ¡ï¼Œè€Œæ˜¯åœ°å›¾æœåŠ¡ var featureLayer = new FeatureLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/ft/MapServer/1&quot;,&#123; mode: FeatureLayer.MODE_SNAPSHOT, outFields: [&quot;*&quot;] &#125;); //èµ‹äºˆæ¸²æŸ“å™¨ featureLayer.setRenderer(renderer); featureLayer.refresh(); MyMap.addLayer(featureLayer); &#125; &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;MyMapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt;&lt;input type=&quot;button&quot; id=&quot;Btn&quot; value=&quot;æœåŠ¡å™¨æ¸²æŸ“&quot; /&gt;&lt;/body&gt;&lt;/html&gt;","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javascriptä¹‹æŸ¥è¯¢åŠŸèƒ½","slug":"ArcGIS-API-for-JS14","date":"2019-08-06T07:26:24.000Z","updated":"2022-11-02T11:15:20.490Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS14/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS14/","excerpt":"","text":"åœ¨ArcGIS APIä¸­æŸ¥è¯¢åŠŸèƒ½æ˜¯éå¸¸å¸¸ç”¨çš„ï¼ŒEsriç»™æˆ‘ä»¬æä¾›äº†ä¸‰ä¸ªç±»ç”¨äºå®ç°çŸ¢é‡æ•°æ®æŸ¥è¯¢åŠŸèƒ½ã€‚FindTask,QueryTask,IdentifyTaskï¼Œä»–ä»¬ä¹‹é—´çš„åŒºåˆ«ä¸ºï¼š FindTaskåªèƒ½è¿›è¡Œå±æ€§æŸ¥è¯¢ï¼ŒQueryTask,IdentifyTaskä¸¤ä¸ªç±»æ—¢å¯ä»¥è¿›è¡Œå±æ€§æŸ¥è¯¢ä¹Ÿå¯ä»¥è¿›è¡Œç©ºé—´æŸ¥è¯¢ã€‚ å¯¹äºQueryTask,IdentifyTaskä¸¤ä¸ªç±»ï¼ŒQueryTaskåªå¯åº”ç”¨äºä¸€ä¸ªå•ç‹¬çš„å›¾å±‚ï¼ŒIdentifyTaskå¯åº”ç”¨äºåœ°å›¾æœåŠ¡å’Œå¤šä¸ªå›¾å±‚ QueryTaskå¯ä»¥è¿›è¡Œç®€å•çš„ç»Ÿè®¡åŠŸèƒ½ã€‚ éœ€æ±‚åˆ©ç”¨FindTaskå®ç°ç®€å•çš„å±æ€§æŸ¥è¯¢æˆ‘ä»¬å°†nameå±æ€§ä¸ºJ4çš„æ•™å­¦æ¥¼æŸ¥è¯¢å‡ºæ¥ï¼Œåœ¨é¡µé¢ä¸Šæ˜¾ç¤ºJ4æ˜¯å“ªä¸€ä¸ªå­¦é™¢ï¼Ÿï¼ˆæœºç”µå­¦é™¢ï¼‰ï¼Œå¹¶ä¸”å°†J4çš„æ¥¼é«˜äº®æ˜¾ç¤ºä»£ç å®ç° åœ¨é¡µé¢åŠ å…¥ä¸€ä¸ªåœ°å›¾ï¼ˆç•¥ï¼‰åœ¨é¡µé¢æ·»åŠ ä¸€ä¸ªbuttonå’Œä¸€ä¸ªdivï¼ˆbuttonç”¨äºå±æ€§æŸ¥è¯¢ï¼Œdivç”¨äºæ˜¾ç¤ºæ¥¼å±‚çš„åå­—ï¼‰12&lt;input type=&quot;button&quot; value=&quot;å±æ€§æŸ¥è¯¢&quot; id=&quot;Btn&quot;/&gt;&lt;div id=&quot;divShowResult&quot;&gt;&lt;/div&gt; åˆ›å»ºå±æ€§æŸ¥è¯¢å¯¹è±¡å¹¶ç»™buttonç»‘å®šç‚¹å‡»äº‹ä»¶123456789101112131415161718//åœ°å›¾æœåŠ¡çš„URL var MapServer = &quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer&quot;; //åˆ›å»ºå±æ€§æŸ¥è¯¢å¯¹è±¡ var findTask = new FindTask(MapServer); //åˆ›å»ºå±æ€§æŸ¥è¯¢å‚æ•° var findParams = new FindParameters(); on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function()&#123; //æ˜¯å¦è¿”å›ç»™æˆ‘ä»¬å‡ ä½•ä¿¡æ¯ findParams.returnGeometry = true; //å¯¹å“ªä¸€ä¸ªå›¾å±‚è¿›è¡Œå±æ€§æŸ¥è¯¢ findParams.layerIds = [1]; //æŸ¥è¯¢çš„å­—æ®µ findParams.searchFields = [&quot;name&quot;]; //searchTextå’ŒsearchFieldsç»“åˆä½¿ç”¨ï¼Œå³æŸ¥è¯¢name=J4 findParams.searchText = &quot;J4&quot;; //æ‰§è¡ŒæŸ¥è¯¢å¯¹è±¡ findTask.execute(findParams, ShowFindResult); &#125;) å¤„ç†å±æ€§æŸ¥è¯¢è¿”å›ç»™æˆ‘ä»¬çš„æ•°æ®12345678910111213141516171819202122232425262728293031323334function ShowFindResult(queryResult) &#123; //åˆ›å»ºçº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); //åˆ›å»ºé¢ç¬¦å· var fill=new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol); if (queryResult.length == 0) &#123; dom.byId(&quot;divShowResult&quot;).innerHTML = &quot;&quot;; return; &#125; var htmls = &quot;&quot;; if (queryResult.length &gt;= 1) &#123; htmls = htmls + &quot;&lt;table style=\\&quot;width: 100%\\&quot;&gt;&quot;; htmls = htmls + &quot;&lt;tr&gt;&lt;td&gt;åç§°&lt;/td&gt;&lt;/tr&gt;&quot;; for (var i = 0; i &lt; queryResult.length; i++) &#123; //è·å¾—å›¾å½¢graphic var graphic = queryResult[i].feature; //èµ‹äºˆç›¸åº”çš„ç¬¦å· graphic.setSymbol(fill); //å°†graphicæ·»åŠ åˆ°åœ°å›¾ä¸­ï¼Œä»è€Œå®ç°é«˜äº®æ•ˆæœ map.graphics.add(graphic); //è·å¾—æ•™å­¦æ¥¼åç§°ï¼ˆæ­¤å¤„æ˜¯å’Œshpå±æ€§è¡¨å¯¹åº”çš„ï¼‰ var ptName = graphic.attributes[&quot;alias&quot;]; if (i % 2 == 0) htmls = htmls + &quot;&lt;tr&gt;&quot;; else htmls = htmls + &quot;&lt;tr bgcolor=\\&quot;#F0F0F0\\&quot;&gt;&quot;; htmls = htmls + &quot;&lt;td&gt;&lt;a href=\\&quot;#\\&quot; \\&quot;&gt;&quot; + ptName + &quot;&lt;/a&gt;&lt;/td&gt;&quot;; htmls = htmls + &quot;&lt;/tr&gt;&quot;; &#125; htmls = htmls + &quot;&lt;/table&gt;&quot;; //å°†å±æ€§ç»‘å®šåœ¨divShowResultä¸Šé¢ dom.byId(&quot;divShowResult&quot;).innerHTML = htmls; &#125; &#125; å…¨éƒ¨ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;FindTask&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:600px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/on&quot;, &quot;dojo/dom&quot;, &quot;esri/tasks/FindTask&quot;, &quot;esri/tasks/FindParameters&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/graphic&quot;, &quot;dojo/domReady!&quot;], function (Map, ArcGISDynamicMapServiceLayer,on,dom, FindTask, FindParameters, SimpleLineSymbol,SimpleFillSymbol,Graphic) &#123; var map = new esri.Map(&quot;mapDiv&quot;); //åœ°å›¾æœåŠ¡çš„URL var MapServer = &quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer&quot;; var layer = new esri.layers.ArcGISDynamicMapServiceLayer(MapServer); map.addLayer(layer) //åˆ›å»ºå±æ€§æŸ¥è¯¢å¯¹è±¡ var findTask = new FindTask(MapServer); //åˆ›å»ºå±æ€§æŸ¥è¯¢å‚æ•° var findParams = new FindParameters(); on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function()&#123; //æ˜¯å¦è¿”å›ç»™æˆ‘ä»¬å‡ ä½•ä¿¡æ¯ findParams.returnGeometry = true; //å¯¹å“ªä¸€ä¸ªå›¾å±‚è¿›è¡Œå±æ€§æŸ¥è¯¢ findParams.layerIds = [1]; //æŸ¥è¯¢çš„å­—æ®µ findParams.searchFields = [&quot;name&quot;]; //searchTextå’ŒsearchFieldsç»“åˆä½¿ç”¨ï¼Œå³æŸ¥è¯¢name=J4 findParams.searchText = &quot;J4&quot;; //æ‰§è¡ŒæŸ¥è¯¢å¯¹è±¡ findTask.execute(findParams, ShowFindResult); &#125;) function ShowFindResult(queryResult) &#123; //åˆ›å»ºçº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); //åˆ›å»ºé¢ç¬¦å· var fill=new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol); if (queryResult.length == 0) &#123; dom.byId(&quot;divShowResult&quot;).innerHTML = &quot;&quot;; return; &#125; var htmls = &quot;&quot;; if (queryResult.length &gt;= 1) &#123; htmls = htmls + &quot;&lt;table style=\\&quot;width: 100%\\&quot;&gt;&quot;; htmls = htmls + &quot;&lt;tr&gt;&lt;td&gt;åç§°&lt;/td&gt;&lt;/tr&gt;&quot;; for (var i = 0; i &lt; queryResult.length; i++) &#123; //è·å¾—å›¾å½¢graphic var graphic = queryResult[i].feature; //èµ‹äºˆç›¸åº”çš„ç¬¦å· graphic.setSymbol(fill); //å°†graphicæ·»åŠ åˆ°åœ°å›¾ä¸­ï¼Œä»è€Œå®ç°é«˜äº®æ•ˆæœ map.graphics.add(graphic); //è·å¾—æ•™å­¦æ¥¼åç§°ï¼ˆæ­¤å¤„æ˜¯å’Œshpå±æ€§è¡¨å¯¹åº”çš„ï¼‰ var ptName = graphic.attributes[&quot;alias&quot;]; if (i % 2 == 0) htmls = htmls + &quot;&lt;tr&gt;&quot;; else htmls = htmls + &quot;&lt;tr bgcolor=\\&quot;#F0F0F0\\&quot;&gt;&quot;; htmls = htmls + &quot;&lt;td&gt;&lt;a href=\\&quot;#\\&quot; \\&quot;&gt;&quot; + ptName + &quot;&lt;/a&gt;&lt;/td&gt;&quot;; htmls = htmls + &quot;&lt;/tr&gt;&quot;; &#125; htmls = htmls + &quot;&lt;/table&gt;&quot;; //å°†å±æ€§ç»‘å®šåœ¨divShowResultä¸Šé¢ dom.byId(&quot;divShowResult&quot;).innerHTML = htmls; &#125; &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;input type=&quot;button&quot; value=&quot;å±æ€§æŸ¥è¯¢&quot; id=&quot;Btn&quot;/&gt; &lt;div id=&quot;divShowResult&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; è¿è¡Œä¹‹åçš„ç»“æœä¸ºï¼š åˆ©ç”¨QueryTaskå®ç°ç©ºé—´æŸ¥è¯¢æ­¤æ—¶çš„çš„éœ€æ±‚æ˜¯ï¼šæˆ‘ä»¬åœ¨åœ°å›¾ä¸Šç”»ä¸€ä¸ªå›¾å½¢ï¼Œç„¶åå’Œå›¾å½¢ç›¸äº¤çš„æ•™å­¦æ¥¼é€‰æ‹©å‡ºæ¥ã€‚12341.ä½¿ç”¨drawäº¤äº’ç»˜åˆ¶å‡ ä½•å½¢çŠ¶2.æ ¹æ®geometryå½¢çŠ¶æ„å»ºç©ºé—´æŸ¥è¯¢å‚æ•°3.æ‰§è¡Œç©ºé—´åˆ†æå¯¹è±¡4.å¤„ç†ç©ºé—´åˆ†æçš„ç»“æœ åˆ›å»ºä¸€ä¸ªbuttonå’Œä¸€ä¸ªdivï¼ˆbuttonç”¨äºæ¿€æ´»ç»˜å›¾å·¥å…·ï¼Œdivç”¨æˆ·æ˜¾ç¤ºç”¨æˆ·é€‰æ‹©çš„æ•™å­¦æ¥¼çš„åç§°ï¼‰12&lt;input type=&quot;button&quot; value=&quot;ç©ºé—´æŸ¥è¯¢&quot; id=&quot;Btn&quot;/&gt;&lt;div id=&quot;divShowResult&quot;&gt;&lt;/div&gt; ç»™buttonç»‘å®šäº‹ä»¶ï¼ˆæ¿€æ´»ç»˜å›¾å·¥å…·ï¼‰1234567//å®šä¹‰ä¸€ä¸ªç»˜å›¾å·¥å…·var toolBar = new Draw(map);//ç»™buttonç»‘å®šäº‹ä»¶on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function()&#123; //æ¿€æ´»ç»˜å›¾å·¥å…·ï¼Œæˆ‘è¦ç»˜åˆ¶ä¸€ä¸ªé¢å›¾å½¢ toolBar.activate(Draw.POLYGON);&#125;) ç»™ç»˜å›¾å·¥å…·ç»‘å®šç»˜å›¾å®Œæˆäº‹ä»¶ï¼Œç»˜å›¾å®Œæˆæ‰§è¡ŒqueryGraphicå‡½æ•°,å¹¶å°†ç»˜åˆ¶çš„geometryä¼ å…¥å‡½æ•°1234567on(toolBar, &quot;draw-complete&quot;, function (result) &#123; //è·å¾—ç»˜å›¾å¾—åˆ°çš„é¢ var geometry=result.geometry; //å…³é—­ç»˜å›¾å·¥å…· toolBar.deactivate(); queryGraphic(geometry); &#125;); ç¼–å†™queryGraphicå‡½æ•°123456789101112131415161718function queryGraphic(geometry) &#123; //åˆ›å»ºæŸ¥è¯¢å¯¹è±¡ï¼Œæ³¨æ„ï¼šæœåŠ¡çš„åé¢æœ‰ä¸€ä¸ªç¼–å·ï¼Œä»£è¡¨å¯¹é‚£ä¸€ä¸ªå›¾å±‚è¿›è¡ŒæŸ¥è¯¢ var queryTask = new QueryTask(&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer/1&quot;); //åˆ›å»ºæŸ¥è¯¢å‚æ•°å¯¹è±¡ var query = new Query(); //ç©ºé—´æŸ¥è¯¢çš„å‡ ä½•å¯¹è±¡ query.geometry = geometry; //æœåŠ¡å™¨ç»™æˆ‘ä»¬è¿”å›çš„å­—æ®µä¿¡æ¯ï¼Œ*ä»£è¡¨è¿”å›æ‰€æœ‰å­—æ®µ query.outFields = [&quot;*&quot;]; //ç©ºé—´å‚è€ƒä¿¡æ¯ query.outSpatialReference = map.spatialReference; //æŸ¥è¯¢çš„æ ‡å‡†ï¼Œæ­¤å¤„ä»£è¡¨å’Œgeometryç›¸äº¤çš„å›¾å½¢éƒ½è¦è¿”å› query.spatialRelationship = Query.SPATIAL_REL_INTERSECTS; //æ˜¯å¦è¿”å›å‡ ä½•ä¿¡æ¯ query.returnGeometry = true; //æ‰§è¡Œç©ºé—´æŸ¥è¯¢ queryTask.execute(query, showQueryResult); &#125; å¤„ç†è¿”å›çš„ç»“æœä¿¡æ¯12345678910111213141516171819202122232425262728293031323334function showQueryResult(queryResult) &#123; //åˆ›å»ºçº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); //åˆ›å»ºé¢ç¬¦å· var fill=new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol); if (queryResult.features.length == 0) &#123; dom.byId(&quot;divShowResult&quot;).innerHTML = &quot;&quot;; return; &#125; var htmls = &quot;&quot;; if (queryResult.features.length &gt;= 1) &#123; htmls = htmls + &quot;&lt;table style=\\&quot;width: 100%\\&quot;&gt;&quot;; htmls = htmls + &quot;&lt;tr&gt;&lt;td&gt;åç§°&lt;/td&gt;&lt;/tr&gt;&quot;; for (var i = 0; i &lt; queryResult.features.length; i++) &#123; //å¾—åˆ°graphic var graphic = queryResult.features[i]; //ç»™å›¾å½¢èµ‹äºˆç¬¦å· graphic.setSymbol(fill); //æ·»åŠ åˆ°åœ°å›¾ä»è€Œå®ç°é«˜äº®æ•ˆæœ map.graphics.add(graphic); //è·å¾—æ•™å­¦æ¥¼çš„åç§°ä¿¡æ¯ï¼Œæ­¤å¤„åº”å’Œshpçš„å±æ€§è¡¨å¯¹åº” var ptName = graphic.attributes[&quot;alias&quot;]; if (i % 2 == 0) htmls = htmls + &quot;&lt;tr&gt;&quot;; else htmls = htmls + &quot;&lt;tr bgcolor=\\&quot;#F0F0F0\\&quot;&gt;&quot;; htmls = htmls + &quot;&lt;td&gt;&lt;a href=\\&quot;#\\&quot;\\&quot;&gt;&quot; + ptName + &quot;&lt;/a&gt;&lt;/td&gt;&quot;; htmls = htmls + &quot;&lt;/tr&gt;&quot;; &#125; htmls = htmls + &quot;&lt;/table&gt;&quot;; //å°†æ•™å­¦æ¥¼çš„åç§°ä¿¡æ¯å’ŒdivShowResultç»‘å®š dom.byId(&quot;divShowResult&quot;).innerHTML = htmls; &#125; &#125; å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;QueryTask&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:600px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/dom&quot;, &quot;dojo/on&quot;, &quot;esri/tasks/QueryTask&quot;, &quot;esri/toolbars/draw&quot;, &quot;esri/tasks/query&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/graphic&quot;, &quot;dojo/domReady!&quot;], function (Map, ArcGISDynamicMapServiceLayer,dom, on, QueryTask, Draw, Query, SimpleLineSymbol,SimpleFillSymbol,Graphic) &#123; var map = new Map(&quot;mapdiv&quot;); var layer = new ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer&quot;); map.addLayer(layer) //å®šä¹‰ä¸€ä¸ªç»˜å›¾å·¥å…· var toolBar = new Draw(map); //ç»™buttonç»‘å®šäº‹ä»¶ on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function()&#123; //æ¿€æ´»ç»˜å›¾å·¥å…·ï¼Œæˆ‘è¦ç»˜åˆ¶ä¸€ä¸ªé¢å›¾å½¢ toolBar.activate(Draw.POLYGON); &#125;) on(toolBar, &quot;draw-complete&quot;, function (result) &#123; //è·å¾—ç»˜å›¾å¾—åˆ°çš„é¢ var geometry=result.geometry; //å…³é—­ç»˜å›¾å·¥å…· toolBar.deactivate(); queryGraphic(geometry); &#125;); function queryGraphic(geometry) &#123; //åˆ›å»ºæŸ¥è¯¢å¯¹è±¡ï¼Œæ³¨æ„ï¼šæœåŠ¡çš„åé¢æœ‰ä¸€ä¸ªç¼–å·ï¼Œä»£è¡¨å¯¹é‚£ä¸€ä¸ªå›¾å±‚è¿›è¡ŒæŸ¥è¯¢ var queryTask = new QueryTask(&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer/1&quot;); //åˆ›å»ºæŸ¥è¯¢å‚æ•°å¯¹è±¡ var query = new Query(); //ç©ºé—´æŸ¥è¯¢çš„å‡ ä½•å¯¹è±¡ query.geometry = geometry; //æœåŠ¡å™¨ç»™æˆ‘ä»¬è¿”å›çš„å­—æ®µä¿¡æ¯ï¼Œ*ä»£è¡¨è¿”å›æ‰€æœ‰å­—æ®µ query.outFields = [&quot;*&quot;]; //ç©ºé—´å‚è€ƒä¿¡æ¯ query.outSpatialReference = map.spatialReference; //æŸ¥è¯¢çš„æ ‡å‡†ï¼Œæ­¤å¤„ä»£è¡¨å’Œgeometryç›¸äº¤çš„å›¾å½¢éƒ½è¦è¿”å› query.spatialRelationship = Query.SPATIAL_REL_INTERSECTS; //æ˜¯å¦è¿”å›å‡ ä½•ä¿¡æ¯ query.returnGeometry = true; //æ‰§è¡Œç©ºé—´æŸ¥è¯¢ queryTask.execute(query, showQueryResult); &#125; function showQueryResult(queryResult) &#123; //åˆ›å»ºçº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); //åˆ›å»ºé¢ç¬¦å· var fill=new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol); if (queryResult.features.length == 0) &#123; dom.byId(&quot;divShowResult&quot;).innerHTML = &quot;&quot;; return; &#125; var htmls = &quot;&quot;; if (queryResult.features.length &gt;= 1) &#123; htmls = htmls + &quot;&lt;table style=\\&quot;width: 100%\\&quot;&gt;&quot;; htmls = htmls + &quot;&lt;tr&gt;&lt;td&gt;åç§°&lt;/td&gt;&lt;/tr&gt;&quot;; for (var i = 0; i &lt; queryResult.features.length; i++) &#123; //å¾—åˆ°graphic var graphic = queryResult.features[i]; //ç»™å›¾å½¢èµ‹äºˆç¬¦å· graphic.setSymbol(fill); //æ·»åŠ åˆ°åœ°å›¾ä»è€Œå®ç°é«˜äº®æ•ˆæœ map.graphics.add(graphic); //è·å¾—æ•™å­¦æ¥¼çš„åç§°ä¿¡æ¯ï¼Œæ­¤å¤„åº”å’Œshpçš„å±æ€§è¡¨å¯¹åº” var ptName = graphic.attributes[&quot;alias&quot;]; if (i % 2 == 0) htmls = htmls + &quot;&lt;tr&gt;&quot;; else htmls = htmls + &quot;&lt;tr bgcolor=\\&quot;#F0F0F0\\&quot;&gt;&quot;; htmls = htmls + &quot;&lt;td&gt;&lt;a href=\\&quot;#\\&quot;\\&quot;&gt;&quot; + ptName + &quot;&lt;/a&gt;&lt;/td&gt;&quot;; htmls = htmls + &quot;&lt;/tr&gt;&quot;; &#125; htmls = htmls + &quot;&lt;/table&gt;&quot;; //å°†æ•™å­¦æ¥¼çš„åç§°ä¿¡æ¯å’ŒdivShowResultç»‘å®š dom.byId(&quot;divShowResult&quot;).innerHTML = htmls; &#125; &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapdiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;input type=&quot;button&quot; value=&quot;ç©ºé—´æŸ¥è¯¢&quot; id=&quot;Btn&quot;/&gt; &lt;div id=&quot;divShowResult&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; è¿è¡Œä¹‹åçš„ç»“æœä¸ºï¼š åˆ©ç”¨QueryTaskè¿›è¡Œå±æ€§æŸ¥è¯¢åˆ©ç”¨QueryTaskè¿›è¡Œå±æ€§æŸ¥è¯¢å’Œç©ºé—´æŸ¥è¯¢ä»£ç å·®ä¸å¤šã€‚ #####å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;QueryTask&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:600px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/dom&quot;, &quot;dojo/on&quot;, &quot;esri/tasks/QueryTask&quot;, &quot;esri/tasks/query&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/graphic&quot;, &quot;dojo/domReady!&quot;], function (Map, ArcGISDynamicMapServiceLayer,dom, on, QueryTask, Query, SimpleLineSymbol,SimpleFillSymbol,Graphic) &#123; //æ ¹æ®divçš„idå±æ€§åˆ›å»ºåœ°å›¾ var map = new Map(&quot;mapDiv&quot;); //å®šä¹‰ä¸€ä¸ªåŠ¨æ€åœ°å›¾æœåŠ¡ var layer = new ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer&quot;); //å°†å›¾å±‚æ·»åŠ åˆ°åœ°å›¾ map.addLayer(layer) //ç»™å±æ€§æŸ¥è¯¢æŒ‰é’®æ·»åŠ clickäº‹ä»¶ on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function(e)&#123; //å®šä¹‰æŸ¥è¯¢å¯¹è±¡ var queryTask = new QueryTask (&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer/1&quot;); //å®šä¹‰æŸ¥è¯¢å‚æ•°å¯¹è±¡ var query = new Query(); //æŸ¥è¯¢æ¡ä»¶ï¼Œç±»ä¼¼äºsqlè¯­å¥çš„whereå­å¥ query.where = &quot;name = &apos;J4&apos;&quot;;; //è¿”å›çš„å­—æ®µä¿¡æ¯ï¼š*ä»£è¡¨è¿”å›å…¨éƒ¨å­—æ®µ query.outFields = [&quot;*&quot;]; //æ˜¯å¦è¿”å›å‡ ä½•å½¢çŠ¶ query.returnGeometry = true; //æ‰§è¡Œå±æ€§æŸ¥è¯¢ queryTask.execute(query, showQueryResult); &#125;) //å±æ€§æŸ¥è¯¢å®Œæˆä¹‹åï¼Œç”¨showQueryResultæ¥å¤„ç†è¿”å›çš„ç»“æœ function showQueryResult(queryResult) &#123; //åˆ›å»ºçº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); //åˆ›å»ºé¢ç¬¦å· var fill=new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol); if (queryResult.features.length == 0) &#123; dom.byId(&quot;divShowResult&quot;).innerHTML = &quot;&quot;; return; &#125; var htmls = &quot;&quot;; if (queryResult.features.length &gt;= 1) &#123; htmls = htmls + &quot;&lt;table style=\\&quot;width: 100%\\&quot;&gt;&quot;; htmls = htmls + &quot;&lt;tr&gt;&lt;td&gt;åç§°&lt;/td&gt;&lt;/tr&gt;&quot;; for (var i = 0; i &lt; queryResult.features.length; i++) &#123; //è·å¾—å›¾å½¢graphic var graphic = queryResult.features[i]; //èµ‹äºˆç›¸åº”çš„ç¬¦å· graphic.setSymbol(fill); //å°†graphicæ·»åŠ åˆ°åœ°å›¾ä¸­ï¼Œä»è€Œå®ç°é«˜äº®æ•ˆæœ map.graphics.add(graphic); //è·å¾—æ•™å­¦æ¥¼åç§°ï¼ˆæ­¤å¤„æ˜¯å’Œshpå±æ€§è¡¨å¯¹åº”çš„ï¼‰ var ptName = graphic.attributes[&quot;alias&quot;]; if (i % 2 == 0) htmls = htmls + &quot;&lt;tr&gt;&quot;; else htmls = htmls + &quot;&lt;tr bgcolor=\\&quot;#F0F0F0\\&quot;&gt;&quot;; htmls = htmls + &quot;&lt;td&gt;&lt;a href=\\&quot;#\\&quot; \\&quot;&gt;&quot; + ptName + &quot;&lt;/a&gt;&lt;/td&gt;&quot;; htmls = htmls + &quot;&lt;/tr&gt;&quot;; &#125; htmls = htmls + &quot;&lt;/table&gt;&quot;; //å°†å±æ€§ç»‘å®šåœ¨divShowResultä¸Šé¢ dom.byId(&quot;divShowResult&quot;).innerHTML = htmls; &#125; &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;input type=&quot;button&quot; value=&quot;å±æ€§æŸ¥è¯¢&quot; id=&quot;Btn&quot;/&gt; &lt;div id=&quot;divShowResult&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; è¿è¡Œä¹‹åçš„ç»“æœï¼š åˆ©ç”¨IdentifyTaskå®ç°ç©ºé—´æŸ¥è¯¢IdentifyTaskçš„ä½¿ç”¨ä¸QueryTaskååˆ†ç±»ä¼¼ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯IdentifyTaskå¯ä»¥ä½œç”¨äºå¤šä¸ªå›¾å±‚ï¼Œè€ŒQueryTaskæ˜¯ä½œç”¨äºä¸€ä¸ªå›¾å±‚çš„ã€‚ å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;WebGIS&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:600px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/on&quot;, &quot;dojo/dom&quot;, &quot;esri/tasks/IdentifyTask&quot;, &quot;esri/tasks/IdentifyParameters&quot;, &quot;esri/toolbars/draw&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/graphic&quot;, &quot;dojo/domReady!&quot;], function (Map, ArcGISDynamicMapServiceLayer, on, dom, IdentifyTask, IdentifyParameters, Draw, SimpleFillSymbol, SimpleLineSymbol, Graphic ) &#123; var map = new Map(&quot;mapDiv&quot;); //åœ°å›¾æœåŠ¡çš„url MapServer = &quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer&quot;; //å®šä¹‰ä¸€ä¸ªåŠ¨æ€åœ°å›¾æœåŠ¡ var layer = new ArcGISDynamicMapServiceLayer(MapServer); map.addLayer(layer) //å®šä¹‰ç»˜å›¾å¯¹è±¡ var toolBar = new Draw(map); //ç»‘å®šç‚¹å‡»äº‹ä»¶ on(dom.byId(&quot;Btn&quot;),&quot;click&quot;,function(e)&#123; //æ¿€æ´»ç»˜å›¾å·¥å…·ï¼šç»˜åˆ¶é¢ toolBar.activate(esri.toolbars.Draw.POLYGON); &#125;) //ç»™ç»˜å›¾å·¥å…·ç»‘å®šç»˜å›¾å®Œæˆäº‹ä»¶ on(toolBar, &quot;draw-complete&quot;, function (result) &#123; //è·å¾—ç»˜å›¾å¾—åˆ°çš„é¢ var geometry=result.geometry; //å…³é—­ç»˜å›¾å·¥å…· toolBar.deactivate(); //æ‰§è¡Œç©ºé—´æŸ¥è¯¢ identifyQuery(geometry); &#125;); function identifyQuery(geometry) &#123; //å®šä¹‰ç©ºé—´æŸ¥è¯¢å¯¹è±¡ï¼Œæ³¨æ„ä»–çš„å‚æ•°æ˜¯æ•´ä¸ªåœ°å›¾æœåŠ¡ï¼Œè€Œä¸æ˜¯å•ä¸ªå›¾å±‚ var identifyTask = new IdentifyTask(MapServer); //å®šä¹‰ç©ºé—´æŸ¥è¯¢å‚æ•°å¯¹è±¡ var params = new IdentifyParameters(); //å®¹å·® params.tolerance = 5; //æ˜¯å¦è¿”å›å‡ ä½•ä¿¡æ¯ params.returnGeometry = true; //ç©ºé—´æŸ¥è¯¢çš„å›¾å±‚ï¼Œæ­¤æ—¶æ˜¯ä¸¤ä¸ªå›¾å±‚ params.layerIds = [1,3]; //ç©ºé—´æŸ¥è¯¢çš„æ¡ä»¶ params.layerOption = IdentifyParameters.LAYER_OPTION_ALL; params.width = map.width; params.height = map.height; //ç©ºé—´æŸ¥è¯¢çš„å‡ ä½•å¯¹è±¡ params.geometry = geometry; params.mapExtent = map.extent; //æ‰§è¡Œç©ºé—´æŸ¥è¯¢ identifyTask.execute(params,showQueryResult); &#125; //é€šè¿‡æ­¤å‡½æ•°å¤„ç†æŸ¥è¯¢ä¹‹åçš„ä¿¡æ¯ function showQueryResult(idResults) &#123; //åˆ›å»ºçº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); //åˆ›å»ºé¢ç¬¦å· var fill=new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol); if (idResults.length &gt; 0) &#123; var htmls = &quot;&lt;table style=\\&quot;width: 100%\\&quot;&gt;&quot;; htmls = htmls + &quot;&lt;tr bgcolor=\\&quot;#E0E0E0\\&quot;&gt;&lt;td&gt; å›¾å±‚ &lt;/td&gt;&lt;td&gt; å ç§°&lt;/td&gt;&lt;/tr&gt;&quot;; for (var i = 0; i &lt; idResults.length; i++) &#123; var result = idResults[i]; //è·å¾—å›¾å½¢graphic var graphic = result.feature; //è®¾ç½®å›¾å½¢çš„ç¬¦å· graphic.setSymbol(fill); //è·å¾—æ•™å­¦æ¥¼çš„åç§°ä¿¡æ¯ var namevalue = result.feature.attributes.alias; if (i % 2 == 1) &#123; htmls = htmls + &quot;&lt;tr bgcolor=\\&quot;#E0E0E0\\&quot;&gt;&lt;td&gt;&quot; + result.layerName + &quot;&lt;/td&gt;&lt;td&gt;&quot; + namevalue + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;; &#125; else &#123; htmls = htmls + &quot;&lt;tr&gt;&lt;td&gt;&quot; + result.layerName + &quot;&lt;/td&gt;&lt;td&gt;&quot; + namevalue + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;; &#125; map.graphics.add(graphic); &#125; htmls = htmls + &quot;&lt;/table&gt;&quot;; document.getElementById(&quot;divShowResult&quot;).innerHTML = htmls; &#125; else &#123; document.getElementById(&quot;divShowResult&quot;).innerHTML = &quot;&quot;; &#125; &#125; &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;input type=&quot;button&quot; value=&quot;ç©ºé—´æŸ¥è¯¢---å¤šè¾¹å½¢&quot; id=&quot;Btn&quot;/&gt; &lt;div id=&quot;divShowResult&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; è¿è¡Œä¹‹åçš„ç»“æœï¼š","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javascriptä¹‹GraphicsLayer","slug":"ArcGIS-API-for-JS13","date":"2019-08-06T07:10:35.000Z","updated":"2022-11-02T11:15:20.489Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS13/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS13/","excerpt":"","text":"åœ¨ArcGIS APIä¸­æœ‰ä¸€ç§å›¾å±‚å«åšGraphicsLayerï¼ŒGraphicsLayeræ˜¯ä¸€ç§å®¢æˆ·ç«¯å›¾å±‚ï¼ŒGraphicsLayerä¸­çš„å›¾å½¢æˆ‘ä»¬ç§°ä½œGraphicï¼Œå®ƒå¯¹åº”ç€ esri/graphicï¼Œä¸€ä¸ªGraphicå¯¹è±¡ç”±å››éƒ¨åˆ†ç»„æˆï¼šgeometry,symbol,attribute,infoTemplateç»„æˆï¼ŒGraphicå¯¹è±¡åœ¨æˆ‘ä»¬å¼€å‘ä¸­ç”¨åˆ°çš„éå¸¸å¤šã€‚ä¾‹å¦‚ï¼šåˆ©ç”¨Graphicå®ç°å›¾å½¢çš„é«˜äº®æ˜¾ç¤ºç­‰ç­‰ã€‚ éœ€æ±‚æ ¹æ®å…·ä½“åæ ‡ç”ŸæˆGraphicåœ¨æˆ‘ä»¬çš„å®é™…å¼€å‘å½“ä¸­å¯èƒ½ä¼šå­˜åœ¨è¿™æ ·çš„éœ€æ±‚ï¼šæ ¹æ®åæ ‡ä»¥åŠå½¢çŠ¶ç”Ÿæˆç›¸åº”çš„å›¾å½¢ç„¶ååœ¨åœ°å›¾æ˜¾ç¤ºå‡ºæ¥åœ¨ä¸Šé¢è¯´è¿‡ä¸€ä¸ªGraphicç”±å››éƒ¨åˆ†ç»„æˆï¼Œåœ¨éœ€æ±‚ä¸­æˆ‘ä»¬å·²ç»çŸ¥é“åæ ‡å½¢çŠ¶ï¼Œå³å·²ç»çŸ¥é“äº†geometry,å› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥æ ¹æ®åæ ‡ç”Ÿæˆç›¸åº”çš„geometryï¼Œä»è€Œåˆ›å»ºGraphicï¼Œç„¶åæ·»åŠ åˆ°åœ°å›¾ä¸­æ¥ã€‚ ä»£ç å®ç°æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªhtmlé¡µé¢ï¼Œå¼•å…¥ç›¸åº”çš„æ–‡ä»¶å°†åœ°å›¾åŠ è½½è¿›æ¥1234567891011121314151617181920212223242526272829&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Graphic&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style&gt; .MapClass&#123; width:100%; height:500px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script&gt; require([&quot;esri/map&quot;,&quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/domReady!&quot;],function(Map,ArcGISDynamicMapServiceLayer)&#123; var map = new Map(&quot;mapDiv&quot;); var layer = new ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer&quot;); map.addLayer(layer); &#125;) &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; åˆ›å»ºå››ä¸ªæŒ‰é’®ï¼Œå°†å››ç±»ä¸åŒçš„Graphicæ·»åŠ åˆ°GraphicsLayerä¸­1234&lt;button&gt;æ·»åŠ ç‚¹&lt;/button&gt;&lt;button&gt;æ·»åŠ çº¿&lt;/button&gt;&lt;button&gt;æ·»åŠ é¢&lt;/button&gt;&lt;button&gt;æ·»åŠ åœ†&lt;/button&gt; å¼•å…¥ç›¸åº”çš„æ¨¡å—ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼šdojo/onï¼ˆç”¨äºç»‘å®šäº‹ä»¶çš„æ¨¡å—ï¼‰esri/symbols/SimpleMarkerSymbolï¼ˆç‚¹ç¬¦å·ç±»ï¼‰esri/symbols/SimpleLineSymbolï¼ˆçº¿ç¬¦å·ç±»ï¼‰esri/symbols/SimpleFillSymbolï¼ˆé¢ç¬¦å·ç±»ï¼‰esri/geometry/Pointï¼ˆç‚¹ç±»ï¼‰esri/geometry/Polylineï¼ˆæŠ˜çº¿ç±»ï¼‰esri/geometry/Polygonï¼ˆé¢ç±»ï¼‰esri/geometry/Circleï¼ˆåœ†ç±»ï¼‰dojo/queryï¼ˆdojoçš„é€‰æ‹©å™¨ï¼Œç”¨äºé€‰æ‹©DOMå…ƒç´ ï¼‰esri/graphicï¼ˆå›¾å½¢ç±»ï¼‰esri/layers/GraphicsLayerï¼ˆå®¢æˆ·ç«¯å›¾å±‚ç±»ï¼‰ä¸ºç›¸åº”çš„æŒ‰é’®æ·»åŠ ç»‘å®šäº‹ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778//åˆ›å»ºå®¢æˆ·ç«¯å›¾å±‚var graphicsLayer=new GraphicsLayer();//å°†å®¢æˆ·ç«¯å›¾å±‚æ·»åŠ åˆ°åœ°å›¾ä¸­map.addLayer(graphicsLayer);//é€šè¿‡queryæŸ¥è¯¢åˆ°buttonå¯¹è±¡var btns=query(&quot;button&quot;);on(btns,&quot;click&quot;,function(event)&#123; //è·å¾—æŒ‰é’®çš„æ–‡æœ¬ var text=this.innerHTML; //å®šä¹‰çº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //å®šä¹‰ç‚¹ç¬¦å·l var pSymbol=new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CIRCLE,10, lineSymbol, new Color([255, 0, 0])); //å®šä¹‰é¢ç¬¦å· var fill=SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([255, 0, 0])); //å£°æ˜ä¸€ä¸ªç±»å‹å’Œå›¾å½¢ var geometry; var graphic; //æ ¹æ®æ–‡æœ¬å®šä¹‰ç›¸åº”çš„geometry switch(text) &#123; case &quot;æ·»åŠ ç‚¹&quot;: geometry=new Point(&#123; &quot;x&quot;:510706, &quot;y&quot;:3986100, &quot;spatialReference&quot;:map.spatialReference &#125;); graphic=new Graphic(geometry,pSymbol); break; case &quot;æ·»åŠ çº¿&quot;: //ç‚¹çš„åæ ‡å¯¹ var paths=[]; paths[0]=[ [510326,3985702], [510994, 3985676], [511078, 3985903], [510433, 3985928] ]; geometry=new Polyline(&#123; &quot;paths&quot;:paths, &quot;spatialReference&quot;:map.spatialReference &#125;) graphic=new Graphic(geometry,lineSymbol); break; case &quot;æ·»åŠ é¢&quot;: //ç‚¹çš„åæ ‡å¯¹ var ring=[]; ring[0]=[ [510275, 3986100], [510508, 3986162], [510596, 3986032], [510271, 3985847], [510275, 3986100] ]; geometry=new Polygon(&#123; &quot;rings&quot;:ring, &quot;spatialReference&quot;:map.spatialReference &#125;); graphic=new Graphic(geometry,fill); break; case &quot;æ·»åŠ åœ†&quot;: //åœ†å¿ƒ var p=new Point(&#123; &quot;x&quot;:510706, &quot;y&quot;:3986100, &quot;spatialReference&quot;:map.spatialReference &#125;); //åŠå¾„ var r=20; geometry=new Circle(p,&#123; &quot;radius&quot;:r &#125;); graphic=new Graphic(geometry,fill); break; &#125; //å°†å›¾å½¢æ·»åŠ åˆ°å›¾å±‚ä¸­ graphicsLayer.add(graphic); å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Graphic&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style&gt; .MapClass&#123; width:100%; height:500px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script&gt; require([&quot;esri/map&quot;,&quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/layers/GraphicsLayer&quot;, &quot;dojo/on&quot;,&quot;dojo/query&quot;,&quot;dojo/colors&quot;, &quot;esri/graphic&quot;,&quot;esri/symbols/SimpleMarkerSymbol&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/geometry/Point&quot;, &quot;esri/geometry/Polyline&quot;,&quot;esri/geometry/Polygon&quot;, &quot;esri/geometry/Circle&quot;, &quot;dojo/domReady!&quot;], function(Map,ArcGISDynamicMapServiceLayer, GraphicsLayer,on,query,Color,Graphic, SimpleMarkerSymbol,SimpleLineSymbol, SimpleFillSymbol,Point,Polyline,Polygon,Circle)&#123; var map = new Map(&quot;mapDiv&quot;); var layer = new ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer&quot;); map.addLayer(layer); //åˆ›å»ºå®¢æˆ·ç«¯å›¾å±‚ var graphicsLayer=new GraphicsLayer(); //å°†å®¢æˆ·ç«¯å›¾å±‚æ·»åŠ åˆ°åœ°å›¾ä¸­ map.addLayer(graphicsLayer); //é€šè¿‡queryæŸ¥è¯¢åˆ°buttonå¯¹è±¡ var btns=query(&quot;button&quot;); on(btns,&quot;click&quot;,function(event)&#123; //è·å¾—æŒ‰é’®çš„æ–‡æœ¬ var text=this.innerHTML; //å®šä¹‰çº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //å®šä¹‰ç‚¹ç¬¦å·l var pSymbol=new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CIRCLE,10, lineSymbol, new Color([255, 0, 0])); //å®šä¹‰é¢ç¬¦å· var fill=SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new Color([255, 0, 0])); //å£°æ˜ä¸€ä¸ªç±»å‹å’Œå›¾å½¢ var geometry; var graphic; //æ ¹æ®æ–‡æœ¬å®šä¹‰ç›¸åº”çš„geometry switch(text) &#123; case &quot;æ·»åŠ ç‚¹&quot;: geometry=new Point(&#123; &quot;x&quot;:510706, &quot;y&quot;:3986100, &quot;spatialReference&quot;:map.spatialReference &#125;); graphic=new Graphic(geometry,pSymbol); break; case &quot;æ·»åŠ çº¿&quot;: //ç‚¹çš„åæ ‡å¯¹ var paths=[]; paths[0]=[ [510326,3985702], [510994, 3985676], [511078, 3985903], [510433, 3985928] ]; geometry=new Polyline(&#123; &quot;paths&quot;:paths, &quot;spatialReference&quot;:map.spatialReference &#125;) graphic=new Graphic(geometry,lineSymbol); break; case &quot;æ·»åŠ é¢&quot;: //ç‚¹çš„åæ ‡å¯¹ var ring=[]; ring[0]=[ [510275, 3986100], [510508, 3986162], [510596, 3986032], [510271, 3985847], [510275, 3986100] ]; geometry=new Polygon(&#123; &quot;rings&quot;:ring, &quot;spatialReference&quot;:map.spatialReference &#125;); graphic=new Graphic(geometry,fill); break; case &quot;æ·»åŠ åœ†&quot;: //åœ†å¿ƒ var p=new Point(&#123; &quot;x&quot;:510706, &quot;y&quot;:3986100, &quot;spatialReference&quot;:map.spatialReference &#125;); //åŠå¾„ var r=20; geometry=new Circle(p,&#123; &quot;radius&quot;:r &#125;); graphic=new Graphic(geometry,fill); break; &#125; //å°†å›¾å½¢æ·»åŠ åˆ°å›¾å±‚ä¸­ graphicsLayer.add(graphic); &#125;) &#125;) &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;button&gt;æ·»åŠ ç‚¹&lt;/button&gt; &lt;button&gt;æ·»åŠ çº¿&lt;/button&gt; &lt;button&gt;æ·»åŠ é¢&lt;/button&gt; &lt;button&gt;æ·»åŠ åœ†&lt;/button&gt;&lt;/body&gt;&lt;/html&gt; ä»£ç è§£é‡Š æˆ‘ä»¬åˆ©ç”¨dojo/queryæŸ¥è¯¢åˆ°æ‰€æœ‰çš„buttonå¯¹è±¡ï¼Œåˆ©ç”¨dojo/onæ¨¡å—ç»™æ‰€æœ‰çš„buttonå¯¹è±¡ç»‘å®šäº‹ä»¶ã€‚ åœ¨æ­¤ä¾‹å­ä¸­ï¼Œæœ‰ä¸€ä¸ªç¼ºç‚¹ï¼šä¾¿æ˜¯å°†ç‚¹çš„åæ ‡å†™æ­»äº†ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†ç‚¹çš„åæ ‡å­˜æ”¾åœ¨ä¸€ä¸ªjsonæ–‡ä»¶ä¸­ï¼Œä»è€Œè¯»å–æ–‡ä»¶ç”Ÿæˆç›¸åº”çš„ç‚¹åæ ‡ GraphicsLayerçš„å±æ€§æŸ¥è¯¢åœ¨å‰é¢æˆ‘ä»¬æåˆ°è¿‡ï¼ŒGraphicæ˜¯å¯ä»¥å­˜åœ¨å±æ€§çš„ï¼Œåœ¨å®é™…å¼€å‘å½“ä¸­ï¼Œæœ‰æ—¶æˆ‘ä»¬éœ€è¦å°†ç›¸åº”çš„å±æ€§æŸ¥è¯¢å‡ºæ¥ï¼Œåœ¨æ­¤æ—¶æˆ‘æä¾›ä¸€ä¸ªç®€å•çš„æ–¹æ³•ï¼Œä¾¿æ˜¯æ ¹æ® GraphicsLayerçš„ç‚¹å‡»äº‹ä»¶æ¥æŸ¥è¯¢Graphicçš„å±æ€§ã€‚ ä»£ç å®ç°é¦–å…ˆæˆ‘ä»¬æ·»åŠ ä¸€ç³»åˆ—å¸¦æœ‰å±æ€§çš„Graphicï¼ˆæ­¤å¤„æˆ‘ä»¬åªç”¨ç‚¹å›¾å½¢ä¾¿å¯ä»¥ï¼‰123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051//åˆ›å»ºå®¢æˆ·ç«¯å›¾å±‚ var graphicsLayer=new GraphicsLayer(); //å°†å®¢æˆ·ç«¯å›¾å±‚æ·»åŠ åˆ°åœ°å›¾ä¸­ map.addLayer(graphicsLayer); //æ·»åŠ ç‚¹å›¾å½¢çš„å‡½æ•° function addGraphic() &#123; //å®šä¹‰çº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //å®šä¹‰ç‚¹ç¬¦å·l var pSymbol=new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CIRCLE,10, lineSymbol, new Color([255, 0, 0])); //å£°æ˜å½¢çŠ¶ var geometry; //å£°æ˜å’Œå›¾å½¢ var graphic; //æ·»åŠ ç¬¬ä¸€ä¸ªç‚¹å›¾å½¢ geometry=new Point(&#123; &quot;x&quot;:510706, &quot;y&quot;:3986100, &quot;spatialReference&quot;:map.spatialReference, attributes:&#123; &quot;h&quot;:100 &#125; &#125;); graphic=new Graphic(geometry,pSymbol); graphicsLayer.add(graphic); //æ·»åŠ ç¬¬äºŒä¸ªç‚¹å›¾å½¢ geometry=new Point(&#123; &quot;x&quot;:510326, &quot;y&quot;:3985702, &quot;spatialReference&quot;:map.spatialReference, attributes:&#123; &quot;h&quot;:200 &#125; &#125;); graphic=new Graphic(geometry,pSymbol); graphicsLayer.add(graphic); //æ·»åŠ ç¬¬ä¸‰ä¸ªç‚¹å›¾å½¢ geometry=new Point(&#123; &quot;x&quot;:510275, &quot;y&quot;:3986100, &quot;spatialReference&quot;:map.spatialReference, attributes:&#123; &quot;h&quot;:300 &#125; &#125;); graphic=new Graphic(geometry,pSymbol); graphicsLayer.add(graphic); &#125; //è°ƒç”¨æ·»åŠ ç‚¹å›¾å½¢çš„å‡½æ•° addGraphic(); ç»™GraphicsLayerç»‘å®šç›¸åº”çš„äº‹ä»¶12345//ç»‘å®šäº‹ä»¶ on(graphicsLayer,&quot;click&quot;,function(event)&#123; var graphic=event.graphic; alert(graphic.attributes[&quot;h&quot;]); &#125;) å…¨éƒ¨ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Graphic&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style&gt; .MapClass&#123; width:100%; height:500px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script&gt; require([&quot;esri/map&quot;,&quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/layers/GraphicsLayer&quot;, &quot;dojo/on&quot;,&quot;dojo/query&quot;,&quot;dojo/colors&quot;, &quot;esri/graphic&quot;,&quot;esri/symbols/SimpleMarkerSymbol&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/geometry/Point&quot;, &quot;dojo/domReady!&quot;], function(Map,ArcGISDynamicMapServiceLayer, GraphicsLayer,on,query,Color,Graphic, SimpleMarkerSymbol,SimpleLineSymbol,Point)&#123; var map = new Map(&quot;mapDiv&quot;); var layer = new ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer&quot;); map.addLayer(layer); //åˆ›å»ºå®¢æˆ·ç«¯å›¾å±‚ var graphicsLayer=new GraphicsLayer(); //å°†å®¢æˆ·ç«¯å›¾å±‚æ·»åŠ åˆ°åœ°å›¾ä¸­ map.addLayer(graphicsLayer); //æ·»åŠ ç‚¹å›¾å½¢çš„å‡½æ•° function addGraphic() &#123; //å®šä¹‰çº¿ç¬¦å· var lineSymbol=new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new Color([255, 0, 0]), 3); //å®šä¹‰ç‚¹ç¬¦å·l var pSymbol=new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CIRCLE,10, lineSymbol, new Color([255, 0, 0])); //å£°æ˜å½¢çŠ¶ var geometry; //å£°æ˜å’Œå›¾å½¢ var graphic; //æ·»åŠ ç¬¬ä¸€ä¸ªç‚¹å›¾å½¢ geometry=new Point(&#123; &quot;x&quot;:510706, &quot;y&quot;:3986100, &quot;spatialReference&quot;:map.spatialReference, attributes:&#123; &quot;h&quot;:100 &#125; &#125;); graphic=new Graphic(geometry,pSymbol); graphicsLayer.add(graphic); //æ·»åŠ ç¬¬äºŒä¸ªç‚¹å›¾å½¢ geometry=new Point(&#123; &quot;x&quot;:510326, &quot;y&quot;:3985702, &quot;spatialReference&quot;:map.spatialReference, attributes:&#123; &quot;h&quot;:200 &#125; &#125;); graphic=new Graphic(geometry,pSymbol); graphicsLayer.add(graphic); //æ·»åŠ ç¬¬ä¸‰ä¸ªç‚¹å›¾å½¢ geometry=new Point(&#123; &quot;x&quot;:510275, &quot;y&quot;:3986100, &quot;spatialReference&quot;:map.spatialReference, attributes:&#123; &quot;h&quot;:300 &#125; &#125;); graphic=new Graphic(geometry,pSymbol); graphicsLayer.add(graphic); &#125; //è°ƒç”¨æ·»åŠ ç‚¹å›¾å½¢çš„å‡½æ•° addGraphic(); //ç»‘å®šäº‹ä»¶ on(graphicsLayer,&quot;click&quot;,function(event)&#123; var graphic=event.graphic; alert(graphic.attributes[&quot;h&quot;]); &#125;) &#125;) &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; ä»£ç è§£é‡Š éœ€è¦æ³¨æ„çš„æ˜¯graphicsLayerçš„äº‹ä»¶æœºåˆ¶æ˜¯é’ˆå¯¹äºgraphicå›¾å½¢çš„,ä¹Ÿå°±æ˜¯å½“å›¾å½¢graphicè¢«ç‚¹å‡»æ—¶è¢«è§¦å‘ï¼Œæ­¤æ—¶å›è°ƒå‡½æ•°ä¹Ÿä¼šå°†é‚£ä¸ªå›¾å½¢è¢«ç‚¹å‡»ä¼ ç»™æˆ‘ä»¬ï¼Œä»è€Œå¾—åˆ°å›¾å½¢çš„å±æ€§ æœ‰çš„åŒå­¦ä¸å¤ªå–œæ¬¢æ–°å»ºä¸€ä¸ªgraphicsLayer,è€Œæ˜¯ä½¿ç”¨map.graphics.add()æ–¹æ³•æ·»åŠ ä¸€ä¸ªå›¾å½¢graphicï¼Œå…¶å®åŸç†æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºmapæœ¬èº«æœ‰ä¸€ä¸ªé»˜è®¤çš„graphicsLayerå³ï¼šmap.graphicsè¿”å›çš„ä¾¿æ˜¯ä¸€ä¸ªgraphicsLayerå¯¹è±¡ åœ¨æ­¤ä»£ç å½“ä¸­æˆ‘ä»¬åªæ˜¯å°†è·å¾—åˆ°çš„å±æ€§ä¿¡æ¯alertäº†ä¸€ä¸‹ï¼Œåœ¨çœŸå®éœ€æ±‚å½“ä¸­æˆ‘ä»¬å¯èƒ½ä¼šåˆ©ç”¨ç›¸åº”çš„å±æ€§ä¿¡æ¯åšå¾ˆå¤šçš„äº‹æƒ…ã€‚ å®ç°ç”¨æˆ·äº¤äº’ç”»å›¾ï¼ˆDrawå·¥å…·ï¼‰åœ¨éƒ¨åˆ†é¡¹ç›®ä¸­ï¼Œæœ‰è¿™ä¹ˆä¸€ä¸ªéœ€æ±‚ï¼šè®©ç”¨æˆ·åœ¨åœ°å›¾ä¸Šè‡ªå·±ç»˜åˆ¶ä¸€ä¸ªå›¾å½¢ï¼Œç„¶åå°†å›¾å½¢æ·»åŠ åˆ°åœ°å›¾å½“ä¸­ï¼Œè¦å®ç°è¿™ä¸ªåŠŸèƒ½æˆ‘ä»¬éœ€è¦å€ŸåŠ©esriæä¾›ç»™æˆ‘ä»¬çš„å·¥å…·æ¡å®ç°ï¼šesri/toolbars/drawï¼Œåˆ©ç”¨è¯¥å·¥å…·æ¡æˆ‘ä»¬å¯ä»¥å¾—åˆ°ç”¨æˆ·äº¤äº’ç”»å‡ºæ¥çš„geometry,ä»è€Œæ ¹æ®geometryç”Ÿæˆç›¸åº”çš„graphicï¼Œä½¿ç”¨è¯¥å·¥å…·çš„ä¸€èˆ¬æ­¥éª¤ä¸ºï¼š 1.åˆ›å»ºç»˜å›¾å¯¹è±¡2.æ¿€æ´»ç»˜å›¾å·¥å…·3.å¾—åˆ°å›¾å½¢Geometry4.åˆ›å»ºGraphic5.æ·»åŠ åˆ°åœ°å›¾ ä»£ç å®ç°åˆ›å»º5ä¸ªbuttonï¼ˆå’Œç¬¬ä¸€ä¸ªä¾‹å­ä¸€æ ·ï¼‰åˆ›å»ºç»˜å›¾å¯¹è±¡1var toolbar = new Draw(map, &#123; showTooltips: true &#125;); ç»™æ¯ä¸€ä¸ªbuttonç»‘å®šç›¸åº”çš„äº‹ä»¶ï¼ˆæ¿€æ´»ç»˜å›¾å·¥å…·ï¼‰123456789101112131415161718192021222324252627282930313233343536373839404142query(&quot;button&quot;).on(&quot;click&quot;,function(event)&#123; var value=this.innerHTML; switch(value)&#123; case &quot;ç»˜åˆ¶ç‚¹&quot;:&#123; //æ¿€æ´»ç»˜å›¾å·¥å…·ï¼ˆç”»ç‚¹ï¼‰ toolbar.activate(Draw.POINT, &#123; showTooltips:true &#125;) break; &#125; case &quot;ç»˜åˆ¶æŠ˜çº¿&quot;:&#123; //æ¿€æ´»ç»˜å›¾å·¥å…·ï¼ˆç”»æŠ˜çº¿ï¼‰ toolbar.activate(Draw.POLYLINE, &#123; showTooltips:true &#125;) break; &#125; case &quot;ç»˜åˆ¶é¢&quot;:&#123; //æ¿€æ´»ç»˜å›¾å·¥å…·ï¼ˆç»˜åˆ¶é¢ï¼‰ toolbar.activate(Draw.POLYGON, &#123; showTooltips:true &#125;) break; &#125; case &quot;å¾’æ‰‹çº¿&quot;:&#123; //æ¿€æ´»ç»˜å›¾å·¥å…·ï¼ˆå¾’æ‰‹çº¿ï¼‰ toolbar.activate(Draw.FREEHAND_POLYLINE, &#123; showTooltips:true &#125;) break; &#125; case &quot;å¾’æ‰‹é¢&quot;:&#123; //æ¿€æ´»ç»˜å›¾å·¥å…·ï¼ˆå¾’æ‰‹é¢ï¼‰ toolbar.activate(Draw.FREEHAND_POLYGON, &#123; showTooltips:true &#125;) break; &#125; &#125; &#125;); ç»™ç»˜å›¾å·¥å…·ç»‘å®šç»˜å›¾å®Œæˆäº‹ä»¶123456789101112131415161718192021222324on(toolbar,&quot;draw-complete&quot;, function (result) &#123; //è·å¾—å‡ ä½•å½¢çŠ¶ var geometry=result.geometry; //è·å¾—å½¢çŠ¶çš„ç±»å‹ var type=geometry.type; //å£°æ˜å›¾å½¢å¯¹è±¡ var graphic; //é€šè¿‡å‡ ä½•å½¢çŠ¶çš„ç±»å‹ï¼Œåˆ›å»ºä¸åŒçš„å›¾å½¢ switch (type) &#123; case &quot;point&quot;: graphic= new Graphic(geometry, marker); break; case &quot;polyline&quot;: graphic= new Graphic(geometry, lineSymbol); break; case &quot;polygon&quot;: graphic= new Graphic(geometry, fill); break; &#125; map.graphics.add(graphic); //å…³æ‰ç»˜å›¾å·¥å…· toolbar.deactivate();&#125;); å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;WebGIS&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:500px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;,&quot;dojo/dom&quot;,&quot;dojo/on&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/query&quot;,&quot;esri/toolbars/draw&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;,&quot;esri/graphic&quot;,&quot;esri/symbols/SimpleMarkerSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;,&quot;dojo/domReady!&quot;], function (Map,dom,on, ArcGISDynamicMapServiceLayer,query, Draw, SimpleLineSymbol,Graphic,SimpleMarkerSymbol,SimpleFillSymbol) &#123; var map = new esri.Map(&quot;MyMapDiv&quot;); var layer = new ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer&quot;); map.addLayer(layer) var toolbar = new Draw(map, &#123; showTooltips: true &#125;); var lineSymbol = new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASH, new dojo.Color([255, 0, 0]), 3); var marker= new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CIRCLE,10, lineSymbol, new dojo.Color([255, 0, 0])); var fill= new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, lineSymbol, new dojo.Color([255, 0, 0])); on(toolbar,&quot;draw-complete&quot;, function (result) &#123; var geometry=result.geometry; var type=geometry.type; var graphic; switch (type) &#123; case &quot;point&quot;: graphic= new Graphic(geometry, marker); break; case &quot;polyline&quot;: graphic= new Graphic(geometry, lineSymbol); break; case &quot;polygon&quot;: graphic= new Graphic(geometry, fill); break; &#125; map.graphics.add(graphic); toolbar.deactivate(); &#125;); query(&quot;button&quot;).on(&quot;click&quot;,function(event)&#123; var value=this.innerHTML; switch(value)&#123; case &quot;ç»˜åˆ¶ç‚¹&quot;:&#123; toolbar.activate(Draw.POINT, &#123; showTooltips:true &#125;) break; &#125; case &quot;ç»˜åˆ¶æŠ˜çº¿&quot;:&#123; toolbar.activate(Draw.POLYLINE, &#123; showTooltips:true &#125;) break; &#125; case &quot;ç»˜åˆ¶é¢&quot;:&#123; toolbar.activate(Draw.POLYGON, &#123; showTooltips:true &#125;) break; &#125; case &quot;å¾’æ‰‹çº¿&quot;:&#123; toolbar.activate(Draw.FREEHAND_POLYLINE, &#123; showTooltips:true &#125;) break; &#125; case &quot;å¾’æ‰‹é¢&quot;:&#123; toolbar.activate(Draw.FREEHAND_POLYGON, &#123; showTooltips:true &#125;) break; &#125; &#125; &#125;); &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;MyMapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;button&gt;ç»˜åˆ¶ç‚¹&lt;/button&gt; &lt;button&gt;ç»˜åˆ¶æŠ˜çº¿&lt;/button&gt; &lt;button&gt;ç»˜åˆ¶é¢&lt;/button&gt; &lt;button&gt;å¾’æ‰‹çº¿&lt;/button&gt; &lt;button&gt;å¾’æ‰‹é¢&lt;/button&gt;&lt;/body&gt;&lt;/html&gt; ä»£ç è§£é‡Š åœ¨ä½¿ç”¨ç»˜å›¾å·¥å…·æ—¶ï¼Œæœ€ä¸»è¦çš„ä¸åŒä¸ºï¼šåœ¨æ¿€æ´»ç»˜å›¾å·¥å…·æ—¶çš„èµ‹äºˆçš„å‚æ•°çš„ä¸åŒã€‚ graphicåªæ˜¯å®¢æˆ·ç«¯å›¾å½¢ï¼Œå¹¶ä¸æ”¹å˜æœåŠ¡æœ¬èº«ï¼Œå¦‚æœæƒ³è¦æ”¹å˜æœåŠ¡æœ¬èº«çš„æ•°æ®ï¼Œéœ€è¦ä½¿ç”¨è¦ç´ æœåŠ¡ï¼Œç”¨åˆ°esri/toolbars/Editå·¥å…·ã€‚ æ€»ç»“é€šè¿‡ä¸Šé¢å‡ ä¸ªéœ€æ±‚å¾—çŸ¥ï¼Œåœ¨ç”Ÿæˆgraphicæ—¶ï¼Œæœ€ä¸»è¦æ˜¯æœ‰ç”¨è¿™ä¸ªå›¾å½¢çš„å‡ ä½•ä¿¡æ¯ï¼Œå‡ ä½•ä¿¡æ¯å¯ä»¥é€šè¿‡å¤šæ–¹é¢è·å¾—ï¼Œä¾‹å¦‚ï¼š é€šè¿‡å…·ä½“çš„åæ ‡ç”Ÿæˆgeometryï¼ˆå®ç°ï¼‰ é€šè¿‡drawå·¥å…·åŠ¨æ€è·å¾—geometryï¼ˆå®ç°ï¼‰ æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡mapçš„ç‚¹å‡»äº‹ä»¶è·å¾—ç‚¹çš„geometryï¼ˆå¯ä»¥å°è¯•è‡ªå·±å®ç°ï¼‰ã€‚ ä¸€æ—¦æ‹¥æœ‰äº†å›¾å½¢çš„å‡ ä½•ä¿¡æ¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åˆ›å»ºgraphicï¼Œä»è€Œæ·»åŠ åˆ°åœ°å›¾ä¸­æ¥","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javascriptä¹‹åœ°å›¾æ“ä½œåŠå°éƒ¨ä»¶","slug":"ArcGIS-API-for-JS12","date":"2019-08-06T06:22:30.000Z","updated":"2022-11-02T11:15:20.489Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS12/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS12/","excerpt":"","text":"å¼€å‘ä¸€ä¸ªGISç³»ç»Ÿä¸å¯é¿å…çš„å°±è¦æ¶‰åŠä¸€äº›ç®€å•çš„åœ°å›¾æ“ä½œï¼Œæ¯”å¦‚ï¼šæ‹‰æ¡†æ”¾å¤§ï¼Œæ‹‰æ¡†ç¼©å°ï¼Œå¹³ç§»ï¼Œå…¨å›¾ç­‰ç›¸å…³æ“ä½œã€‚é™¤äº†è¿™äº›åŸºæœ¬çš„åœ°å›¾æ“ä½œï¼ŒEsriç»™æˆ‘ä»¬æä¾›çš„ä¸€äº›å°éƒ¨ä»¶ä¹Ÿéå¸¸æœ‰ç”¨ï¼Œå…¶ä¸­å‡ ä¸ªé‡è¦çš„å°éƒ¨ä»¶æœ‰ï¼šé¹°çœ¼ï¼Œä¹¦ç­¾ï¼Œæ¯”ä¾‹å°ºç­‰ç­‰ã€‚åœ¨æ­¤ç¯‡åšæ–‡ä¸­ï¼Œä¸»è¦ä»‹ç»åœ°å›¾çš„åŸºæœ¬æ“ä½œå’Œå‡ ä¸ªå¸¸ç”¨çš„å°éƒ¨ä»¶ã€‚ åœ°å›¾çš„åŸºæœ¬æ“ä½œåœ¨ArcGIS APIä¸­ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç±»å«åšNavigationï¼Œé€šè¿‡è¿™ä¸ªç±»æˆ‘ä»¬å¯ä»¥å®ç°å¯¹åœ°å›¾çš„åŸºæœ¬æ“ä½œï¼ŒNavigationç±»çš„ç”¨æ³•å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š åˆ›å»ºNavigationå¯¹è±¡ æ¿€æ´»Navigationçš„ç›¸åº”çŠ¶æ€ åœ°å›¾æ“ä½œä»£ç å®ç°åˆ›å»ºäº”ä¸ªæŒ‰é’®12345&lt;button&gt;æ‹‰æ¡†æ”¾å¤§&lt;/button&gt;&lt;button&gt;æ‹‰æ¡†ç¼©å°&lt;/button&gt;&lt;button&gt;å¹³ç§»&lt;/button&gt;&lt;button&gt;å…¨å›¾&lt;/button&gt;&lt;button&gt;æ¼«æ¸¸&lt;/button&gt; æ·»åŠ åœ°å›¾ï¼ˆçœç•¥ï¼‰ç»™ç›¸åº”æŒ‰é’®æ·»åŠ ç»‘å®šäº‹1234567891011121314151617181920212223//ç»™æŒ‰é’®æ·»åŠ ç»‘å®šäº‹ä»¶query(&quot;button&quot;).on(&quot;click&quot;,function(event)&#123; //è·å¾—æŒ‰é’®çš„æ–‡æœ¬ä¿¡æ¯ var value=this.innerHTML; switch(value)&#123; case &quot;å¹³ç§»&quot;: navToolbar.activate(Navigation.PAN); break; case &quot;æ‹‰æ¡†ç¼©å°&quot;: navToolbar.activate(Navigation.ZOOM_OUT); break; case &quot;æ‹‰æ¡†æ”¾å¤§&quot;: navToolbar.activate(Navigation.ZOOM_IN); break; case &quot;å…¨å›¾&quot;: navToolbar.zoomToFullExtent(); break; case &quot;æ¼«æ¸¸&quot;: //é»˜è®¤æ˜¯æ¼«æ¸¸æ“ä½œ navToolbar.deactivate(); break; &#125;&#125;) å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;title&gt;Geometric _Network&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style type=&quot;text/css&quot;&gt; .MapClass&#123; width:100%; height:600px; border:1px solid #000; &#125; &lt;/style&gt; &lt;script type=&quot;text/javascript&quot;&gt; require([&quot;esri/map&quot;, &quot;dojo/on&quot;, &quot;dojo/dom&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/query&quot;,&quot;esri/toolbars/navigation&quot;, &quot;dojo/domReady!&quot;], function (Map,on,dom, ArcGISDynamicMapServiceLayer,query,Navigation ) &#123; var map = new Map(&quot;mapDiv&quot;,&#123; logo: false &#125;); var layer = new ArcGISDynamicMapServiceLayer (&quot;http://localhost:6080/arcgis/rest/services/Test/MyService/MapServer&quot;); map.addLayer(layer) //åˆ›å»ºåœ°å›¾æ“ä½œå¯¹è±¡ var navToolbar = new Navigation(map); //ç»™æŒ‰é’®æ·»åŠ ç»‘å®šäº‹ä»¶ query(&quot;button&quot;).on(&quot;click&quot;,function(event)&#123; //è·å¾—æŒ‰é’®çš„æ–‡æœ¬ä¿¡æ¯ var value=this.innerHTML; switch(value)&#123; case &quot;å¹³ç§»&quot;: navToolbar.activate(Navigation.PAN); break; case &quot;æ‹‰æ¡†ç¼©å°&quot;: navToolbar.activate(Navigation.ZOOM_OUT); break; case &quot;æ‹‰æ¡†æ”¾å¤§&quot;: navToolbar.activate(Navigation.ZOOM_IN); break; case &quot;å…¨å›¾&quot;: navToolbar.zoomToFullExtent(); break; case &quot;æ¼«æ¸¸&quot;: //é»˜è®¤æ˜¯æ¼«æ¸¸æ“ä½œ navToolbar.deactivate(); break; &#125; &#125;) &#125;); &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;tundra&quot;&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;button&gt;æ‹‰æ¡†æ”¾å¤§&lt;/button&gt; &lt;button&gt;æ‹‰æ¡†ç¼©å°&lt;/button&gt; &lt;button&gt;å¹³ç§»&lt;/button&gt; &lt;button&gt;å…¨å›¾&lt;/button&gt; &lt;button&gt;æ¼«æ¸¸&lt;/button&gt;&lt;/body&gt;&lt;/html&gt; APIä¸­çš„å°éƒ¨ä»¶å…³äºAPIä¸­æä¾›çš„å°éƒ¨ä»¶æœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š å°†å°éƒ¨ä»¶ç»‘å®šåœ¨ä¸€ä¸ªDOMå…ƒç´ ä¸Šé¢ å°†å°éƒ¨ä»¶ç»‘å®šåœ¨åœ°å›¾çš„ä¸Šé¢ ä»£ç å®ç°é¦–å…ˆæˆ‘ä»¬å°†å°éƒ¨ä»¶ç»‘å®šåœ¨DOMå…ƒç´ ä¸Šé¢æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªDOMå…ƒç´ ç”¨äºå­˜æ”¾é¹°çœ¼æ§ä»¶1&lt;div id=&quot;view&quot;&gt;&lt;/div&gt; åˆ›å»ºå°éƒ¨ä»¶ï¼ˆå¹¶æŒ‡å®šå°éƒ¨ä»¶ç»‘å®šåœ¨å“ªä¸€ä¸ªDOMå…ƒç´ ä¸Šé¢ï¼‰12345//1.åˆ›å»ºå°éƒ¨ä»¶å¯¹è±¡var overviewMapDijit = new OverviewMap(&#123; map: map, visible: true, &#125;,dom.byId(&quot;view&quot;));//æŒ‡å®šå°†å°éƒ¨ä»¶ç»‘å®šåœ¨å“ªä¸ªDOMå…ƒç´ ä¸Šé¢ å¯ç”¨å°éƒ¨ä»¶12//2.å¯ç”¨å°éƒ¨ä»¶overviewMapDijit.startup(); ä»£ç ç»“æœï¼ˆç»‘å®šåœ¨DOMï¼‰ å…¨éƒ¨ä»£ç ï¼ˆç»‘å®šåœ¨DOMï¼‰1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt; &lt;!--The viewport meta tag is used to improve the presentation and behavior of the samples on iOS devices--&gt; &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1, maximum-scale=1,user-scalable=no&quot;&gt; &lt;title&gt;Overview Map&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style&gt; .MapClass&#123; width:600px; height:400px; border:1px solid #000; &#125; #view &#123; height: 100px; width: 100px; border:1px solid red; border-right-color:blue; position:relative; left:800px; top:-200px; &#125; &lt;/style&gt; &lt;script&gt; require([&quot;esri/map&quot;,&quot;dojo/dom&quot;,&quot;esri/dijit/OverviewMap&quot;,&quot;dojo/domReady!&quot;], function ( Map,dom, OverviewMap)&#123; var map = new Map(&quot;mapDiv&quot;, &#123; basemap: &quot;topo&quot; &#125;); //1.åˆ›å»ºå°éƒ¨ä»¶å¯¹è±¡ var overviewMapDijit = new OverviewMap(&#123; map: map, visible: true, &#125;,dom.byId(&quot;view&quot;));//æŒ‡å®šå°†å°éƒ¨ä»¶ç»‘å®šåœ¨å“ªä¸ªDOMå…ƒç´ ä¸Šé¢ //2.å¯ç”¨å°éƒ¨ä»¶ overviewMapDijit.startup(); &#125;); &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;div id=&quot;view&quot;&gt;&lt;/div&gt; &lt;/body&gt;&lt;/html&gt; è¡¥å……ï¼ˆå°†å°éƒ¨ä»¶ç»‘å®šåœ¨åœ°å›¾ä¸Šï¼‰åªéœ€è¦åœ¨åˆ›å»ºå°éƒ¨ä»¶çš„æ—¶å€™ï¼Œä¿®æ”¹ä¸€ä¸ªå±æ€§å³å¯123456var overviewMapDijit = new OverviewMap(&#123; //æŒ‡å®šå°†å°éƒ¨ä»¶ç»‘å®šåœ¨åœ°å›¾çš„å“ªä¸€ä¸ªä½ç½®ï¼šå¯ä»¥å¡«å†™top-right,bottom-right,bottom-left å’Œtop-left. attachTo: &quot;top-right&quot;, map: map, visible: true, &#125;); è¿è¡Œç»“æœï¼ˆç»‘å®šåœ¨åœ°å›¾ï¼‰ å…¨éƒ¨ä»£ç ï¼ˆç»‘å®šåœ¨åœ°å›¾ï¼‰123456789101112131415161718192021222324252627282930313233343536373839404142&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt; &lt;!--The viewport meta tag is used to improve the presentation and behavior of the samples on iOS devices--&gt; &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1, maximum-scale=1,user-scalable=no&quot;&gt; &lt;title&gt;Overview Map&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/Javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;style&gt; .MapClass&#123; width:100%; height:600; &#125; &lt;/style&gt; &lt;script&gt; require([&quot;esri/map&quot;,&quot;dojo/dom&quot;,&quot;esri/dijit/OverviewMap&quot;,&quot;dojo/domReady!&quot;], function ( Map,dom, OverviewMap)&#123; var map = new Map(&quot;mapDiv&quot;, &#123; basemap: &quot;topo&quot; &#125;); //1.åˆ›å»ºå°éƒ¨ä»¶å¯¹è±¡ var overviewMapDijit = new OverviewMap(&#123; //æŒ‡å®šå°†å°éƒ¨ä»¶ç»‘å®šåœ¨åœ°å›¾çš„å“ªä¸€ä¸ªä½ç½®ï¼šå¯ä»¥å¡«å†™top-right,bottom-right,bottom-left å’Œtop-left. attachTo: &quot;top-right&quot;, map: map, visible: true, &#125;); //2.å¯ç”¨å°éƒ¨ä»¶ overviewMapDijit.startup(); &#125;); &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;mapDiv&quot; class=&quot;MapClass&quot;&gt;&lt;/div&gt; &lt;/body&gt;&lt;/html&gt;","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For Javascriptä¹‹è°ƒç”¨åŠ¨æ€åœ°å›¾æœåŠ¡","slug":"ArcGIS-API-for-JS11","date":"2019-08-06T05:40:02.000Z","updated":"2022-11-02T11:15:20.481Z","comments":true,"path":"2019/08/06/ArcGIS-API-for-JS11/","link":"","permalink":"http://xdd7130.github.io/2019/08/06/ArcGIS-API-for-JS11/","excerpt":"","text":"ä¸»è¦è®°å½•ä¸€ä¸‹åœ¨ArcGIS APIå¦‚ä½•è°ƒç”¨è‡ªå·±å‘å¸ƒçš„åŠ¨æ€åœ°å›¾æœåŠ¡,åˆ©ç”¨åŠ¨æ€åœ°å›¾æœåŠ¡æˆ‘ä»¬å¯ä»¥å®Œæˆå“ªä¸€äº›éœ€æ±‚ç­‰ç­‰ã€‚ è°ƒç”¨åŠ¨æ€åœ°å›¾æœåŠ¡ åœ¨ArcGIS API ä¸­ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç±»å«åšArcGISDynamicMapServiceLayeråˆ©ç”¨è¿™ä¸ªç±»ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—å‘å¸ƒçš„åœ°å›¾æœåŠ¡ã€‚è°ƒç”¨åŠ¨æ€åœ°å›¾æœåŠ¡ä¸€èˆ¬åªéœ€è¦ä¸¤æ­¥ï¼š é€šè¿‡åœ°å›¾æœåŠ¡çš„URLåˆ›å»ºä¸€ä¸ªArcGISDynamicMapServiceLayerå¯¹è±¡å°†åŠ¨æ€åœ°å›¾æœåŠ¡çš„å¯¹è±¡æ·»åŠ åˆ°åœ°å›¾å®¹å™¨ä¸­123456789101112131415161718192021222324&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Hello World&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;script&gt; require([&quot;esri/map&quot;,&quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/domReady!&quot;], function(Map,ArcGISDynamicMapServiceLayer)&#123; var map = new Map(&quot;mapDiv&quot;); //åˆ©ç”¨urlåˆ›å»ºä¸€ä¸ªåŠ¨æ€åœ°å›¾æœåŠ¡å¯¹è±¡ var layer=new ArcGISDynamicMapServiceLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/MyServer/MapServer&quot;); //å°†åœ°å›¾æœåŠ¡å¯¹è±¡æ·»åŠ åˆ°åœ°å›¾å®¹å™¨ä¸­ map.addLayer(layer); &#125;) &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;tundra&quot;&gt;&lt;div id=&quot;mapDiv&quot; style=&quot;width:900px; height:600px; border:1px solid #000;&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; åœ¨ArcGIS APIä¸­ä¸ArcMapä¸åŒçš„æ˜¯ï¼šä¸€ä¸ªæœåŠ¡å›¾å±‚ç›¸å½“äºä¸€ç»„å›¾å±‚çš„é›†åˆï¼ˆå³å¤šä¸ªå›¾å±‚ï¼‰ éœ€æ±‚åœ¨çœŸå®å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒåŠ¨æ€åœ°å›¾æœåŠ¡å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®Œæˆå¾ˆå¤šçš„åŠŸèƒ½éœ€æ±‚ï¼Œä¾‹å¦‚ï¼š æ ¹æ®éœ€æ±‚éšè—æœåŠ¡ä¸­çš„æŸä¸€ä¸ªå›¾å±‚ï¼ˆåŠ¨æ€åœ°å›¾æœåŠ¡å¯ä»¥å®ç°ï¼Œä½†æ˜¯åˆ‡ç‰‡åœ°å›¾æœåŠ¡å°±ä¸èƒ½å®ç°ï¼‰ é€šè¿‡å±æ€§æŸ¥è¯¢åœ°å›¾æœåŠ¡ä¸­çš„ä¿¡æ¯ é€šè¿‡ç©ºé—´æŸ¥è¯¢åœ°å›¾æœåŠ¡ä¸­çš„ä¿¡æ¯ï¼ˆåŒ…æ‹¬ç‚¹æŸ¥è¯¢ï¼Œçº¿æŸ¥è¯¢ï¼Œé¢æŸ¥è¯¢ç­‰ç­‰ï¼‰ æ ¹æ®éœ€æ±‚éšè—æœåŠ¡ä¸­çš„æŸä¸€ä¸ªå›¾å±‚æˆ‘ä»¬å‘å¸ƒçš„åœ°å›¾æœåŠ¡ä¸­æœ‰å››ä¸ªå›¾å±‚åœ¨æœ¬éœ€æ±‚ä¸­,æˆ‘ä»¬ä¸»è¦æ˜¯ç»™é¡µé¢æ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œç„¶åå°†åœ°å›¾æœåŠ¡ä¸­çš„road2éšè—,ä»£ç å¦‚ä¸‹123456789101112require([&quot;esri/map&quot;,&quot;dojo/dom&quot;,&quot;dojo/on&quot;,&quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;dojo/domReady!&quot;], function(Map,dom,on,ArcGISDynamicMapServiceLayer)&#123; var map = new Map(&quot;mapDiv&quot;); var layer=new ArcGISDynamicMapServiceLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/MyServer/MapServer&quot;); map.addLayer(layer); //ç»™idä¸ºbtnçš„æŒ‰é’®ç»‘å®šclickäº‹ä»¶ on(dom.byId(&quot;btn&quot;),&quot;click&quot;,function() &#123; layer.setVisibleLayers([1,2,3]); &#125;) &#125;) ä»£ç è§£é‡Šï¼š æ­¤ä»£ç åŠŸèƒ½çš„å®ç°éå¸¸ç®€å•ï¼Œåªåˆ©ç”¨äº†setVisibleLayersæ–¹æ³•ï¼Œå‘Šè¯‰æœåŠ¡ï¼Œæˆ‘è¦æ˜¾ç¤ºå›¾å±‚ç¼–å·ä¸º1ï¼Œ2ï¼Œ3çš„å›¾å±‚ã€‚ åœ¨requireä¸­åŠ è½½äº†ä¸€ä¸ªæ–°çš„æ¨¡å—dojo/domæ¨¡å—ï¼Œæ­¤æ¨¡å—ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ–¹æ³•dom.byId(id),æˆ‘ä»¬å¯ä»¥é€šè¿‡idè·å¾—domå¯¹è±¡ï¼Œç±»ä¼¼äºdocument.getElementById()æ–¹æ³•ã€‚ åœ¨requireä¸­åŠ è½½äº†ä¸€ä¸ªæ–°çš„æ¨¡å—dojo/onæ¨¡å—ï¼Œåœ¨dojoä¸­onæ˜¯ç”¨æ¥ç»‘å®šäº‹ä»¶çš„,on(target,type,listener)çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç»™å“ªä¸€ä¸ªå¯¹è±¡ç»‘å®šäº‹ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯äº‹ä»¶çš„ç±»å‹ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å‚æ•°æ˜¯å›è°ƒå‡½æ•°ã€‚ é€šè¿‡å±æ€§æŸ¥è¯¢åœ°å›¾æœåŠ¡ä¸­çš„ä¿¡æ¯æ ¹æ®å±æ€§æŸ¥è¯¢å‡ºæˆ‘ä»¬æƒ³è¦çš„è¦ç´ å›¾å½¢ï¼Œç„¶åå°†è¯¥å›¾å½¢é«˜äº®ï¼ˆåœ¨æœ¬äº‹ä¾‹ä¸­æŸ¥è¯¢æ•™å­¦æ¥¼çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ ¹æ®æ•™å­¦æ¥¼çš„åç§°å°†è¯¥æ¥¼å±‚æˆé«˜äº®ï¼‰åœ¨å®ç°è¿™ä¸ªåŠŸèƒ½çš„æ—¶å€™æˆ‘ä»¬åˆ†å‡ æ­¥å¼€å§‹è€ƒè™‘ï¼š åœ¨ç½‘é¡µä¸Šæ–°å»ºä¸€ä¸ªæ–‡æœ¬æ¡† å°†æ–‡æœ¬æ¡†ä¸­çš„æ•™å­¦æ¥¼åç§°è·å–ï¼Œå¹¶åˆ›å»ºå±æ€§æŸ¥è¯¢å¯¹è±¡ å°†æŸ¥è¯¢åˆ°çš„æ¥¼å±‚ä¿¡æ¯ï¼ˆå‡ ä½•ä¿¡æ¯ï¼‰è·å–ï¼Œåˆ©ç”¨graphicsé«˜äº®æ˜¾ç¤º åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ¡†12Name:&lt;input class=&quot;nm&quot; type=&quot;text&quot;&gt;&lt;input type=&quot;button&quot; value=&quot;æŸ¥è¯¢&quot;&gt; å°†æ–‡æœ¬æ¡†ä¸­çš„æ•™å­¦æ¥¼åç§°è·å–ï¼Œå¹¶åˆ›å»ºå±æ€§æŸ¥è¯¢å¯¹è±¡1234567891011121314query(&quot;#btn&quot;).on(&quot;click&quot;,function()&#123; //è·å¾—æ•™å­¦æ¥¼çš„åç§° var name=query(&quot;.nm&quot;)[0].value; //å®ä¾‹åŒ–æŸ¥è¯¢å‚æ•° var findParams = new esri.tasks.FindParameters(); findParams.returnGeometry = true; findParams.layerIds = [3]; findParams.searchFields = [&quot;name&quot;]; findParams.searchText = name; //å®ä¾‹åŒ–æŸ¥è¯¢å¯¹è±¡ var FindTask = new esri.tasks.FindTask(&quot;http://localhost:6080/arcgis/rest/services/Test/MyServer/MapServer&quot;); //è¿›è¡ŒæŸ¥è¯¢ FindTask.execute(findParams,ShowFindResult) &#125;) å°†æŸ¥è¯¢åˆ°çš„æ¥¼å±‚ä¿¡æ¯ï¼ˆå‡ ä½•ä¿¡æ¯ï¼‰è·å–ï¼Œåˆ©ç”¨graphicsé«˜äº®æ˜¾ç¤º123456789101112131415161718192021function showFindResult(queryResult) &#123; if (queryResult.length == 0) &#123; alert(&quot;æ²¡æœ‰è¯¥å…ƒç´ &quot;); return; &#125; for (var i = 0; i &lt; queryResult.length; i++) &#123; //è·å¾—è¯¥å›¾å½¢çš„å½¢çŠ¶ var graphic = queryResult[i].feature; var geometry = graphic.geometry; //å®šä¹‰é«˜äº®å›¾å½¢çš„ç¬¦å· //1.å®šä¹‰é¢çš„è¾¹ç•Œçº¿ç¬¦å· var outline= new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASHDOT,new Color([255, 0, 0]), 1); //2.å®šä¹‰é¢ç¬¦å· var PolygonSymbol = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, outline,new Color([0, 255, 0, 1])); //åˆ›å»ºå®¢æˆ·ç«¯å›¾å½¢ var graphic = new Graphic(geometry, PolygonSymbol); //å°†å®¢æˆ·ç«¯å›¾å½¢æ·»åŠ åˆ°mapä¸­ map.graphics.add(graphic); &#125; &#125; å®Œæ•´ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Hello World&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;script&gt; require([&quot;esri/map&quot;,&quot;dojo/query&quot;,&quot;dojo/on&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/tasks/FindTask&quot;, &quot;esri/tasks/FindParameters&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/Color&quot;, &quot;esri/graphic&quot;, &quot;dojo/domReady!&quot;], function(Map,query,on,ArcGISDynamicMapServiceLayer,FindTask,FindParameters,SimpleLineSymbol,SimpleFillSymbol,Color,Graphic)&#123; var map = new Map(&quot;mapDiv&quot;); var layer=new ArcGISDynamicMapServiceLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/MyServer/MapServer&quot;); map.addLayer(layer); query(&quot;#btn&quot;).on(&quot;click&quot;,function()&#123; //è·å¾—æ•™å­¦æ¥¼çš„åç§° var name=query(&quot;.nm&quot;)[0].value; //å®ä¾‹åŒ–æŸ¥è¯¢å‚æ•° var findParams = new FindParameters(); findParams.returnGeometry = true; findParams.layerIds = [3]; findParams.searchFields = [&quot;name&quot;]; findParams.searchText = name; //å®ä¾‹åŒ–æŸ¥è¯¢å¯¹è±¡ var findTask = new FindTask(&quot;http://localhost:6080/arcgis/rest/services/Test/MyServer/MapServer&quot;); //è¿›è¡ŒæŸ¥è¯¢ findTask.execute(findParams,showFindResult) &#125;); function showFindResult(queryResult) &#123; if (queryResult.length == 0) &#123; alert(&quot;æ²¡æœ‰è¯¥å…ƒç´ &quot;); return; &#125; for (var i = 0; i &lt; queryResult.length; i++) &#123; //è·å¾—è¯¥å›¾å½¢çš„å½¢çŠ¶ var feature= queryResult[i].feature; var geometry = feature.geometry; //å®šä¹‰é«˜äº®å›¾å½¢çš„ç¬¦å· //1.å®šä¹‰é¢çš„è¾¹ç•Œçº¿ç¬¦å· var outline= new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASHDOT,new Color([255, 0, 0]), 1); //2.å®šä¹‰é¢ç¬¦å· var PolygonSymbol = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, outline,new Color([0, 255, 0, 1])); //åˆ›å»ºå®¢æˆ·ç«¯å›¾å½¢ var graphic = new Graphic(geometry, PolygonSymbol); //å°†å®¢æˆ·ç«¯å›¾å½¢æ·»åŠ åˆ°mapä¸­ map.graphics.add(graphic); &#125; &#125; &#125;) &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;tundra&quot;&gt;&lt;div id=&quot;mapDiv&quot; style=&quot;width:900px; height:580px; border:1px solid #000;&quot;&gt;&lt;/div&gt; Name:&lt;input class=&quot;nm&quot; type=&quot;text&quot;&gt; &lt;input id=&quot;btn&quot; type=&quot;button&quot; value=&quot;æŸ¥è¯¢&quot;&gt;&lt;/body&gt;&lt;/html&gt; ä»£ç è§£é‡Š FindTask æ˜¯Esriæä¾›çš„ä¸€ä¸ªå±æ€§æŸ¥è¯¢çš„ç±»ï¼Œä»–æ‰€å¯¹åº”çš„å‚æ•°ä¸ºï¼šFindParametersï¼ŒFindTaskåªèƒ½ç”¨äºå±æ€§æŸ¥è¯¢ï¼Œä¸èƒ½ç”¨äºç©ºé—´æŸ¥è¯¢ FindTaskç±»ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•å«åšexecute,executeçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å±æ€§æŸ¥è¯¢çš„å‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼ˆå³æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼‰ï¼Œå½“æœåŠ¡å™¨è¿”å›æ•°æ®æ—¶ï¼Œæ­¤å‡½æ•°æ‰ä¼šè¢«è§¦å‘ã€‚ dojo/queryæ˜¯dojoæä¾›çš„ä¸€ä¸ªDOMé€‰æ‹©å™¨ï¼Œä»–çš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œä¸JQueryä¸­çš„$ç¬¦ä¸€æ ·å¼ºå¤§ï¼Œå¯ä»¥æ ¹æ®idé€‰æ‹©queryï¼ˆâ€#idâ€ï¼‰,ä¹Ÿå¯ä»¥æ ¹æ®ç±»åé€‰æ‹©queryï¼ˆâ€.classnameâ€ï¼‰ï¼Œqueryæ–¹æ³•è¿˜æœ‰å¾ˆå¤šå¼ºå¤§çš„åœ°æ–¹ï¼Œå…·ä½“å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ query(â€œ#btnâ€).on()æ˜¯dojoæä¾›ç»™æˆ‘ä»¬ç¬¬äºŒç§ç»‘å®šäº‹ä»¶çš„æ–¹å¼ã€‚ graphicesriæä¾›ç»™æˆ‘ä»¬ä½¿ç”¨çš„å®¢æˆ·ç«¯å›¾å±‚ï¼Œåˆ©ç”¨graphicï¼Œæˆ‘ä»¬å¯ä»¥å®Œæˆå¾ˆå¤šæ“ä½œï¼Œgraphicå…·ä½“çš„ä½¿ç”¨ï¼Œå°†åœ¨Drawå·¥å…·æ—¶è¯´æ˜ã€‚ é€šè¿‡ç©ºé—´æŸ¥è¯¢åœ°å›¾æœåŠ¡ä¸­çš„ä¿¡æ¯ç›¸ä¿¡å¤§å®¶éƒ½é‡åˆ°è¿‡è¿™ç§é—®é¢˜ï¼Œå½“æˆ‘ç‚¹å‡»åœ°å›¾æ—¶ï¼Œå°†æˆ‘ç‚¹å‡»çš„å›¾å½¢è¿›è¡Œé«˜äº®æ˜¾ç¤ºï¼Œæ­¤æ—¶å°±ç”¨åˆ°äº†ç©ºé—´æŸ¥è¯¢ã€‚ä¸ºäº†å®ç°è¯¥åŠŸèƒ½æˆ‘ä»¬å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š å› ä¸ºè¦ç‚¹å‡»åœ°å›¾ï¼Œæ‰€ä»¥é¦–å…ˆæˆ‘ä»¬ç»™åœ°å›¾ç»‘å®šç‚¹å‡»äº‹ä»¶ è·å¾—ç‚¹å‡»çš„åœ°å›¾åæ ‡(ç‚¹åæ ‡)ï¼Œå¹¶åˆ›å»ºç©ºé—´æŸ¥è¯¢å‚æ•°å¯¹è±¡ å°†æ•™å­¦æ¥¼ä¸ç‚¹ç›¸äº¤çš„æ¥¼å±‚æŸ¥è¯¢å‡ºæ¥ï¼Œç„¶ååˆ©ç”¨graphicè¿›è¡Œé«˜äº®æ˜¾ç¤º ç»™åœ°å›¾ç»‘å®šç‚¹å‡»äº‹ä»¶1map.on(&quot;click&quot;,mapClick); è·å¾—ç‚¹å‡»çš„åœ°å›¾åæ ‡(ç‚¹åæ ‡)ï¼Œå¹¶åˆ›å»ºç©ºé—´æŸ¥è¯¢å‚æ•°å¯¹è±¡123456789101112131415function mapClick(e)&#123; //è·å¾—ç”¨æˆ·ç‚¹å‡»çš„åœ°å›¾åæ ‡ var point=e.mapPoint; //å®ä¾‹åŒ–æŸ¥è¯¢å‚æ•° query=new Query(); query.geometry = point; query.outFields = [&quot;*&quot;]; query.outSpatialReference = map.spatialReference; query.spatialRelationship = Query.SPATIAL_REL_INTERSECTS; query.returnGeometry = true; //å®ä¾‹åŒ–æŸ¥è¯¢å¯¹è±¡ var queryTask = new QueryTask(&quot;http://localhost:6080/arcgis/rest/services/Test/MyServer/MapServer/3&quot;); //è¿›è¡ŒæŸ¥è¯¢ queryTask.execute(query,showFindResult) &#125; å°†æ•™å­¦æ¥¼ä¸ç‚¹ç›¸äº¤çš„æ¥¼å±‚æŸ¥è¯¢å‡ºæ¥ï¼Œç„¶ååˆ©ç”¨graphicè¿›è¡Œé«˜äº®æ˜¾ç¤º123456789101112131415161718192021function showFindResult(queryResult) &#123; if (queryResult.features == 0) &#123; alert(&quot;æ²¡æœ‰è¯¥å…ƒç´ &quot;); return; &#125; for (var i = 0; i &lt; queryResult.features.length; i++) &#123; //è·å¾—è¯¥å›¾å½¢çš„å½¢çŠ¶ var feature = queryResult.features[i]; var geometry = feature.geometry; //å®šä¹‰é«˜äº®å›¾å½¢çš„ç¬¦å· //1.å®šä¹‰é¢çš„è¾¹ç•Œçº¿ç¬¦å· var outline= new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASHDOT,new Color([255, 0, 0]), 1); //2.å®šä¹‰é¢ç¬¦å· var PolygonSymbol = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, outline,new Color([0, 255, 0, 1])); //åˆ›å»ºå®¢æˆ·ç«¯å›¾å½¢ var graphic = new Graphic(geometry, PolygonSymbol); //å°†å®¢æˆ·ç«¯å›¾å½¢æ·»åŠ åˆ°mapä¸­ map.graphics.add(graphic); &#125; &#125; å®Œæ•´ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Hello World&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;script&gt; require([&quot;esri/map&quot;,&quot;dojo/query&quot;,&quot;dojo/on&quot;, &quot;esri/layers/ArcGISDynamicMapServiceLayer&quot;, &quot;esri/tasks/QueryTask&quot;, &quot;esri/tasks/query&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/Color&quot;, &quot;esri/graphic&quot;, &quot;dojo/domReady!&quot;], function(Map,query,on,ArcGISDynamicMapServiceLayer,QueryTask,Query,SimpleLineSymbol,SimpleFillSymbol,Color,Graphic)&#123; var map = new Map(&quot;mapDiv&quot;); var layer=new ArcGISDynamicMapServiceLayer(&quot;http://localhost:6080/arcgis/rest/services/Test/MyServer/MapServer&quot;); map.addLayer(layer); map.on(&quot;click&quot;,mapClick); function mapClick(e)&#123; //è·å¾—ç”¨æˆ·ç‚¹å‡»çš„åœ°å›¾åæ ‡ var point=e.mapPoint; //å®ä¾‹åŒ–æŸ¥è¯¢å‚æ•° query=new Query(); query.geometry = point; query.outFields = [&quot;*&quot;]; query.outSpatialReference = map.spatialReference; query.spatialRelationship = Query.SPATIAL_REL_INTERSECTS; query.returnGeometry = true; //å®ä¾‹åŒ–æŸ¥è¯¢å¯¹è±¡ var queryTask = new QueryTask(&quot;http://localhost:6080/arcgis/rest/services/Test/MyServer/MapServer/3&quot;); //è¿›è¡ŒæŸ¥è¯¢ queryTask.execute(query,showFindResult) &#125; function showFindResult(queryResult) &#123; if (queryResult.features == 0) &#123; alert(&quot;æ²¡æœ‰è¯¥å…ƒç´ &quot;); return; &#125; for (var i = 0; i &lt; queryResult.features.length; i++) &#123; //è·å¾—è¯¥å›¾å½¢çš„å½¢çŠ¶ var feature = queryResult.features[i]; var geometry = feature.geometry; //å®šä¹‰é«˜äº®å›¾å½¢çš„ç¬¦å· //1.å®šä¹‰é¢çš„è¾¹ç•Œçº¿ç¬¦å· var outline= new SimpleLineSymbol(SimpleLineSymbol.STYLE_DASHDOT,new Color([255, 0, 0]), 1); //2.å®šä¹‰é¢ç¬¦å· var PolygonSymbol = new SimpleFillSymbol(SimpleFillSymbol.STYLE_SOLID, outline,new Color([0, 255, 0, 1])); //åˆ›å»ºå®¢æˆ·ç«¯å›¾å½¢ var graphic = new Graphic(geometry, PolygonSymbol); //å°†å®¢æˆ·ç«¯å›¾å½¢æ·»åŠ åˆ°mapä¸­ map.graphics.add(graphic); &#125; &#125; &#125;) &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;tundra&quot;&gt;&lt;div id=&quot;mapDiv&quot; style=&quot;width:900px; height:580px; border:1px solid #000;&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; ä»£ç è§£é‡Š QueryTaskæ˜¯esriæä¾›ç»™æˆ‘ä»¬çš„ä¸€ä¸ªå·¥å…·ç±»ï¼Œå¯ç”¨äºå±æ€§æŸ¥è¯¢ï¼Œä¹Ÿå¯ç”¨äºç©ºé—´æŸ¥è¯¢ï¼ŒQueryTaskåªèƒ½ä½œç”¨äºåœ°å›¾æœåŠ¡çš„æŸä¸€ä¸ªå›¾å±‚ï¼Œè€Œä¸èƒ½ä½œç”¨äºä¸€æ•´ä¸ªåœ°å›¾æœåŠ¡ï¼ˆIdentifyTaskç±»å¯ä½œç”¨äºä¸€æ•´ä¸ªåœ°å›¾æœåŠ¡ï¼‰ Queryç±»æ˜¯QueryTaskå‚æ•°ç±»ï¼Œç”¨äºè®¾å®šç©ºé—´æŸ¥è¯¢çš„å‚æ•°ã€‚ QueryTaskç±»ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•å«åšexecute,executeçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æŸ¥è¯¢çš„å‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼ˆå³æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼‰ï¼Œå½“æœåŠ¡å™¨è¿”å›æ•°æ®æ—¶ï¼Œæ­¤å‡½æ•°æ‰ä¼šè¢«è§¦å‘ è¡¥å……ç»‘å®šäº‹ä»¶ä¹‹åï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ä¹Ÿè§£é™¤äº‹ä»¶çš„ç»‘å®šï¼Œä¸‹é¢æä¾›å‡ ç§æ–¹æ³•è§£é™¤äº‹ä»¶ç»‘å®šç›´æ¥é€šè¿‡äº‹ä»¶å¥æŸ„è§£é™¤ï¼ˆdojoæ–°ç‰ˆæœ¬ï¼‰1234//ç»‘å®šäº‹ä»¶var handle=map.on(&quot;click&quot;,mapClick);//è§£é™¤äº‹ä»¶handle.remove(); é€šè¿‡è€ç‰ˆæœ¬çš„æ–¹æ³•è§£é™¤1234//ç»‘å®šäº‹ä»¶var handle=map.on(&quot;click&quot;,mapClick);//è§£é™¤äº‹ä»¶dojo.disconnect(handle)","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For JavaScriptä¹‹æ·»åŠ åœ°å›¾","slug":"ArcGIS-API-for-JS10","date":"2019-08-05T10:35:33.000Z","updated":"2022-11-02T11:15:20.480Z","comments":true,"path":"2019/08/05/ArcGIS-API-for-JS10/","link":"","permalink":"http://xdd7130.github.io/2019/08/05/ArcGIS-API-for-JS10/","excerpt":"","text":"åœ¨ArcGIS API For JSä¸­ï¼Œesri.Mapç±»å¯ä»¥è¯´æ˜¯æœ€é‡è¦çš„ä¸€ä¸ªç±»ï¼ŒMapä½œä¸ºåœ°å›¾å›¾å±‚çš„å®¹å™¨ï¼Œå­˜æ”¾å„ç§åœ°å›¾æœåŠ¡ï¼ŒåŒæ—¶Mapå…·æœ‰ä¸€äº›å¸¸ç”¨çš„å±æ€§å’Œäº‹ä»¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®Œæˆä¸€äº›å¤æ‚çš„æ“ä½œã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨Mapç±»å¼€å§‹æˆ‘ä»¬çš„HelloWorldç¨‹åºã€‚ æ­¥éª¤é¦–å…ˆæ–°å»ºä¸€ä¸ªHello_World.html,åŒæ—¶å¼•å…¥æˆ‘ä»¬çš„init.js,esri.cssæ ·å¼æ–‡ä»¶123&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; åˆ›å»ºä¸€ä¸ªdivä½œä¸ºMapçš„å®¹å™¨(divå®¹å™¨å¿…é¡»è®¾ç½®å®½é«˜ï¼Œä¸ç„¶åœ°å›¾ä¸ä¼šæ˜¾ç¤º)1&lt;div id=&quot;mapDiv&quot; style=&quot;width:900px; height:600px; border:1px solid #000;&quot;&gt;&lt;/div&gt; åˆ›å»ºMapå®¹å™¨ï¼Œå¹¶ä¸”åŠ å…¥åœ°å›¾1234567require([&quot;esri/map&quot;,&quot;dojo/domReady!&quot;], function(Map)&#123; var myMap = new Map(&quot;mapDiv&quot;,&#123; basemap:&quot;topo&quot; &#125;); &#125;) å®Œæ•´ä»£ç 12345678910111213141516171819202122&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Hello World&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/dijit/themes/tundra/tundra.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/esri/css/esri.css&quot; /&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;http://localhost/arcgis_js_api/library/3.17/3.17/init.js&quot;&gt;&lt;/script&gt; &lt;script&gt; require([&quot;esri/map&quot;,&quot;dojo/domReady!&quot;], function(Map)&#123; var myMap = new Map(&quot;mapDiv&quot;,&#123; basemap:&quot;topo&quot; &#125;); &#125;) &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;tundra&quot;&gt; &lt;div id=&quot;mapDiv&quot; style=&quot;width:900px; height:600px; border:1px solid #000;&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; ä»£ç è®²è§£ï¼š requireå‡½æ•°æ˜¯dojoæä¾›çš„ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œåªè¦å¼•å…¥init.jsä¾¿å¯ä½¿ç”¨ï¼Œrequireå‡½æ•°æ”¯æŒAMDï¼ˆå¼‚æ­¥æ¨¡å—å®šä¹‰ï¼ŒAsynchronous Module Definitionï¼‰è§„èŒƒã€‚ requireå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ˆç”¨äºåŠ è½½çš„æ¨¡å—ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ³¨æ„å‰ååŠ è½½çš„é¡ºåºä¸€å®šè¦ä¸€è‡´ï¼Œä¾‹å¦‚requireçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯esri.map,å›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯Map requireåŠ è½½çš„ç¬¬äºŒä¸ªæ˜¯dojo/domReadyï¼,dojo/domReadyï¼æ˜¯ä¸€ä¸ªæ’ä»¶ï¼ˆå¦‚æœåŠ è½½çš„æ¨¡å—ä»¥æ„Ÿå¹å·ç»“å°¾ï¼Œä¸€èˆ¬éƒ½ä¸ºæ’ä»¶ï¼‰ï¼Œæ­¤æ’ä»¶çš„ä½œç”¨æ˜¯ï¼Œå½“Htmlçš„domåŠ è½½å®Œæ¯•ååœ¨æ‰§è¡Œæ­¤å‡½æ•°ï¼Œç±»ä¼¼ä¸window.onloadäº‹ä»¶ã€‚ Mapç±»ä¸­æœ‰ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„å±æ€§å«åšbasemap,åœ¨arcgis apiä¸­ï¼Œesriè‡ªå·±å®šä¹‰äº†ä¸€äº›åº•å›¾å¯ç›´æ¥ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œè¿™äº›åº•å±‚çš„è°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®åˆ¶å®šbasemapå±æ€§ç›´æ¥è°ƒç”¨å·²ç»å®šä¹‰å¥½çš„åº•å›¾ã€‚esriç»™æˆ‘ä»¬å®šä¹‰çš„åº•å›¾æœ‰ï¼šstreets ,satellite ,hybrid, topo, gray,dark-gray, oceans, national-geographic,terrain, osm, dark-gray-vector, gray-vector,streets-vector, streets-night-vector, streets-relief-vector, streets-navigation-vector,topo-vector.terrain, dark-gray, dark-gray-vector, gray-vector, streets-vector,streets-night-vector, streets-relief-vector, streets-navigation-vector , topo-vector,æ³¨æ„ï¼šè¦ä½¿ç”¨esriå®šä¹‰çš„åº•å›¾å±æ€§basemapç”µè„‘å¿…é¡»è”ç½‘ã€‚ éœ€æ±‚åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¤§å®¶ä¸å–œæ¬¢logoçš„å­˜åœ¨å¯ä»¥è®¾ç½®Mapçš„å±æ€§logoï¼šfalseåœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹äºåœ°å›¾çš„æ”¾å¤§ç¼©å°ï¼Œä¸€èˆ¬ç”¨ä»£ç æ¥æ§åˆ¶åœ°å›¾çš„æ”¾å¤§ï¼Œç¼©å°ï¼Œæ‹‰æ¡†æ”¾å¤§ï¼Œæ‹‰æ¡†ç¼©å°ç­‰ç­‰ï¼Œæ‰€ä»¥ä¸€èˆ¬éšè—åœ°å›¾è‡ªå¸¦çš„æŒ‰é’®ï¼Œè®¾ç½®å±æ€§sliderï¼šfalse","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS API For JavaScriptæœ¬åœ°éƒ¨ç½²ï¼ˆIISï¼‰","slug":"ArcGIS-API-for-JS09","date":"2019-08-05T10:23:24.000Z","updated":"2022-11-02T11:15:20.479Z","comments":true,"path":"2019/08/05/ArcGIS-API-for-JS09/","link":"","permalink":"http://xdd7130.github.io/2019/08/05/ArcGIS-API-for-JS09/","excerpt":"","text":"åœ¨windowsç³»ç»Ÿï¼Œæˆ‘ä»¬æ€»æ˜¯å°†ArcGIS API For JavaScriptéƒ¨ç½²åœ¨IISä¸­ï¼Œè€Œä¸æ˜¯éƒ¨ç½²åœ¨Tomcatä¸­ï¼Œå…¶å®åœ¨IISä¸­çš„é…ç½®å’ŒTomcatä¸­çš„é…ç½®ArcGIS APIå‡ ä¹æ²¡æœ‰ä»€ä¹ˆå·®åˆ«ï¼Œåœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œä¸»è¦è®²è§£åœ¨IISä¸­çš„é…ç½®ArcGIS APIã€‚éƒ¨ç½²æœ¬åœ°ç¯å¢ƒåœ¨IISä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š ä¸‹è½½ArcGIS API For JavaScriptå‡½æ•°åº“ å®‰è£…IISè½¯ä»¶å¹¶è¿›è¡Œé…ç½® ä¿®æ”¹ç›¸åº”çš„jsæ–‡ä»¶ï¼ˆ2ä¸ªæ–‡ä»¶ï¼‰ å°†ä¿®æ”¹å¥½çš„å‡½æ•°åº“å¤åˆ¶åˆ°æŒ‡å®šä½ç½® æµ‹è¯•ArcGIS API For JavaScriptå‡½æ•°åº“æ˜¯å¦å®‰è£…æˆåŠŸã€‚### ä¸‹è½½ArcGIS API For JavaScriptå‡½æ•°åº“ArcGIS API For JavaScriptä¸‹è½½çš„å‡½æ•°åº“å¦‚å›¾æ‰€ç¤º:### å®‰è£…IISè½¯ä»¶å¹¶è¿›è¡Œé…ç½®ï¼ˆç•¥ï¼‰### ä¿®æ”¹ç›¸åº”çš„jsæ–‡ä»¶ï¼ˆ2ä¸ªæ–‡ä»¶ï¼‰ä¿®æ”¹ æ–‡ä»¶ä¸€ï¼ˆinit.jsï¼‰ä½ç½®ï¼šarcgis_js_v317_api\\arcgis_js_api\\library\\3.17\\3.17\\init.jså°†[HOSTNAME_AND_PATH_TO_JSAPI]æ›¿æ¢æˆlocalhost/arcgis_js_api/library/3.17/3.17/ä¿®æ”¹æ–‡ä»¶äºŒï¼ˆdojo.jsï¼‰ä½ç½®ï¼šarcgis_js_v317_api\\arcgis_js_api\\library\\3.17\\3.17\\dojo\\dojo.jså°†[HOSTNAME_AND_PATH_TO_JSAPI]æ›¿æ¢æˆlocalhost/arcgis_js_api/library/3.17/3.17/","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS Serverä¹‹å‘å¸ƒåœ°ç†ç¼–ç æœåŠ¡","slug":"ArcGIS-API-for-JS08","date":"2019-08-05T09:48:35.000Z","updated":"2022-11-02T11:15:20.469Z","comments":true,"path":"2019/08/05/ArcGIS-API-for-JS08/","link":"","permalink":"http://xdd7130.github.io/2019/08/05/ArcGIS-API-for-JS08/","excerpt":"","text":"åœ°ç†ç¼–ç æœåŠ¡æ˜¯æŒ‡å»ºç«‹åœ°ç†ä½ç½®åæ ‡ä¸ç»™å®šåœ°å€çš„è¿‡ç¨‹ï¼Œç®€å•çš„è¯´å°±æ˜¯å°†ä¸€ä¸ªåœ°å€çš„æè¿°ä¿¡æ¯æ˜ å°„ä¸ºåœ°å›¾ä¸Šæ‰€å¯¹åº”çš„ç©ºé—´ä½ç½®ï¼Œåœ°ç†ç¼–ç æœåŠ¡æ˜¯GISä¸­æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªåŠŸèƒ½ã€‚æœ‰çš„æ—¶å€™æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªå…·ä½“çš„åœ°ç†åæ ‡ï¼Œå´æƒ³çŸ¥é“è¿™ä¸ªåœ°æ–¹çš„åœ°å€ï¼Œå°±ç§°ä½œé€†åœ°ç†ç¼–ç ã€‚ åœ°ç†ç¼–ç å·¥å…·ï¼ˆGeocoding Toolsï¼‰locatoråˆ¶ä½œæ‰“å¼€arcCatalogï¼Œæ‰¾åˆ°å·¥å…·ç®±ArcToolboxä¸­çš„Geocoding Toolsâ€”Create Address Locatorï¼Œç•Œé¢å¦‚ä¸‹ï¼š locatorå·²ç»åˆ¶ä½œå®Œæˆï¼Œæ¥ä¸‹æ¥å°±æ˜¯å‘å¸ƒåœ°ç†ç¼–ç æœåŠ¡å³é”®locatorå·¥å…·ï¼Œé€‰æ‹©Share asâ€”Geocode Serviceï¼Œç•Œé¢å¦‚ä¸‹ï¼š åˆ°è¿™é‡Œï¼Œåœ°ç†ç¼–ç æœåŠ¡å·²ç»ç»“æŸï¼Œæœ€åæ˜¯æµ‹è¯•ä¸€ä¸‹å‘å¸ƒçš„æœåŠ¡æ˜¯å¦æˆåŠŸï¼ˆ1ï¼‰æµ‹è¯•Find Address Candidatesï¼ˆ2ï¼‰æµ‹è¯•Reverse Geocode","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS Serverä¹‹å‘å¸ƒç½‘ç»œåˆ†ææœåŠ¡","slug":"ArcGIS-API-for-JS07","date":"2019-08-05T09:30:10.000Z","updated":"2022-11-02T11:15:20.455Z","comments":true,"path":"2019/08/05/ArcGIS-API-for-JS07/","link":"","permalink":"http://xdd7130.github.io/2019/08/05/ArcGIS-API-for-JS07/","excerpt":"","text":"ArcGISä¸­ç½‘ç»œåˆ†æåˆ†ä¸º : æœ€çŸ­è·¯å¾„åˆ†æï¼ŒæœåŠ¡åŒºä¿¡æ¯ç­‰ç­‰,å¦‚æœæƒ³è¦åœ¨Webåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ç½‘ç»œåˆ†ææœåŠ¡ï¼Œéœ€è¦å°†æˆ‘ä»¬çš„æ•°æ®å‘å¸ƒä¸ºç½‘ç»œåˆ†ææœåŠ¡ å‘å¸ƒç½‘ç»œåˆ†ææœåŠ¡æ­¥éª¤å¦‚ä¸‹ï¼š 1.åˆ©ç”¨ArcMapåˆ›å»ºç½‘ç»œï¼ˆå¦‚ä½•åˆ›å»ºç½‘ç»œï¼Œè¯·æŸ¥çœ‹ArcGISå¸®åŠ©æ–‡æ¡£ï¼‰2.å°†åˆ›å»ºçš„åœ°å›¾è¿›è¡Œç¬¦å·åŒ–3.å¼€å¯ç½‘ç»œåˆ†ææƒé™,æ·»åŠ åˆ†æå›¾å±‚4.ä¿®æ”¹å±æ€§ï¼Œå°†å…¶å‘å¸ƒä¸ºç½‘ç»œæœåŠ¡ åˆ©ç”¨ArcMapåˆ›å»ºç½‘ç»œåˆ›å»ºçš„ç½‘ç»œä¸ºï¼š å°†åˆ›å»ºçš„åœ°å›¾è¿›è¡Œç¬¦å·åŒ– å¼€å¯ç½‘ç»œåˆ†ææƒé™å¹¶æ·»åŠ åˆ†æå›¾å±‚å³å‡»ç©ºç™½å¤„Network Analystç½‘ç»œåˆ†æå·¥å…·æ¡å¦‚æœæƒ³è¦è¿›è¡Œæœ€çŸ­è·¯å¾„åˆ†æï¼Œè¿›è¡Œæ–°å»ºè·¯å¾„æ³¨ï¼šå°†è·¯å¾„å›¾å±‚åç§°ä¿®æ”¹ä¸ºè‹±æ–‡åï¼ˆæ­¤å¤„æ”¹ä¸ºRouteï¼‰å¦‚æœè¿›è¡ŒæœåŠ¡åŒºåˆ†æï¼Œæ·»åŠ æœåŠ¡åŒºå›¾å±‚ ä¿®æ”¹å±æ€§å¹¶å°†å…¶å‘å¸ƒä¸ºç½‘ç»œæœåŠ¡åˆ©ç”¨ArcMapé“¾æ¥ArcGIS Server ï¼Œå¹¶å–åä¸ºmynetï¼ˆå­˜æ”¾åœ¨Testç›®å½•ä¸‹ï¼‰ï¼Œåˆ°è¾¾æœåŠ¡ç¼–è¾‘å™¨ æŸ¥çœ‹æœåŠ¡æ˜¯å¦å‘å¸ƒæˆåŠŸä»ç½‘ç«™å‡ºè¾“å…¥ç½‘å€http://localhost:6080/arcgis/rest/services,è¿›å…¥Testæ–‡ä»¶å¤¹ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšåˆšå‘å¸ƒçš„ç½‘ç»œæœåŠ¡ï¼š","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS Serverä¹‹å‘å¸ƒç»“æœåœ°å›¾æœåŠ¡","slug":"ArcGIS-API-for-JS06","date":"2019-08-05T09:09:57.000Z","updated":"2022-11-02T11:15:20.450Z","comments":true,"path":"2019/08/05/ArcGIS-API-for-JS06/","link":"","permalink":"http://xdd7130.github.io/2019/08/05/ArcGIS-API-for-JS06/","excerpt":"","text":"ä»€ä¹ˆæ˜¯ç»“æœåœ°å›¾æœåŠ¡ï¼Ÿåœ¨ArcGISä¸­ç©ºé—´æ’å€¼åº”è¯¥æ˜¯æˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„æ“ä½œï¼Œä½†æ˜¯åœ¨ArcGIS APIå´å¹¶æ²¡æœ‰æä¾›ç›¸åº”çš„åŠŸèƒ½ï¼Œä¸Šç¯‡æåˆ°ç”¨GPæœåŠ¡æ¥å®ç°æˆ‘ä»¬çš„åŠŸèƒ½ï¼Œä½†æ˜¯åˆæœ‰ä¸€ä¸ªé—®é¢˜å­˜åœ¨ï¼Œæ’å€¼ä¹‹åçš„æ•°æ®æ—¶æ …æ ¼æ•°æ®ï¼Œåœ¨å®¢æˆ·ç«¯æˆ‘ä»¬åº”è¯¥æ€ä¹ˆæ¥å—æ’å€¼åçš„æ …æ ¼æ•°æ®å‘¢ï¼Œæ¥å—åˆ°çš„æ …æ ¼ä¿¡æ¯æˆ‘ä»¬åˆè¦æ€ä¹ˆæ˜¾ç¤ºå‘¢ï¼Ÿæ­¤æ—¶å°±ç”¨åˆ°äº†æˆ‘ä»¬çš„ç»“æœåœ°å›¾æœåŠ¡ï¼ï¼ï¼Œæ‰€è°“çš„ç»“æœåœ°å›¾æœåŠ¡ï¼Œä¾¿æ˜¯ä¸ºäº†æ¥å—GPæœåŠ¡è¿”å›æ …æ ¼æ•°æ®çš„æƒ…å†µã€‚ å‘å¸ƒç»“æœåœ°å›¾æœåŠ¡ä»¥ç©ºé—´æ’å€¼ä¸ºä¾‹ï¼Œåˆ›å»ºæˆ‘ä»¬çš„ç»“æœåœ°å›¾æœåŠ¡ï¼Œåˆ›å»ºç»“æœåœ°å›¾æœåŠ¡ä¸€èˆ¬æ­¥éª¤å¦‚ä¸‹ï¼š 1.åˆ›å»ºæ¨¡å‹2.ä¿®æ”¹æˆ‘ä»¬çš„æ¨¡å‹å‚æ•°3.è¿è¡Œæ–°åˆ›å»ºçš„æ¨¡å‹4.å°†è¿è¡Œåçš„ç»“æœè¿›è¡Œæ¸²æŸ“5.å°†æ¨¡å‹å‘å¸ƒä¸ºæœåŠ¡ åˆ›å»ºç©ºé—´æ’å€¼æ¨¡å‹æ³¨ï¼šå‚æ•°ä¸€å®šè¦ç”¨è‹±æ–‡ ä¿®æ”¹æˆ‘ä»¬çš„æ¨¡å‹å‚æ•°å°†Inputçš„ç±»å‹æ”¹ä¸ºè¦ç´ é›† è¿è¡Œæ–°åˆ›å»ºçš„æ¨¡å‹è¿è¡Œæˆ‘ä»¬çš„æ¨¡å‹ç»“æœå°†è¿è¡Œåçš„ç»“æœè¿›è¡Œæ¸²æŸ“ï¼ˆå¾ˆé‡è¦ï¼‰æ³¨ï¼šå¾ˆé‡è¦ï¼Œå¦‚æœé€‰æ‹©çš„æ¸²æŸ“æ–¹å¼ä¸å¥½ï¼Œé‚£ä¹ˆWebç«¯è¿”å›çš„ç»“æœå˜ä¸æ˜¯å¾ˆå¥½ã€‚ å°†æ¨¡å‹å‘å¸ƒä¸ºæœåŠ¡ç‚¹å‡»åœ°ç†å¤„ç†-&gt;ç»“æœ-&gt;å³é”®æ¨¡å‹å…±äº«ä¸ºåœ°ç†å¤„ç†æœåŠ¡ï¼ŒæœåŠ¡åç§°ä¸ºï¼šMykingï¼Œå­˜æ”¾åœ¨Testæ–‡ä»¶å¤¹ä¸‹é¢ï¼šä¿®æ”¹æœåŠ¡å‚æ•°ä¸ºåŒæ­¥ï¼Œå¹¶æŸ¥çœ‹åœ°å›¾æœåŠ¡ç»“æœæ³¨ï¼šä¸€å®šè¦å‹¾é€‰æŸ¥çœ‹å«åœ°å›¾æœåŠ¡çš„ç»“æœï¼Œå¾ˆé‡è¦ï¼ï¼å¾ˆé‡è¦ï¼ï¼å¾ˆé‡è¦ï¼ï¼ä¿®æ”¹æœåŠ¡å±æ€§å‚æ•°","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS Serverä¹‹å‘å¸ƒGPæœåŠ¡-è¿”å›çŸ¢é‡æ•°æ®","slug":"ArcGIS-API-for-JS05","date":"2019-08-05T08:51:51.000Z","updated":"2022-11-02T11:15:20.442Z","comments":true,"path":"2019/08/05/ArcGIS-API-for-JS05/","link":"","permalink":"http://xdd7130.github.io/2019/08/05/ArcGIS-API-for-JS05/","excerpt":"","text":"ä»€ä¹ˆæ˜¯GPæœåŠ¡åœ¨WebGISå¼€å‘å½“ä¸­ï¼Œè™½ç„¶ArcGIS APIæä¾›ç»™æˆ‘ä»¬å¾ˆå¤šçš„æ¥å£ï¼Œä½†æ˜¯ç°å®éœ€æ±‚æ€»æ˜¯åƒå˜ä¸‡åŒ–çš„ï¼Œå¾ˆå¤šå¯èƒ½éƒ¨åˆ†éœ€æ±‚åœ¨æˆ‘ä»¬çš„APIä¸­æ²¡æœ‰å®ç°ï¼Œè€ŒGPæœåŠ¡å°±å¼¥è¡¥äº†è¿™ä¸€ä¸ªç¼ºç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å°†ArcGISä¸­çš„GPå·¥å…·å‘å¸ƒä¸ºæœåŠ¡ï¼Œæä¾›ç»™æˆ‘ä»¬å‰ç«¯è°ƒç”¨ã€‚ GPæœåŠ¡çš„åˆ†ç±»GPæœåŠ¡ä»è¿”å›ç±»å‹ä¸Šå¯ä»¥åˆ†ä¸ºï¼š è¿”å›çŸ¢é‡æ•°æ®è¿”å›æ …æ ¼æ•°æ® GPæœåŠ¡çš„å‚æ•°å¯¹åº”åœ¨ArcGISä¸­ï¼ŒGPå·¥å…·çš„å‚æ•°å’ŒGPæœåŠ¡çš„å‚æ•°æ˜¯æœ‰ä¸€ä¸ªå¯¹åº”å‚æ•°çš„ï¼Œåœ¨ç°å®å¼€å‘ä¸­ï¼ŒGPæœåŠ¡æ€»æ˜¯å®¹æ˜“è°ƒç”¨å¤±è´¥ï¼Œè¿™å¾ˆæœ‰å¯èƒ½ä¾¿æ˜¯GPæœåŠ¡çš„å‚æ•°ä¸å¯¹åº”å¯¼è‡´ï¼Œå› æ­¤ï¼šå½“æˆ‘ä»¬å‘å¸ƒGPæœåŠ¡æ—¶ï¼Œå‚æ•°ä¾¿æ˜¯æˆ‘ä»¬é«˜åº¦é‡è§†çš„åœ°æ–¹ã€‚ä»¥ä¸‹æ˜¯GPæœåŠ¡å’ŒGPå·¥å…·å‚æ•°å¯¹åº”è¡¨ï¼š å‘å¸ƒGPæœåŠ¡ åœ¨æœ¬å®ä¾‹ä¸­ä»¥ç¼“å†²åŒºåˆ†æä¸ºä¾‹ï¼Œå‘å¸ƒä¸€ä¸ªGPæœåŠ¡ã€‚åœ¨ArcGIS10.1ç‰ˆæœ¬ä»¥åï¼Œå‘å¸ƒGPæœåŠ¡ä¹‹å‰éœ€è¦å°†GPå·¥å…·æˆåŠŸè¿è¡Œä¸€æ¬¡æ‰å¯ã€‚å‘å¸ƒGPæœåŠ¡çš„æ­¥éª¤å¤§è‡´åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š 1.åˆ›å»ºGPæ¨¡å‹2.ä¿®æ”¹æ¨¡å‹å‚æ•°ï¼Œè¿è¡Œæ¨¡å‹3.åœ¨ç»“æœçª—å£å°†è¿è¡ŒæˆåŠŸçš„GPæ¨¡å‹å…±äº«ä¸ºæœåŠ¡ åˆ›å»ºGPæ¨¡å‹æ–°å»ºä¸€ä¸ªå·¥å…·ç®±å¹¶åˆ›å»ºä¸€ä¸ªæ–°æ¨¡å‹å–åä¸ºMybufferå³é”®Mybufferç‚¹å‡»ç¼–è¾‘æ„å»ºç¼“å†²åŒºæ¨¡å‹ ä¿®æ”¹æ¨¡å‹å‚æ•°å¹¶è¿è¡Œæ¨¡å‹ä¿®æ”¹Inputå˜é‡çš„æ•°æ®ç±»å‹ï¼Œæ”¹ä¸ºè¾“å…¥è¦ç´ é›†è®¾ç½®ä¸´æ—¶å‘½åç©ºé—´ï¼Œå³é”®ç©ºç™½å¤„ï¼Œç‚¹å‡»æ¨¡å‹å±æ€§ï¼Œè®¾ç½®ç¯å¢ƒç‚¹å‡»ä¿å­˜è¿è¡Œæ¨¡å‹è¿è¡ŒæˆåŠŸ åœ¨ç»“æœçª—å£å°†è¿è¡ŒæˆåŠŸçš„GPæ¨¡å‹å…±äº«ä¸ºæœåŠ¡ç‚¹å‡»åœ°ç†å¤„ç†-&gt;ç»“æœæ‰“å¼€ç»“æœçª—å£å³é”®æ¨¡å‹å…±äº«ä¸ºåœ°ç†å¤„ç†æœåŠ¡","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS Serverä¹‹å‘å¸ƒå½±åƒæœåŠ¡","slug":"ArcGIS-API-for-JS04","date":"2019-08-05T08:25:58.000Z","updated":"2022-11-02T11:15:20.432Z","comments":true,"path":"2019/08/05/ArcGIS-API-for-JS04/","link":"","permalink":"http://xdd7130.github.io/2019/08/05/ArcGIS-API-for-JS04/","excerpt":"","text":"åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†æ»¡è¶³ç”¨æˆ·ä¸åŒçš„éœ€æ±‚ï¼ŒEsriåˆ¶å®šäº†å„ç§ä¸åŒçš„æœåŠ¡ç±»å‹ï¼Œæ¯ä¸€ç§æœåŠ¡ç±»å‹éƒ½æœ‰ç€è‡ªå·±çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶ç‰¹å®šçš„æœåŠ¡ç±»å‹å¯ä»¥å®ç°ç‰¹æ€§çš„åŠŸèƒ½ï¼Œæ­¤ç¯‡åšå®¢ä¾¿è¯´ä¸€è¯´å½±åƒæœåŠ¡ ä»€ä¹ˆæ˜¯å½±åƒæœåŠ¡ï¼Ÿå½±åƒæœåŠ¡æ˜¯å°†æ …æ ¼æ•°æ®å’Œå½±åƒæ•°æ®ä½œä¸ºæœåŠ¡å‘å¸ƒå‡ºå»ã€‚æ­¤æ—¶å®¢æˆ·ç«¯ä¾¿å¯ä»¥å¯¹æ …æ ¼æ•°æ®çš„è¿›è¡Œè®¿é—®ã€‚ä¾‹å¦‚ï¼šæŸ¥çœ‹æ …æ ¼çš„æ³¢æ®µä¿¡æ¯ï¼ŒæŸ¥çœ‹æ …æ ¼æŸä¸€ä¸ªåƒå…ƒçš„å€¼ç­‰ç­‰ã€‚ ä»€ä¹ˆæ•°æ®å¯ä»¥å‘å¸ƒä¸ºå½±åƒæœåŠ¡ï¼Ÿå‘å¸ƒå½±åƒæœåŠ¡ï¼Œå¯¹äºåŸå§‹æ•°æ®æ˜¯æœ‰ä¸€å®šçš„è¦æ±‚çš„ï¼Œå½“æ•°æ®å‡ºç°é—®é¢˜æ—¶ï¼Œæ•°æ®æ˜¯ä¸å¯ä»¥å‘å¸ƒæˆåŠŸçš„ï¼Œå½±åƒæœåŠ¡æ”¯æŒçš„æ•°æ®ä¸»è¦æœ‰ï¼š æ …æ ¼æ•°æ®é›†æ …æ ¼å›¾å±‚é•¶åµŒæ•°æ®é›†é•¶åµŒå›¾å±‚ å‘å¸ƒå½±åƒæœåŠ¡å‘å¸ƒå½±åƒæœåŠ¡éå¸¸ç®€å•ï¼Œä¸åœ°å›¾æœåŠ¡ä¸åŒçš„æ˜¯ï¼šå‘å¸ƒå½±åƒæœåŠ¡éœ€è¦åœ¨ArcCatalogä¸­è¿›è¡Œï¼Œä¸»è¦åˆ†æ­¥éª¤ä¸ºï¼š 1.åœ¨ArcCatalogæ‰¾åˆ°æˆ‘ä»¬è¦æ …æ ¼æ•°æ®é›†ã€‚2.é€šè¿‡ArcCatalogå°†æˆ‘ä»¬çš„æ …æ ¼å…±äº«ä¸ºå½±åƒæœåŠ¡ã€‚3.æŸ¥çœ‹æœåŠ¡æ˜¯å¦å‘å¸ƒæˆåŠŸ åœ¨ArcCatalogæ‰¾åˆ°æˆ‘ä»¬è¦æ …æ ¼æ•°æ®é›†å‘å¸ƒçš„æ•°æ®ä¸ºæ•°å­—é«˜ç¨‹æ¨¡å‹ï¼ˆDEMï¼‰ å°†æ …æ ¼æ•°æ®å…±äº«ä¸ºå½±åƒæœåŠ¡ã€‚åˆ°è¾¾æœåŠ¡ç¼–è¾‘å™¨ï¼Œå‘å¸ƒæœ€ç®€å•çš„å½±åƒæœåŠ¡ï¼Œç›´æ¥ç‚¹å‡»å‘å¸ƒå³å¯-&gt;å‘å¸ƒæˆåŠŸã€‚ å¯èƒ½å‘ç”Ÿçš„é”™è¯¯ï¼ˆè‹¥æœåŠ¡å‘å¸ƒæˆåŠŸï¼Œæ­¤å¤„å¯ç•¥å»ï¼‰é”™è¯¯å‘ç”Ÿå‘å¸ƒæœåŠ¡å‘ŠçŸ¥æˆ‘æœåŠ¡å®šä¹‰å¤±è´¥ é”™è¯¯åŸå› æ­¤é”™è¯¯å‘ç”Ÿçš„åŸå› æ˜¯ä½ çš„DEMå­˜æ”¾åœ¨æŸä¸€ä¸ªæ•°æ®åº“ä¸­ï¼Œå¯¼è‡´æ•°æ®åœ¨æ•°æ®åº“ä¸­ä½†æ˜¯æ•°æ®çš„æ ¼å¼æœ‰é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘æƒ³æŠŠdemå¯¼å‡ºæ¥ï¼Œå´å‘ç°ä¹Ÿä¸èƒ½å¯¼å‡ºï¼Œå¦‚å›¾æ‰€ç¤ºï¼š å¦‚ä½•è§£å†³é”™è¯¯1.ç”¨ArcMapæ‰“å¼€ç›¸åº”çš„Dem2.ä»ArcMapä¸­å°†ç›¸åº”çš„æ …æ ¼æ•°æ®å¯¼å‡ºåˆ°ç¡¬ç›˜ä¸Š3.é‡æ–°å‘å¸ƒï¼Œå³å¯æˆåŠŸã€‚ ç”¨ArcMapæ‰“å¼€ç›¸åº”çš„Dem ä»ArcMapä¸­å°†ç›¸åº”çš„æ …æ ¼æ•°æ®å¯¼å‡ºåˆ°ç¡¬ç›˜ä¸Šç„¶ååœ¨catalogä¸­é‡æ–°å‘å¸ƒã€‚","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS Serverä¹‹å‘å¸ƒè¦ç´ æœåŠ¡","slug":"ArcGIS-API-for-JS03","date":"2019-08-05T07:02:49.000Z","updated":"2022-11-02T11:15:20.425Z","comments":true,"path":"2019/08/05/ArcGIS-API-for-JS03/","link":"","permalink":"http://xdd7130.github.io/2019/08/05/ArcGIS-API-for-JS03/","excerpt":"","text":"ä»€ä¹ˆæ˜¯è¦ç´ æœåŠ¡ï¼Ÿè¦ç´ æœåŠ¡å¯ç”¨æ¥é€šè¿‡ Internet æä¾›è¦ç´ ï¼Œå¹¶æä¾›æ˜¾ç¤ºè¦ç´ æ—¶æ‰€è¦ä½¿ç”¨çš„ç¬¦å·ç³»ç»Ÿã€‚ä¹‹åï¼Œå®¢æˆ·ç«¯å¯æ‰§è¡ŒæŸ¥è¯¢æ“ä½œä»¥è·å–è¦ç´ ï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„ç¼–è¾‘æ“ä½œã€‚è¦ç´ æœåŠ¡æä¾›äº†å¯ç”¨äºæé«˜å®¢æˆ·ç«¯ç¼–è¾‘ä½“éªŒçš„æ¨¡æ¿ã€‚æ­¤å¤–ï¼Œè¦ç´ æœåŠ¡ä¹Ÿå¯ä»¥å¯¹å…³ç³»ç±»å’Œéç©ºé—´è¡¨ä¸­çš„æ•°æ®è¿›è¡ŒæŸ¥è¯¢å’Œç¼–è¾‘ã€‚ç®€å•çš„è¯´ï¼Œè¦ç´ æœåŠ¡çš„æ•°æ®æ˜¯é€šè¿‡ArcSDEå°†æ•°æ®å‚¨å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œå½“å®¢æˆ·ç«¯è¯·æ±‚è¦ç´ æœåŠ¡æ—¶ï¼ŒæœåŠ¡å™¨ä»æ•°æ®åº“ä¸­è¯»å–æ•°æ®ç”Ÿæˆå›¾ç‰‡ï¼Œå°†å›¾ç‰‡è¿”è¿˜ç»™å®¢æˆ·ç«¯ã€‚ è¦ç´ æœåŠ¡çš„ä¼˜ç‚¹è¦ç´ æœåŠ¡ç”±äºæ•°æ®æ˜¯å‚¨å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œæ‰€ä»¥å®ç°çš„åŠŸèƒ½å¤šã€‚ä¾‹å¦‚ï¼šå®¢æˆ·ç«¯å¯¹æœåŠ¡ä¸­çš„è¦ç´ è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼Œè¦ç´ æœåŠ¡å¯ä»¥è¿›è¡Œæ¸²æŸ“ï¼Œæ”¹å˜å›¾å±‚çš„é¢œè‰² è¦ç´ æœåŠ¡æ•°æ®è¦æ±‚1ã€æ‰€æœ‰æ•°æ®å¿…é¡»æ¥è‡ªå•ä¸ª ArcSDE åœ°ç†æ•°æ®åº“ã€‚2ã€æ‰€æœ‰æ•°æ®å¿…é¡»é€šè¿‡åœ°ç†æ•°æ®åº“æ³¨å†Œã€‚3ã€å¦‚æœè¦å…è®¸ç¼–è¾‘æ•°æ®ï¼Œå°†éœ€è¦ ArcSDE æ•°æ®çš„å†™å…¥æƒé™ã€‚ä½¿ç”¨ OS èº«ä»½éªŒè¯æ—¶ï¼Œå¿…é¡»å‘ ArcGIS 4ã€Server å¸æˆ·æˆäºˆè¿™äº›æƒé™ã€‚5ã€æ”¯æŒç‰ˆæœ¬åŒ–å’Œæœªç‰ˆæœ¬åŒ–æ•°æ®ï¼›ä½†æ˜¯ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨æœåŠ¡ç¼–è¾‘éç®€å•ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œç½‘ç»œè¾¹ï¼‰ï¼Œåˆ™éœ€è¦è¿›è¡Œç‰ˆæœ¬åŒ–ã€‚ å‘å¸ƒè¦ç´ æœåŠ¡å‘å¸ƒè¦ç´ æœåŠ¡ä¸€èˆ¬åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š 1ã€å‡†å¤‡ä¸€ä¸ª ArcSDE åœ°ç†æ•°æ®åº“ï¼ˆæœ¬å®ä¾‹å‡†å¤‡çš„æ˜¯SQL Server2008 R2æ•°æ®åº“ï¼‰2ã€åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œå¹¶å°†å…¶å‡çº§ä¸ºåœ°ç†æ•°æ®åº“3ã€å°†æ•°æ®å­˜å‚¨åˆ°SDEæ•°æ®åº“ä¸­ï¼Œå¹¶è®¾ç½®æ•°æ®çš„å±æ€§4ã€å°†SDEæ•°æ®åº“æ³¨å†Œåˆ°ArcGIS Serverï¼Œå¹¶å‘å¸ƒæœåŠ¡ã€‚ å‡†å¤‡ä¸€ä¸ª ArcSDE åœ°ç†æ•°æ®åº“1ã€å®‰è£…SQL Server2008 R2æ•°æ®åº“ã€‚2ã€è‹¥æœåŠ¡å™¨å®‰è£…äº†ArcGIS Desktop,é‚£ä¹ˆä¾¿ä¸éœ€è¦å•ç‹¬å®‰è£…ArcSDEï¼Œå¦‚æœæœåŠ¡å™¨æ²¡æœ‰å®‰è£…ArcGIS Desktopï¼Œå¯ä»¥é€‰æ‹©å®‰è£…ArcGIS Desktopæˆ–è€…ArcSDEã€‚3ã€è‹¥Linuxæ“ä½œç³»ç»Ÿï¼Œåªèƒ½å•ç‹¬å®‰è£…ArcSDEè½¯ä»¶ åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œå¹¶å°†å…¶å‡çº§ä¸ºåœ°ç†æ•°æ®åº“å®‰è£…å®Œæˆå SQL Server2008 R2åï¼Œåˆ›å»ºä¸€ä¸ªmydbæ•°æ®åº“æ‰“å¼€ArcCatalogè¿æ¥mydbæ•°æ®åº“ æ³¨ï¼šå®ä¾‹åä¾¿æ˜¯æ•°æ®åº“ä¸­çš„Server nameï¼ˆä¸€å®šè¦å¯¹åº”ï¼‰ï¼Œç„¶åè¾“å…¥ç”¨æˆ·åï¼Œå¯†ç ï¼Œæœ€åé€‰æ‹©æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„æ•°æ®åº“mydb ç‚¹å‡»ç¡®å®šï¼Œå‡ºç°æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„æ•°æ®åº“localhost. sde å°†mydbæ•°æ®åº“å‡çº§ä¸ºåœ°ç†æ•°æ®åº“å³å‡»localhost. sde-&gt;å¯ç”¨åœ°ç†æ•°æ®åº“ï¼Œå¼¹å‡ºè¯¥ç”»é¢æ³¨ï¼šæˆæƒæ–‡ä»¶ä¸ºArcGIS Serveræˆæƒæ–‡ä»¶ï¼ˆecpæ–‡ä»¶ï¼‰ å°†æ•°æ®å­˜å‚¨åˆ°SDEæ•°æ®åº“ä¸­ï¼Œå¹¶è®¾ç½®æ•°æ®çš„å±æ€§å°†æ•°æ®å¯¼å…¥ArcSDEæ•°æ®åº“:å³é”®localhost.sde-&gt;å¯¼å…¥-&gt;è¦ç´ ç±»ï¼ˆå¤šä¸ªï¼‰ å°†SDEæ•°æ®åº“æ³¨å†Œåˆ°ArcGIS Serverï¼Œå¹¶å‘å¸ƒæœåŠ¡ã€‚1.å°†è¦å‘å¸ƒçš„å›¾å±‚æ‹–æ‹½åˆ°ArcMap2.ç‚¹å‡»æ–‡ä»¶-&gt;å…±äº«ä¸º-&gt;æœåŠ¡-&gt;å‘å¸ƒæœåŠ¡3.æ³¨å†Œæ•°æ®åº“åˆ°ArcGIS Server ç‚¹å‡»åŠŸèƒ½é€‰æ‹©Feature Accessç‚¹å‡»åˆ†æå‡ºç°é”™è¯¯ï¼šç‚¹å‡»é”™è¯¯æ³¨å†Œåœ°é‡Œæ•°æ®åº“","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS Serverä¹‹å‘å¸ƒåˆ‡ç‰‡åœ°å›¾æœåŠ¡","slug":"ArcGIS-API-for-JS02","date":"2019-08-05T02:17:48.000Z","updated":"2022-11-02T11:15:20.421Z","comments":true,"path":"2019/08/05/ArcGIS-API-for-JS02/","link":"","permalink":"http://xdd7130.github.io/2019/08/05/ArcGIS-API-for-JS02/","excerpt":"","text":"å‚è€ƒï¼šhttps://github.com/CarpenterGISer/ArcGIS-API-For-Javacsript ä»€ä¹ˆæ˜¯åˆ‡ç‰‡åœ°å›¾æœåŠ¡ï¼Ÿåˆ‡ç‰‡åœ°å›¾æœåŠ¡åˆå«ç¼“å­˜ç¬¬æœåŠ¡åŒºï¼Œåœ°å›¾ç¼“å­˜æ˜¯ä½¿åœ°å›¾å’Œå›¾åƒæœåŠ¡æ›´å¿«è¿è¡Œçš„ä¸€ç§éå¸¸æœ‰æ•ˆçš„æ–¹æ³•ã€‚åˆ›å»ºåœ°å›¾ç¼“å­˜æ—¶ï¼ŒæœåŠ¡å™¨ä¼šåœ¨è‹¥å¹²ä¸ªä¸åŒçš„æ¯”ä¾‹çº§åˆ«ä¸Šç»˜åˆ¶æ•´ä¸ªåœ°å›¾å¹¶å­˜å‚¨åœ°å›¾å›¾åƒçš„å‰¯æœ¬ã€‚ç„¶åï¼ŒæœåŠ¡å™¨å¯åœ¨æŸäººè¯·æ±‚ä½¿ç”¨åœ°å›¾æ—¶åˆ†å‘è¿™äº›å›¾åƒã€‚å¯¹äºæœåŠ¡å™¨æ¥è¯´ï¼Œæ¯æ¬¡è¯·æ±‚ä½¿ç”¨åœ°å›¾æ—¶ï¼Œè¿”å›ç¼“å­˜çš„å›¾åƒè¦æ¯”ç»˜åˆ¶åœ°å›¾å¿«å¾—å¤šã€‚ æ³¨ï¼šæ­¤å›¾ç‰‡çš„æ„æ€æ˜¯ï¼Œå°†åŒä¸€å¹…åœ°å›¾æŒ‰ç…§ä¸åŒçš„æ¯”ä¾‹è¿›è¡Œåˆ‡ç‰‡ï¼Œå¾—åˆ°ç›¸åº”çš„åœ°å›¾åˆ‡ç‰‡ã€‚ åˆ‡ç‰‡åœ°å›¾æœåŠ¡ä¼˜ç‚¹1ã€ç”±äºåˆ‡ç‰‡åœ°å›¾æœåŠ¡ä¸­çš„å›¾ç‰‡ä¸éœ€è¦æœåŠ¡å™¨å®æ—¶ç”Ÿæˆï¼Œæœ¬èº«å­˜åœ¨æœåŠ¡å™¨çš„ç¡¬ç›˜ä¸Šï¼Œæ‰€ä»¥å¤§å¤§æé«˜äº†æœåŠ¡å™¨çš„æ€§èƒ½ã€‚2ã€å›¾åƒçš„è¯¦ç»†ç¨‹åº¦ä¸ä¼šå¯¹æœåŠ¡å™¨åˆ†å‘å‰¯æœ¬çš„é€Ÿåº¦é€ æˆæ˜¾è‘—å½±å“ã€‚ åˆ‡ç‰‡åœ°å›¾æœåŠ¡ç¼ºç‚¹1ã€åˆ‡ç‰‡åœ°å›¾æœåŠ¡ç”±äºå›¾ç‰‡äº‹å…ˆå­˜åœ¨ï¼Œæ‰€ä»¥è¯¥æœåŠ¡å®ç°çš„åŠŸèƒ½æœ‰é™ï¼Œä¾‹å¦‚æƒ³éšè—æœåŠ¡ä¸­çš„æŸä¸€ä¸ªå›¾å±‚ä¸å¯ä»¥å®ç°ã€‚2ã€å½“ç¼“å­˜çº§åˆ«è¾ƒé«˜æ—¶ï¼Œå ç”¨çš„ç¡¬ç›˜å­˜å‚¨é‡è¾ƒå¤§ åˆ©ç”¨ArcMapå‘å¸ƒåˆ‡ç‰‡åœ°å›¾æœåŠ¡åˆ©ç”¨ArcMapå‘å¸ƒåˆ‡ç‰‡åœ°å›¾æœåŠ¡ä¸å‘å¸ƒåŠ¨æ€åœ°å›¾æœåŠ¡ç±»ä¼¼ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š 1ã€ç”¨ArcMapæ‰“å¼€æˆ‘ä»¬æƒ³è¦å‘å¸ƒä¸ºæœåŠ¡çš„æ•°æ®2ã€ç¬¦å·åŒ–æˆ‘ä»¬çš„æ•°æ®ï¼ˆå¯é€‰ï¼‰3ã€åˆ©ç”¨ArcMapè¿æ¥ArcGIS Server4ã€ä¿®æ”¹åœ°å›¾æœåŠ¡å±æ€§ï¼ˆä¿®æ”¹ä¸ºåˆ‡ç‰‡åœ°å›¾æœåŠ¡ï¼‰5ã€å‘å¸ƒæœåŠ¡åˆ°ArcGIS Server ï¼ˆæ­¥éª¤1-3ç•¥ï¼‰æ­¥éª¤4:ä¿®æ”¹åœ°å›¾æœåŠ¡å±æ€§ ç‚¹å‡»ç¼“å­˜-&gt;ä½¿ç”¨ç¼“å­˜ä¸­çš„åˆ‡ç‰‡-&gt;åˆ‡ç‰‡æ–¹æ¡ˆ-&gt;è®¾ç½®ç¼“å­˜çº§åˆ« æ³¨ï¼š è¿™ä¸ªåœ°æ–¹è®¾ç½®çš„æ˜¯5ä¸ªçº§åˆ«ï¼Œå¯ä»¥çœ‹åˆ°ç¼“å­˜çš„å¤§å°æ˜¯å°äº5Mï¼Œå½“è®¾ç½®çš„çº§åˆ«è¶Šå¤šæ—¶ï¼Œç¼“å­˜çš„å¤§å°åŸºæœ¬æˆå‡ ä½•å€æ•°å¢é•¿ æŸ¥çœ‹ç¡¬ç›˜ç¼“å­˜å¯ä»¥å»ArcGIS Serverç«™ç‚¹ç›®å½•æŸ¥çœ‹ç¼“å­˜ï¼ˆæˆ‘çš„ç«™ç‚¹æ˜¯åœ¨ï¼šC:\\arcgisserverï¼‰è¿›å…¥C:\\arcgisserver\\directories\\arcgiscacheå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšåˆšå‘å¸ƒçš„æœåŠ¡myTile æ³¨ï¼šå¦‚æœå‘å¸ƒçš„ä¸æ˜¯åˆ‡ç‰‡åœ°å›¾æœåŠ¡ã€‚æ­¤ç›®å½•ä¸‹é¢æ˜¯ä¸ä¼šæœ‰ç›¸åº”çš„æ–‡ä»¶å¤¹çš„ å»ArcGIS REST Services DirectoryæŸ¥çœ‹æœåŠ¡ åœ¨ç½‘å€ä¸Šè¾“å…¥http://localhost:6080/arcgis/rest/servicesè¿›å…¥æœåŠ¡ç›®å½•ï¼Œè¿›å…¥ Testæ–‡ä»¶å¤¹å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å‘å¸ƒçš„ä¸¤ä¸ªæœåŠ¡ æ³¨ï¼šå¯ä»¥çœ‹åˆ°myTileåé¢ä¹ŸåŠ äº†ä¸€ä¸ªï¼ˆMapServerï¼‰ï¼Œå¯ä»¥å¾—çŸ¥åˆ‡ç‰‡åœ°å›¾æœåŠ¡ä¹Ÿæ˜¯å±äºåœ°å›¾æœåŠ¡çš„ä¸€ç§ã€‚","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS Serverä¹‹å‘å¸ƒåŠ¨æ€åœ°å›¾æœåŠ¡","slug":"ArcGIS-API-for-JS01","date":"2019-08-05T02:17:48.000Z","updated":"2022-11-02T11:15:20.419Z","comments":true,"path":"2019/08/05/ArcGIS-API-for-JS01/","link":"","permalink":"http://xdd7130.github.io/2019/08/05/ArcGIS-API-for-JS01/","excerpt":"","text":"å‚è€ƒï¼šhttps://github.com/CarpenterGISer/ArcGIS-API-For-Javacsript åœ¨WebGISå¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ‰€éœ€è¦çš„æ•°æ®ä¸ä»…ä»…æ¥è‡ªäºArcGIS onlineï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å‘å¸ƒè‡ªå·±çš„æ•°æ®æœåŠ¡,åœ¨è¿™é‡Œä¸»è¦è¯´æ˜ä¸€ä¸‹å¦‚ä½•åˆ©ç”¨ArcGIS Serverå‘å¸ƒè‡ªå·±çš„åŠ¨æ€åœ°å›¾æœåŠ¡ã€‚ ä»€ä¹ˆæ˜¯åœ°å›¾æœåŠ¡?åœ°å›¾æœåŠ¡æ˜¯ä¸€ç§åˆ©ç”¨ ArcGIS ä½¿åœ°å›¾å¯é€šè¿‡ Web è¿›è¡Œè®¿é—®çš„æ–¹æ³•ã€‚æˆ‘ä»¬é¦–å…ˆåœ¨ ArcMap ä¸­åˆ¶ä½œåœ°å›¾ï¼Œç„¶åå°†åœ°å›¾ä½œä¸ºæœåŠ¡å‘å¸ƒåˆ° ArcGIS Server ç«™ç‚¹ä¸Šã€‚è¿™æ ·ï¼ŒInternet ç”¨æˆ·ä¾¿å¯åœ¨ Webåº”ç”¨ç¨‹åºã€ArcGIS for Desktopã€ArcGIS Online ä»¥åŠå…¶ä»–å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨æ­¤åœ°å›¾æœåŠ¡ã€‚å½“åœ°å›¾æœåŠ¡å‘å¸ƒæˆåŠŸåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç½‘å€ï¼ˆhttp://localhost:6080/arcgis/rest/servicesï¼‰æ¥æŸ¥çœ‹åœ°å›¾æœåŠ¡æ‰€æ”¯æŒçš„æ“ä½œï¼Œåœ°å›¾æœåŠ¡æ‰€åŒ…å«çš„æ•°æ®ï¼Œä»¥åŠæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ç½‘å€æ¥æµ‹è¯•åœ°å›¾æœåŠ¡çš„åŠŸèƒ½ åœ°å›¾æœåŠ¡ä¹‹åŠ¨æ€åœ°å›¾æœåŠ¡æˆ‘ä»¬å¸¸ç”¨çš„åœ°å›¾æœåŠ¡ä¸»è¦åˆ†ä¸ºä¸¤ç§ï¼šåŠ¨æ€åœ°å›¾æœåŠ¡ï¼Œåˆ‡ç‰‡åœ°å›¾æœåŠ¡ï¼ˆä¹Ÿå«ç“¦ç‰‡åœ°å›¾æœåŠ¡ï¼‰ï¼Œåœ°å›¾æœåŠ¡å…¶å®å¯ä»¥ç†è§£ä¸ºå›¾å±‚çš„é›†åˆï¼Œåœ¨æœ¬ç¯‡ä¸­ä¸»è¦è¯´çš„æ˜¯åŠ¨æ€åœ°å›¾æœåŠ¡ï¼ŒåŠ¨æ€åœ°å›¾æœåŠ¡çš„ç‰¹ç‚¹ï¼š 1ã€åŠ¨æ€åœ°å›¾ä¼šåœ¨ç”¨æˆ·å‘å‡ºè¯·æ±‚æ—¶è¿›è¡Œç»˜åˆ¶ã€‚2ã€åœ°å›¾æœåŠ¡å…·æœ‰å…è®¸å®¢æˆ·ç«¯ï¼ˆä¾‹å¦‚ ArcGIS web APIï¼‰åŠ¨æ€æ›´æ”¹æ¯ä¸ªå›¾å±‚çš„è¡Œä¸ºå’Œå¤–è§‚ã€‚3ã€å¯ä»¥æ‰§è¡Œå±æ€§æŸ¥è¯¢ï¼Œç©ºé—´æŸ¥è¯¢ç­‰ç›¸å…³åŠŸèƒ½ã€‚ åˆ©ç”¨ArcMapå‘å¸ƒåŠ¨æ€åœ°å›¾æœåŠ¡åˆ©ç”¨ArcMapå‘å¸ƒè‡ªå·±çš„æœåŠ¡ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š 1ã€ç”¨ArcMapæ‰“å¼€æˆ‘ä»¬æƒ³è¦å‘å¸ƒä¸ºæœåŠ¡çš„æ•°æ®2ã€ç¬¦å·åŒ–æˆ‘ä»¬çš„æ•°æ®ï¼ˆå¯é€‰ï¼‰3ã€åˆ©ç”¨ArcMapè¿æ¥ArcGIS Serverå‘å¸ƒæœåŠ¡ æŸ¥çœ‹åœ°å›¾æœåŠ¡è‹¥å‘å¸ƒåˆ°æœ¬åœ°ï¼Œæ‰“å¼€å¹¶ç™»å½•æœåŠ¡ç®¡ç†å™¨ï¼ˆhttp://localhost:6080/arcgis/manager/ï¼‰æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ArcGIS API For js,æ¥è°ƒç”¨æˆ‘ä»¬çš„æœåŠ¡åšä¸€äº›äº‹æƒ…å•¦","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"}]},{"title":"ArcGIS","slug":"ArcGIS","date":"2019-07-13T13:35:13.000Z","updated":"2022-11-02T11:15:20.537Z","comments":true,"path":"2019/07/13/ArcGIS/","link":"","permalink":"http://xdd7130.github.io/2019/07/13/ArcGIS/","excerpt":"","text":"","categories":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"}],"tags":[{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/tags/ArcGIS/"}]},{"title":"React","slug":"react","date":"2019-07-13T13:35:13.000Z","updated":"2022-11-02T11:15:20.671Z","comments":true,"path":"2019/07/13/react/","link":"","permalink":"http://xdd7130.github.io/2019/07/13/react/","excerpt":"","text":"","categories":[{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/categories/React/"}],"tags":[{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/tags/React/"}]},{"title":"vueå…¶ä»–","slug":"vueå…¶ä»–","date":"2019-07-13T13:35:13.000Z","updated":"2022-11-02T11:15:20.678Z","comments":true,"path":"2019/07/13/vueå…¶ä»–/","link":"","permalink":"http://xdd7130.github.io/2019/07/13/vueå…¶ä»–/","excerpt":"","text":"IntellIJ IDEA é…ç½®æ”¯æŒVueå‚è€ƒï¼šhttps://www.jianshu.com/p/01d832e028eaç¬¬ä¸€æ­¥ï¼šå…ˆå®‰è£…vueæ’ä»¶:file â€“&gt; settings â€“&gt; pluginsï¼Œç„¶åä»€ä¹ˆéƒ½ä¸ç”¨è¾“å…¥ï¼Œç›´æ¥ç‚¹å‡»Browse repositoriesâ€¦ ç´§æ¥ç€å·¦ä¸Šæ–¹è¾“å…¥â€œvueâ€ï¼Œç‚¹å‡»æœç´¢ç»“æœé‡Œçš„vue.jsï¼Œå³è¾¹ä¼šæœ‰ç»¿è‰²installæŒ‰é’®ï¼Œå®‰è£…æˆåŠŸåé‡å¯ideaï¼Œè¿™æ ·ideaå°±èƒ½è¯†åˆ«.vueæ–‡ä»¶äº†ã€‚ç¬¬äºŒæ­¥ï¼šè®¾ç½®vueæ–°å»ºæ–‡ä»¶æ¨¡æ¿ã€‚ å®‰è£…Element-uivue2.0 + element UI ä¸­ el-table æ•°æ®å¯¼å‡ºExcelæœ€è¿‘åå°é¡¹ç›®ä¸­æœ‰éœ€è¦å°†æ¸¸æˆç”¨æˆ·æäº¤çš„è¿”åˆ©æ•°æ®ä¿¡æ¯å¯¼å‡ºä¸ºexcelè¡¨çš„å½¢å¼ï¼Œæ‰€ä»¥å¯¹æ­¤åŠŸèƒ½è¿›è¡Œäº†ç®€å•çš„æ€»ç»“ï¼š å®‰è£…ç›¸å…³ä¾èµ–12ä¸»è¦æ˜¯ä¸¤ä¸ªä¾èµ–:(xlsx å’Œ file-saver)npm install --save xlsx file-saver å¯¹äºè¿™ä¸¤ä¸ªæ’ä»¶ä½¿ç”¨ï¼Œgithubä¸Šè¾¹æœ‰æ›´åŠ è¯¦ç»†çš„å‚è€ƒ12https://github.com/SheetJS/js-xlsx](https://github.com/SheetJS/js-xlsx)https://github.com/eligrey/FileSaver.js](https://github.com/eligrey/FileSaver.js åœ¨ç»„ä»¶å¤´é‡Œè¾¹å¼•å…¥æ’ä»¶(æµ‹è¯•çš„æ—¶å€™ï¼Œä¸‹è¾¹ä»£ç æ”¾åˆ°å…¥å£jsæ–‡ä»¶main.jsçš„æ—¶å€™æ²¡æœ‰æ•ˆæœï¼Œé—ç•™é—®é¢˜ï¼Œæœ‰å¾…è§£å†³)ï¼ˆæ”¾åˆ°ç»„ä»¶å¤´é‡Œè¾¹èƒ½å¤Ÿå®ç°æ•ˆæœï¼‰12import FileSaver from 'file-saver'import XLSX from 'xlsx' åœ¨å¯¹åº”ç»„ä»¶é‡Œè¾¹methodsé‡Œè¾¹å†™ä¸€ä¸ªæ–¹æ³•ï¼ˆåˆ°å¤„çš„æ—¶å€™è¿›è¡Œè°ƒç”¨ï¼‰1234567891011121314exportExcel () &#123; /* generate workbook object from table */ let wb = XLSX.utils.table_to_book(document.querySelector('#rebateSetTable')); /* get binary string as output */ let wbout = XLSX.write(wb, &#123; bookType: 'xlsx', bookSST: true, type: 'array' &#125;); try &#123; FileSaver.saveAs(new Blob([wbout], &#123; type: 'application/octet-stream' &#125;), 'ç”¨æˆ·æäº¤è¿”åˆ©è¡¨.xlsx'); &#125; catch (e) &#123; if (typeof console !== 'undefined') console.log(e, wbout) &#125; return wbout &#125;, æç¤ºï¼šä¸Šè¾¹æ–¹æ³•ä¸­ï¼šXLSX.uitls.table_to_book( æ”¾å…¥çš„æ˜¯table çš„DOM èŠ‚ç‚¹ ) ï¼Œsheetjs.xlsx å³ä¸ºå¯¼å‡ºè¡¨æ ¼çš„åå­—ï¼Œå¯ä¿®æ”¹ï¼ ç‚¹å‡»å¯¼å‡ºæŒ‰é’®æ‰§è¡Œ exportExcel çš„æ–¹æ³•å³å¯ ã€‚123&lt;div class=\"export\"&gt; &lt;el-button @click=\"exportExcel\" style=\"margin-top: 2px;\" size=\"medium\" type=\"success\"&gt;å¯¼å‡º&lt;/el-button&gt;&lt;/div&gt; vue element-uiè‡ªå®šä¹‰ä¸»é¢˜æ ·å¼æ–°å»ºä¸€ä¸ªelement-variables.scssï¼Œå¹¶åœ¨(main|app).jså…¥å£æ–‡ä»¶å¼•å…¥1234import Vue from 'vue'import Element from 'element-ui'import '@/styles/element-variables.scss' åœ¨ element-variables.scssï¼Œä¿®æ”¹ä½ è¦çš„ä¸»é¢˜æˆ–ç»„ä»¶é¢„è®¾çš„æ ·å¼å˜é‡å³å¯1234567891011121314/* æ”¹å˜ ä¸»é¢˜/æ ·å¼ç›¸å…³ å˜é‡ */$--color-primary: #1ABCB0;$--select-option-hover-background: #def1f2;$--select-option-selected-hover: #1abcb0;$--table-row-hover-background: #f2f2f2;$--table-header-color: #444;$--pagination-button-disabled-fill: transparent;$--pagination-fill: transparent;/* æ”¹å˜ icon å­—ä½“è·¯å¾„å˜é‡ï¼Œå¿…éœ€ */$--font-path: '~element-ui/lib/theme-chalk/fonts';/* æ”¹å˜ è·¯å¾„å˜é‡ï¼Œå¿…éœ€ */@import \"~element-ui/packages/theme-chalk/src/index\"; é»˜è®¤ element-variables.scss å…¨éƒ¨å˜é‡å†…å®¹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713/* Element Chalk Variables *//* Transition-------------------------- */$--all-transition: all .3s cubic-bezier(.645,.045,.355,1) !default;$--fade-transition: opacity 300ms cubic-bezier(0.23, 1, 0.32, 1) !default;$--fade-linear-transition: opacity 200ms linear !default;$--md-fade-transition: transform 300ms cubic-bezier(0.23, 1, 0.32, 1), opacity 300ms cubic-bezier(0.23, 1, 0.32, 1) !default;$--border-transition-base: border-color .2s cubic-bezier(.645,.045,.355,1) !default;$--color-transition-base: color .2s cubic-bezier(.645,.045,.355,1) !default;/* Colors-------------------------- */$--color-white: #fff !default;$--color-black: #000 !default;$--color-primary: #1ABCB0 !default;$--color-primary-light-1: mix($--color-white, $--color-primary, 10%) !default; /* 53a8ff */$--color-primary-light-2: mix($--color-white, $--color-primary, 20%) !default; /* 66b1ff */$--color-primary-light-3: mix($--color-white, $--color-primary, 30%) !default; /* 79bbff */$--color-primary-light-4: mix($--color-white, $--color-primary, 40%) !default; /* 8cc5ff */$--color-primary-light-5: mix($--color-white, $--color-primary, 50%) !default; /* a0cfff */$--color-primary-light-6: mix($--color-white, $--color-primary, 60%) !default; /* b3d8ff */$--color-primary-light-7: mix($--color-white, $--color-primary, 70%) !default; /* c6e2ff */$--color-primary-light-8: mix($--color-white, $--color-primary, 80%) !default; /* d9ecff */$--color-primary-light-9: mix($--color-white, $--color-primary, 90%) !default; /* ecf5ff */$--color-success: #67c23a !default;$--color-warning: #e6a23c !default;$--color-danger: #f56c6c !default;$--color-info: #909399 !default;$--color-success-light: mix($--color-white, $--color-success, 80%) !default;$--color-warning-light: mix($--color-white, $--color-warning, 80%) !default;$--color-danger-light: mix($--color-white, $--color-danger, 80%) !default;$--color-info-light: mix($--color-white, $--color-info, 80%) !default;$--color-success-lighter: mix($--color-white, $--color-success, 90%) !default;$--color-warning-lighter: mix($--color-white, $--color-warning, 90%) !default;$--color-danger-lighter: mix($--color-white, $--color-danger, 90%) !default;$--color-info-lighter: mix($--color-white, $--color-info, 90%) !default;$--color-text-primary: #303133 !default;$--color-text-regular: #606266 !default;$--color-text-secondary: #909399 !default;$--color-text-placeholder: #c0c4cc !default;/* Link-------------------------- */$--link-color: $--color-primary-light-2 !default;$--link-hover-color: $--color-primary !default;/* Background-------------------------- */$--background-color-base: #f5f7fa !default;/* Border-------------------------- */$--border-width-base: 1px !default;$--border-style-base: solid !default;$--border-color-base: #dcdfe6 !default;$--border-color-light: #e4e7ed !default;$--border-color-lighter: #ebeef5 !default;$--border-color-extra-light: #f2f6fc !default;$--border-color-hover: $--color-text-placeholder !default;$--border-base: $--border-width-base $--border-style-base $--border-color-base !default;$--border-radius-base: 4px !default;$--border-radius-small: 2px !default;$--border-radius-circle: 100% !default;/* Box-shadow-------------------------- */$--box-shadow-base: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04) !default;$--box-shadow-dark: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .12) !default;$--box-shadow-light: 0 2px 12px 0 rgba(0, 0, 0, 0.1) !default;/* Fill-------------------------- */$--fill-base: $--color-white !default;/* Font-------------------------- */$--font-path: 'fonts' !default;$--font-size-base: 14px !default;$--font-size-small: 13px !default;$--font-size-large: 18px !default;$--font-color-disabled-base: #bbb !default;$--font-weight-primary: 500 !default;$--font-line-height-primary: 24px !default;/* Size-------------------------- */$--size-base: 14px !default;/* z-index-------------------------- */$--index-normal: 1 !default;$--index-top: 1000 !default;$--index-popper: 2000 !default;/* Disable base-------------------------- */$--disabled-fill-base: $--background-color-base !default;$--disabled-color-base: $--color-text-placeholder !default;$--disabled-border-base: $--border-color-light !default;/* Icon-------------------------- */$--icon-color: #666 !default;$--icon-color-base: $--color-info !default;/* Checkbox-------------------------- */$--checkbox-font-size: 14px !default;$--checkbox-font-weight: $--font-weight-primary !default;$--checkbox-color: $--color-text-regular !default;$--checkbox-input-height: 14px !default;$--checkbox-input-width: 14px !default;$--checkbox-input-border-radius: $--border-radius-small !default;$--checkbox-input-fill: $--color-white !default;$--checkbox-input-border: $--border-base !default;$--checkbox-input-border-color: $--border-color-base !default;$--checkbox-icon-color: $--color-white !default;$--checkbox-disabled-input-border-color: $--border-color-base !default;$--checkbox-disabled-input-fill: #edf2fc !default;$--checkbox-disabled-icon-color: $--color-text-placeholder !default;$--checkbox-disabled-checked-input-fill: $--border-color-extra-light !default;$--checkbox-disabled-checked-input-border-color: $--border-color-base !default;$--checkbox-disabled-checked-icon-color: $--color-text-placeholder !default;$--checkbox-checked-text-color: $--color-primary !default;$--checkbox-checked-input-border-color: $--color-primary !default;$--checkbox-checked-input-fill: $--color-primary !default;$--checkbox-checked-icon-color: $--fill-base !default;$--checkbox-input-border-color-hover: $--color-primary !default;$--checkbox-bordered-height: 40px !default;$--checkbox-bordered-padding: 9px 20px 9px 10px !default;$--checkbox-bordered-medium-padding: 7px 20px 7px 10px !default;$--checkbox-bordered-small-padding: 5px 15px 5px 10px !default;$--checkbox-bordered-mini-padding: 3px 15px 3px 10px !default;$--checkbox-bordered-medium-input-height: 14px !default;$--checkbox-bordered-medium-input-width: 14px !default;$--checkbox-bordered-medium-height: 36px !default;$--checkbox-bordered-small-input-height: 12px !default;$--checkbox-bordered-small-input-width: 12px !default;$--checkbox-bordered-small-height: 32px !default;$--checkbox-bordered-mini-input-height: 12px !default;$--checkbox-bordered-mini-input-width: 12px !default;$--checkbox-bordered-mini-height: 28px !default;$--checkbox-button-font-size: $--font-size-base !default;$--checkbox-button-checked-fill: $--color-primary !default;$--checkbox-button-checked-color: $--color-white !default;$--checkbox-button-checked-border-color: $--color-primary !default;/* Radio-------------------------- */$--radio-font-size: 14px !default;$--radio-font-weight: $--font-weight-primary !default;$--radio-color: $--color-text-regular !default;$--radio-input-height: 14px !default;$--radio-input-width: 14px !default;$--radio-input-border-radius: $--border-radius-circle !default;$--radio-input-fill: $--color-white !default;$--radio-input-border: $--border-base !default;$--radio-input-border-color: $--border-color-base !default;$--radio-icon-color: $--color-white !default;$--radio-disabled-input-border-color: $--disabled-border-base !default;$--radio-disabled-input-fill: $--disabled-fill-base !default;$--radio-disabled-icon-color: $--disabled-fill-base !default;$--radio-disabled-checked-input-border-color: $--disabled-border-base !default;$--radio-disabled-checked-input-fill: $--disabled-fill-base !default;$--radio-disabled-checked-icon-color: $--color-text-placeholder !default;$--radio-checked-text-color: $--color-primary !default;$--radio-checked-input-border-color: $--color-primary !default;$--radio-checked-input-fill: $--color-white !default;$--radio-checked-icon-color: $--color-primary !default;$--radio-input-border-color-hover: $--color-primary !default;$--radio-bordered-height: 40px !default;$--radio-bordered-padding: 12px 20px 0 10px !default;$--radio-bordered-medium-padding: 10px 20px 0 10px !default;$--radio-bordered-small-padding: 8px 15px 0 10px !default;$--radio-bordered-mini-padding: 6px 15px 0 10px !default;$--radio-bordered-medium-input-height: 14px !default;$--radio-bordered-medium-input-width: 14px !default;$--radio-bordered-medium-height: 36px !default;$--radio-bordered-small-input-height: 12px !default;$--radio-bordered-small-input-width: 12px !default;$--radio-bordered-small-height: 32px !default;$--radio-bordered-mini-input-height: 12px !default;$--radio-bordered-mini-input-width: 12px !default;$--radio-bordered-mini-height: 28px !default;$--radio-button-font-size: $--font-size-base !default;$--radio-button-checked-fill: $--color-primary !default;$--radio-button-checked-color: $--color-white !default;$--radio-button-checked-border-color: $--color-primary !default;$--radio-button-disabled-checked-fill: $--border-color-extra-light !default;/* Select-------------------------- */$--select-border-color-hover: $--border-color-hover !default;$--select-disabled-border: $--disabled-border-base !default;$--select-font-size: $--font-size-base !default;$--select-close-hover-color: $--color-text-secondary !default;$--select-input-color: $--color-text-placeholder !default;$--select-multiple-input-color: #666 !default;$--select-input-focus-background: $--color-primary !default;$--select-input-font-size: 14px !default;$--select-option-color: $--color-text-regular !default;$--select-option-disabled-color: $--color-text-placeholder !default;$--select-option-disabled-background: $--color-white !default;$--select-option-height: 34px !default;$--select-option-hover-background: $--border-color-base !default;$--select-option-selected: $--color-primary !default;$--select-option-selected-hover: red !default;$--select-group-color: $--color-info !default;$--select-group-height: 30px !default;$--select-group-font-size: 12px !default;$--select-dropdown-background: $--color-white !default;$--select-dropdown-shadow: $--box-shadow-light !default;$--select-dropdown-empty-color: #999 !default;$--select-dropdown-max-height: 274px !default;$--select-dropdown-padding: 6px 0 !default;$--select-dropdown-empty-padding: 10px 0 !default;$--select-dropdown-border: solid 1px $--border-color-light !default;/* Alert-------------------------- */$--alert-padding: 8px 16px !default;$--alert-border-radius: $--border-radius-base !default;$--alert-title-font-size: 13px !default;$--alert-description-font-size: 12px !default;$--alert-close-font-size: 12px !default;$--alert-close-customed-font-size: 13px !default;$--alert-success-color: $--color-success-lighter !default;$--alert-info-color: $--color-info-lighter !default;$--alert-warning-color: $--color-warning-lighter !default;$--alert-danger-color: $--color-danger-lighter !default;$--alert-icon-size: 16px !default;$--alert-icon-large-size: 28px !default;/* Message Box-------------------------- */$--msgbox-width: 420px !default;$--msgbox-border-radius: 4px !default;$--msgbox-font-size: $--font-size-large !default;$--msgbox-content-font-size: $--font-size-base !default;$--msgbox-content-color: $--color-text-regular !default;$--msgbox-error-font-size: 12px !default;$--msgbox-padding-primary: 15px !default;$--msgbox-success-color: $--color-success !default;$--msgbox-info-color: $--color-info !default;$--msgbox-warning-color: $--color-warning !default;$--msgbox-danger-color: $--color-danger !default;/* Message-------------------------- */$--message-shadow: $--box-shadow-base !default;$--message-min-width: 380px !default;$--message-background-color: #edf2fc !default;$--message-padding: 15px 15px 15px 20px !default;$--message-content-color: $--color-text-regular !default;$--message-close-color: $--color-text-placeholder !default;$--message-close-size: 16px !default;$--message-close-hover-color: $--color-text-secondary !default;$--message-success-color: $--color-success !default;$--message-info-color: $--color-info !default;$--message-warning-color: $--color-warning !default;$--message-danger-color: $--color-danger !default;/* Notification-------------------------- */$--notification-width: 330px !default;$--notification-padding: 14px 26px 14px 13px !default;$--notification-radius: 8px !default;$--notification-shadow: $--box-shadow-light !default;$--notification-border-color: $--border-color-lighter !default;$--notification-icon-size: 24px !default;$--notification-close-font-size: $--message-close-size !default;$--notification-group-margin: 13px !default;$--notification-font-size: $--font-size-base !default;$--notification-color: $--color-text-regular !default;$--notification-title-font-size: 16px !default;$--notification-title-color: $--color-text-primary !default;$--notification-close-color: $--color-text-secondary !default;$--notification-close-hover-color: $--color-text-regular !default;$--notification-success-color: $--color-success !default;$--notification-info-color: $--color-info !default;$--notification-warning-color: $--color-warning !default;$--notification-danger-color: $--color-danger !default;/* Input-------------------------- */$--input-font-size: $--font-size-base !default;$--input-color: $--color-text-regular !default;$--input-width: 140px !default;$--input-height: 40px !default;$--input-border: $--border-base !default;$--input-border-color: $--border-color-base !default;$--input-border-radius: $--border-radius-base !default;$--input-border-color-hover: $--border-color-hover !default;$--input-fill: $--color-white !default;$--input-fill-disabled: $--disabled-fill-base !default;$--input-color-disabled: $--font-color-disabled-base !default;$--input-icon-color: $--color-text-placeholder !default;$--input-placeholder-color: $--color-text-placeholder !default;$--input-max-width: 314px !default;$--input-hover-border: $--border-color-hover !default;$--input-clear-hover-color: $--color-text-secondary !default;$--input-focus-border: $--color-primary !default;$--input-focus-fill: $--color-white !default;$--input-disabled-fill: $--disabled-fill-base !default;$--input-disabled-border: $--disabled-border-base !default;$--input-disabled-color: $--disabled-color-base !default;$--input-disabled-placeholder-color: $--color-text-placeholder !default;$--input-medium-font-size: 14px !default;$--input-medium-height: 36px !default;$--input-small-font-size: 13px !default;$--input-small-height: 32px !default;$--input-mini-font-size: 12px !default;$--input-mini-height: 28px !default;/* Cascader-------------------------- */$--cascader-menu-fill: $--fill-base !default;$--cascader-menu-font-size: $--font-size-base !default;$--cascader-menu-radius: $--border-radius-base !default;$--cascader-menu-border: $--border-base !default;$--cascader-menu-border-color: $--border-color-base !default;$--cascader-menu-border-width: $--border-width-base !default;$--cascader-menu-color: $--color-text-regular !default;$--cascader-menu-option-color-active: $--color-text-secondary !default;$--cascader-menu-option-fill-active: rgba($--color-text-secondary, 0.12) !default;$--cascader-menu-option-color-hover: $--color-text-regular !default;$--cascader-menu-option-fill-hover: rgba($--color-text-primary, 0.06) !default;$--cascader-menu-option-color-disabled: #999 !default;$--cascader-menu-option-fill-disabled: rgba($--color-black, 0.06) !default;$--cascader-menu-option-empty-color: #666 !default;$--cascader-menu-group-color: #999 !default;$--cascader-menu-shadow: 0 1px 2px rgba($--color-black, 0.14), 0 0 3px rgba($--color-black, 0.14) !default;$--cascader-menu-option-pinyin-color: #999 !default;$--cascader-menu-submenu-shadow: 1px 1px 2px rgba($--color-black, 0.14), 1px 0 2px rgba($--color-black, 0.14) !default;/* Group-------------------------- */$--group-option-flex: 0 0 (1/5) * 100% !default;$--group-option-offset-bottom: 12px !default;$--group-option-fill-hover: rgba($--color-black, 0.06) !default;$--group-title-color: $--color-black !default;$--group-title-font-size: $--font-size-base !default;$--group-title-width: 66px !default;/* Tab-------------------------- */$--tab-font-size: $--font-size-base !default;$--tab-border-line: 1px solid #e4e4e4 !default;$--tab-header-color-active: $--color-text-secondary !default;$--tab-header-color-hover: $--color-text-regular !default;$--tab-header-color: $--color-text-regular !default;$--tab-header-fill-active: rgba($--color-black, 0.06) !default;$--tab-header-fill-hover: rgba($--color-black, 0.06) !default;$--tab-vertical-header-width: 90px !default;$--tab-vertical-header-count-color: $--color-white !default;$--tab-vertical-header-count-fill: $--color-text-secondary !default;/* Button-------------------------- */$--button-font-size: 14px !default;$--button-font-weight: $--font-weight-primary !default;$--button-border-radius: $--border-radius-base !default;$--button-padding-vertical: 12px !default;$--button-padding-horizontal: 20px !default;$--button-medium-font-size: 14px !default;$--button-medium-border-radius: $--border-radius-base !default;$--button-medium-padding-vertical: 10px !default;$--button-medium-padding-horizontal: 20px !default;$--button-small-font-size: 12px !default;$--button-small-border-radius: #&#123;$--border-radius-base - 1&#125; !default;$--button-small-padding-vertical: 9px !default;$--button-small-padding-horizontal: 15px !default;$--button-mini-font-size: 12px !default;$--button-mini-border-radius: #&#123;$--border-radius-base - 1&#125; !default;$--button-mini-padding-vertical: 7px !default;$--button-mini-padding-horizontal: 15px !default;$--button-default-color: $--color-text-regular !default;$--button-default-fill: $--color-white !default;$--button-default-border: $--border-color-base !default;$--button-disabled-color: $--color-text-placeholder !default;$--button-disabled-fill: $--color-white !default;$--button-disabled-border: $--border-color-lighter !default;$--button-primary-border: $--color-primary !default;$--button-primary-color: $--color-white !default;$--button-primary-fill: $--color-primary !default;$--button-success-border: $--color-success !default;$--button-success-color: $--color-white !default;$--button-success-fill: $--color-success !default;$--button-warning-border: $--color-warning !default;$--button-warning-color: $--color-white !default;$--button-warning-fill: $--color-warning !default;$--button-danger-border: $--color-danger !default;$--button-danger-color: $--color-white !default;$--button-danger-fill: $--color-danger !default;$--button-info-border: $--color-info !default;$--button-info-color: $--color-white !default;$--button-info-fill: $--color-info !default;$--button-hover-tint-percent: 20% !default;$--button-active-shade-percent: 10% !default;/* cascader-------------------------- */$--cascader-height: 200px !default;/* Switch-------------------------- */$--switch-on-color: $--color-primary !default;$--switch-off-color: $--border-color-base !default;$--switch-disabled-color: $--border-color-lighter !default;$--switch-disabled-text-color: $--color-text-placeholder !default;$--switch-font-size: $--font-size-base !default;$--switch-core-border-radius: 10px !default;$--switch-width: 40px !default;$--switch-height: 20px !default;$--switch-button-size: 16px !default;/* Dialog-------------------------- */$--dialog-background-color: $--color-primary-light-4 !default;$--dialog-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !default;$--dialog-close-hover-color: $--color-primary !default;$--dialog-title-font-size: $--font-size-large !default;$--dialog-font-size: 14px !default;$--dialog-line-height: $--font-line-height-primary !default;$--dialog-padding-primary: 20px !default;/* Table-------------------------- */$--table-border-color: $--border-color-lighter !default;$--table-border: 1px solid $--table-border-color !default;$--table-text-color: $--color-text-regular !default;$--table-header-color: $--color-text-secondary !default;$--table-row-hover-background: $--background-color-base !default;$--table-current-row-background: $--color-primary-light-9 !default;$--table-header-background: $--color-white !default;$--table-footer-background: $--color-text-placeholder !default;$--table-fixed-box-shadow: 0 0 10px rgba(0, 0, 0, .12) !default;/* Pagination-------------------------- */$--pagination-font-size: 13px !default;$--pagination-fill: $--color-white !default;$--pagination-color: $--color-text-primary !default;$--pagination-border-radius: 3px !default;$--pagination-button-color: $--color-text-primary !default;$--pagination-button-width: 35.5px !default;$--pagination-button-height: 28px !default;$--pagination-button-disabled-color: $--color-text-placeholder !default;$--pagination-button-disabled-fill: $--color-white !default;$--pagination-hover-fill: $--color-primary !default;$--pagination-hover-color: $--color-white !default;/* Popover-------------------------- */$--popover-fill: $--color-white !default;$--popover-font-size: $--font-size-base !default;$--popover-border-color: $--border-color-lighter !default;$--popover-arrow-size: 6px !default;$--popover-padding: 12px !default;$--popover-padding-large: 18px 20px !default;$--popover-title-font-size: 16px !default;$--popover-title-color: $--color-text-primary !default;/* Tooltip-------------------------- */$--tooltip-fill: $--color-text-primary !default;$--tooltip-color: $--color-white !default;$--tooltip-font-size: 12px !default;$--tooltip-border-color: $--color-text-primary !default;$--tooltip-arrow-size: 6px !default;$--tooltip-padding: 10px !default;/* Tag-------------------------- */$--tag-padding: 0 10px !default;$--tag-fill: rgba($--color-primary, 0.10) !default;$--tag-color: $--color-primary !default;$--tag-border: rgba($--color-primary, 0.20) !default;$--tag-font-size: 12px !default;$--tag-border-radius: 4px !default;$--tag-info-fill: rgba($--color-info, 0.10) !default;$--tag-info-border: rgba($--color-info, 0.20) !default;$--tag-info-color: $--color-info !default;$--tag-primary-fill: rgba($--color-primary, 0.10) !default;$--tag-primary-border: rgba($--color-primary, 0.20) !default;$--tag-primary-color: $--color-primary !default;$--tag-success-fill: rgba($--color-success, 0.10) !default;$--tag-success-border: rgba($--color-success, 0.20) !default;$--tag-success-color: $--color-success !default;$--tag-warning-fill: rgba($--color-warning, 0.10) !default;$--tag-warning-border: rgba($--color-warning, 0.20) !default;$--tag-warning-color: $--color-warning !default;$--tag-danger-fill: rgba($--color-danger, 0.10) !default;$--tag-danger-border: rgba($--color-danger, 0.20) !default;$--tag-danger-color: $--color-danger !default;/* Tree-------------------------- */$--tree-node-hover-color: $--background-color-base !default;$--tree-text-color: $--color-text-regular !default;$--tree-expand-icon-color: $--color-text-placeholder !default;/* Dropdown-------------------------- */$--dropdown-menu-box-shadow: $--box-shadow-light !default;$--dropdown-menuItem-hover-fill: $--color-primary-light-9 !default;$--dropdown-menuItem-hover-color: $--link-color !default;/* Badge-------------------------- */$--badge-fill: $--color-danger !default;$--badge-radius: 10px !default;$--badge-font-size: 12px !default;$--badge-padding: 6px !default;$--badge-size: 18px !default;/* Card--------------------------*/$--card-border-color: $--border-color-lighter !default;$--card-border-radius: 4px !default;$--card-padding: 20px !default;/* Slider--------------------------*/$--slider-main-background-color: $--color-primary !default;$--slider-runway-background-color: $--border-color-light !default;$--slider-button-hover-color: mix($--color-primary, black, 97%) !default;$--slider-stop-background-color: $--color-white !default;$--slider-disable-color: $--color-text-placeholder !default;$--slider-margin: 16px 0 !default;$--slider-border-radius: 3px !default;$--slider-height: 6px !default;$--slider-button-size: 16px !default;$--slider-button-wrapper-size: 36px !default;$--slider-button-wrapper-offset: -15px !default;/* Steps--------------------------*/$--steps-border-color: $--disabled-border-base !default;$--steps-border-radius: 4px !default;$--steps-padding: 20px !default;/* Menu--------------------------*/$--menu-item-font-size: $--font-size-base !default;$--menu-item-color: $--color-text-primary !default;$--menu-item-fill: $--color-white !default;$--menu-item-hover-fill: $--color-primary-light-9 !default;/* Rate--------------------------*/$--rate-height: 20px !default;$--rate-font-size: $--font-size-base !default;$--rate-icon-size: 18px !default;$--rate-icon-margin: 6px !default;$--rate-icon-color: $--color-text-placeholder !default;/* DatePicker--------------------------*/$--datepicker-color: $--color-text-regular !default;$--datepicker-off-color: $--color-text-placeholder !default;$--datepicker-header-color: $--color-text-regular !default;$--datepicker-icon-color: $--color-text-primary !default;$--datepicker-border-color: $--disabled-border-base !default;$--datepicker-inner-border-color: #e4e4e4 !default;$--datepicker-inrange-color: $--border-color-extra-light !default;$--datepicker-inrange-hover-color: $--border-color-extra-light !default;$--datepicker-active-color: $--color-primary !default;$--datepicker-text-hover-color: $--color-primary !default;$--datepicker-cell-hover-color: #fff !default;/* Loading--------------------------*/$--loading-spinner-size: 42px !default;$--loading-fullscreen-spinner-size: 50px !default;/* Scrollbar--------------------------*/$--scrollbar-background-color: rgba($--color-text-secondary, .3) !default;$--scrollbar-hover-background-color: rgba($--color-text-secondary, .5) !default;/* Carousel--------------------------*/$--carousel-arrow-font-size: 12px !default;$--carousel-arrow-size: 36px !default;$--carousel-arrow-background: rgba(31, 45, 61, 0.11) !default;$--carousel-arrow-hover-background: rgba(31, 45, 61, 0.23) !default;$--carousel-indicator-width: 30px !default;$--carousel-indicator-height: 2px !default;$--carousel-indicator-padding-horizontal: 4px !default;$--carousel-indicator-padding-vertical: 12px !default;$--carousel-indicator-out-color: $--border-color-hover !default;/* Collapse--------------------------*/$--collapse-border-color: $--border-color-lighter !default;$--collapse-header-height: 48px !default;$--collapse-header-padding: 20px !default;$--collapse-header-fill: $--color-white !default;$--collapse-header-color: $--color-text-primary !default;$--collapse-header-size: 13px !default;$--collapse-content-fill: $--color-white !default;$--collapse-content-size: 13px !default;$--collapse-content-color: $--color-text-primary !default;/* Transfer--------------------------*/$--transfer-border-color: $--border-color-lighter !default;$--transfer-border-radius: $--border-radius-base !default;$--transfer-panel-width: 200px !default;$--transfer-panel-header-height: 40px !default;$--transfer-panel-header-background: $--background-color-base !default;$--transfer-panel-footer-height: 40px !default;$--transfer-panel-body-height: 246px !default;$--transfer-item-height: 30px !default;$--transfer-item-hover-background: $--color-text-secondary !default;$--transfer-filter-height: 32px !default;/* Header --------------------------*/$--header-padding: 0 20px !default;/* Footer--------------------------*/$--footer-padding: 0 20px !default;/* Main--------------------------*/$--main-padding: 20px !default;/* Break-point--------------------------*/$--sm: 768px !default;$--md: 992px !default;$--lg: 1200px !default;$--xl: 1920px !default;$--breakpoints: ( 'xs' : (max-width: $--sm - 1), 'sm' : (min-width: $--sm), 'md' : (min-width: $--md), 'lg' : (min-width: $--lg), 'xl' : (min-width: $--xl));$--breakpoints-spec: ( 'xs-only' : (max-width: $--sm - 1), 'sm-and-up' : (min-width: $--sm), 'sm-only': \"(min-width: #&#123;$--sm&#125;) and (max-width: #&#123;$--md&#125; - 1)\", 'sm-and-down': (max-width: $--md - 1), 'md-and-up' : (min-width: $--md), 'md-only': \"(min-width: #&#123;$--md&#125;) and (max-width: #&#123;$--lg &#125; - 1)\", 'md-and-down': (max-width: $--lg - 1), 'lg-and-up' : (min-width: $--lg), 'lg-only': \"(min-width: #&#123;$--lg&#125;) and (max-width: #&#123;$--xl &#125; - 1)\", 'lg-and-down': (max-width: $--xl - 1), 'xl-only' : (min-width: $--xl),);","categories":[{"name":"Vue","slug":"Vue","permalink":"http://xdd7130.github.io/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://xdd7130.github.io/tags/Vue/"}]},{"title":"git","slug":"git","date":"2019-07-04T14:24:57.000Z","updated":"2022-11-02T11:15:20.550Z","comments":true,"path":"2019/07/04/git/","link":"","permalink":"http://xdd7130.github.io/2019/07/04/git/","excerpt":"","text":"git åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“ï¼Œä½¿ç”¨git initå‘½ä»¤ã€‚ æ·»åŠ æ–‡ä»¶åˆ°Gitä»“åº“ï¼Œåˆ†ä¸¤æ­¥ï¼š 12ä½¿ç”¨å‘½ä»¤git add &lt;file&gt;ï¼Œæ³¨æ„ï¼Œå¯åå¤å¤šæ¬¡ä½¿ç”¨ï¼Œæ·»åŠ å¤šä¸ªæ–‡ä»¶ï¼›ä½¿ç”¨å‘½ä»¤git commit -m &lt;message&gt;ï¼Œå®Œæˆã€‚ å·¥ä½œåŒºå’Œæš‚å­˜åŒº é¦–å…ˆéœ€è¦ç†è§£å·¥ä½œåŒºå’Œç‰ˆæœ¬åº“çš„æ¦‚å¿µï¼š å·¥ä½œåŒºï¼ˆWorking Directoryï¼‰ï¼šå°±æ˜¯å¯ä»¥åœ¨ç”µè„‘ä¸Šçœ‹åˆ°çš„ç›®å½•ï¼Œæ¯”å¦‚ç›®å½•æ–‡ä»¶å¤¹ï¼Œå°±æ˜¯ä¸€ä¸ªå·¥ä½œåŒºï¼›ç‰ˆæœ¬åº“ï¼ˆRepositoryï¼‰: å·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½•.gitï¼Œè¿™ä¸ªä¸ç®—å·¥ä½œåŒºï¼Œè€Œæ˜¯Gitçš„ç‰ˆæœ¬åº“ã€‚gitçš„ç‰ˆæœ¬åº“ä¸­å­˜æ”¾å¾ˆå¤šçš„ä¸œè¥¿ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯stage(index)çš„æš‚å­˜åŒºï¼Œè¿˜æœ‰gitä¸ºæˆ‘ä»¬åˆ›å»ºçš„ç¬¬ä¸€ä¸ªåˆ†æ”¯masterï¼Œä»¥åŠæŒ‡å‘masteåˆ†æ”¯çš„ä¸€ä¸ªHEADæŒ‡é’ˆã€‚ å°†æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬åº“ä¸­éœ€è¦ä¸¤ä¸ªæ­¥éª¤(ä¹Ÿå¯ä»¥è¯´æ˜¯ä¸‰ä¸ªæ­¥éª¤)ï¼š 1234git status å¯ä»¥æŸ¥çœ‹å“ªäº›æ–‡ä»¶åœ¨æœ¬æ¬¡ä¿®æ”¹äº†ï¼Œä»¥ä¾¿æˆ‘ä»¬æ¸…æ¥šåœ¨ä¸‹ä¸€æ­¥åº”è¯¥æäº¤å“ªäº›æ–‡ä»¶git add &lt;filePath&gt; æ­¤å‘½ä»¤æ˜¯å°†fileæ–‡ä»¶æäº¤åˆ°æš‚å­˜åŒºï¼Œæ­¤å‘½ä»¤æ˜¯å•ä¸ªæ–‡ä»¶æäº¤ï¼Œä¹Ÿå¯ä»¥ç”¨git add . å°†å·¥ä½œåŒºæ‰€æœ‰æ–‡ä»¶éƒ½æäº¤ï¼Œä½†ä¸€èˆ¬æ²¡æœ‰è¿™ä¸ªå¿…è¦ï¼Œåªéœ€è¦å°†æœ¬æ¬¡ä¿®æ”¹æäº¤å°±å¥½ï¼›git commit -m'æäº¤æè¿°' æ¬¡å‘½ä»¤æ˜¯å°†æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬åº“ä¸­çš„å½“å‰åˆ†æ”¯ä¸Šï¼Œä¸€èˆ¬æäº¤åœ¨åé¢åŠ ä¸Šæœ¬æ¬¡ä¿®æ”¹çš„æè¿°ã€‚ ç‰ˆæœ¬å›é€€æ€»ç»“ï¼š HEADæŒ‡å‘çš„ç‰ˆæœ¬å°±æ˜¯å½“å‰ç‰ˆæœ¬ï¼Œå› æ­¤ï¼ŒGitå…è®¸æˆ‘ä»¬åœ¨ç‰ˆæœ¬çš„å†å²ä¹‹é—´ç©¿æ¢­ï¼Œä½¿ç”¨å‘½ä»¤git reset â€“hard commit_idã€‚ç©¿æ¢­å‰ï¼Œç”¨git logå¯ä»¥æŸ¥çœ‹æäº¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›é€€åˆ°å“ªä¸ªç‰ˆæœ¬ã€‚è¦é‡è¿”æœªæ¥ï¼Œç”¨git reflogæŸ¥çœ‹å‘½ä»¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›åˆ°æœªæ¥çš„å“ªä¸ªç‰ˆæœ¬ã€‚ 12341ã€git logå‘½ä»¤æ˜¾ç¤ºä»æœ€è¿‘åˆ°æœ€è¿œçš„æäº¤æ—¥å¿—2ã€å¦‚æœå«Œè¾“å‡ºä¿¡æ¯å¤ªå¤šï¼Œçœ‹å¾—çœ¼èŠ±ç¼­ä¹±çš„ï¼Œå¯ä»¥è¯•è¯•åŠ ä¸Š--pretty=onelineå‚æ•°ï¼š$ git log --pretty=onelineçœ‹åˆ°çš„ä¸€å¤§ä¸²ç±»ä¼¼1094adb...çš„æ˜¯commit idï¼ˆç‰ˆæœ¬å·ï¼‰3ã€è¦æŠŠå½“å‰ç‰ˆæœ¬å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œå°±å¯ä»¥ä½¿ç”¨git resetå‘½ä»¤ï¼š$ git reset --hard HEAD^ æ’¤é”€ä¿®æ”¹1$ git checkout -- readme.txt ä¸€ç§æ˜¯readme.txtè‡ªä¿®æ”¹åè¿˜æ²¡æœ‰è¢«æ”¾åˆ°æš‚å­˜åŒºï¼Œç°åœ¨ï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°å’Œç‰ˆæœ¬åº“ä¸€æ¨¡ä¸€æ ·çš„çŠ¶æ€ï¼›ä¸€ç§æ˜¯readme.txtå·²ç»æ·»åŠ åˆ°æš‚å­˜åŒºåï¼Œåˆä½œäº†ä¿®æ”¹ï¼Œç°åœ¨ï¼Œæ’¤é”€ä¿®æ”¹å°±å›åˆ°æ·»åŠ åˆ°æš‚å­˜åŒºåçš„çŠ¶æ€ã€‚æ€»ä¹‹ï¼Œå°±æ˜¯è®©è¿™ä¸ªæ–‡ä»¶å›åˆ°æœ€è¿‘ä¸€æ¬¡git commitæˆ–git addæ—¶çš„çŠ¶æ€ã€‚ åœºæ™¯1ï¼šå½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶ï¼Œç”¨å‘½ä»¤git checkout â€“ fileã€‚åœºæ™¯2ï¼šå½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹ï¼Œåˆ†ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥ç”¨å‘½ä»¤git reset HEAD ï¼Œå°±å›åˆ°äº†åœºæ™¯1ï¼Œç¬¬äºŒæ­¥æŒ‰åœºæ™¯1æ“ä½œã€‚åœºæ™¯3ï¼šå·²ç»æäº¤äº†ä¸åˆé€‚çš„ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“æ—¶ï¼Œæƒ³è¦æ’¤é”€æœ¬æ¬¡æäº¤ï¼Œå‚è€ƒç‰ˆæœ¬å›é€€ä¸€èŠ‚ï¼Œä¸è¿‡å‰ææ˜¯æ²¡æœ‰æ¨é€åˆ°è¿œç¨‹åº“ã€‚ åˆ é™¤æ–‡ä»¶å‘½ä»¤git rmç”¨äºåˆ é™¤ä¸€ä¸ªæ–‡ä»¶ã€‚å¦‚æœä¸€ä¸ªæ–‡ä»¶å·²ç»è¢«æäº¤åˆ°ç‰ˆæœ¬åº“ï¼Œé‚£ä¹ˆä½ æ°¸è¿œä¸ç”¨æ‹…å¿ƒè¯¯åˆ ï¼Œä½†æ˜¯è¦å°å¿ƒï¼Œä½ åªèƒ½æ¢å¤æ–‡ä»¶åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œä½ ä¼šä¸¢å¤±æœ€è¿‘ä¸€æ¬¡æäº¤åä½ ä¿®æ”¹çš„å†…å®¹ã€‚ è¿œç¨‹ä»“åº“æ·»åŠ è¿œç¨‹ä»“åº“1ã€è¦å…³è”ä¸€ä¸ªè¿œç¨‹åº“ï¼Œä½¿ç”¨å‘½ä»¤git remote add origin git@server-name:path/repo-name.gitï¼› 2ã€å…³è”åï¼Œä½¿ç”¨å‘½ä»¤git push -u origin masterç¬¬ä¸€æ¬¡æ¨é€masteråˆ†æ”¯çš„æ‰€æœ‰å†…å®¹ï¼› 3ã€æ­¤åï¼Œæ¯æ¬¡æœ¬åœ°æäº¤åï¼Œåªè¦æœ‰å¿…è¦ï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤git push origin masteræ¨é€æœ€æ–°ä¿®æ”¹ï¼› åˆ†å¸ƒå¼ç‰ˆæœ¬ç³»ç»Ÿçš„æœ€å¤§å¥½å¤„ä¹‹ä¸€æ˜¯åœ¨æœ¬åœ°å·¥ä½œå®Œå…¨ä¸éœ€è¦è€ƒè™‘è¿œç¨‹åº“çš„å­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯æœ‰æ²¡æœ‰è”ç½‘éƒ½å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œè€ŒSVNåœ¨æ²¡æœ‰è”ç½‘çš„æ—¶å€™æ˜¯æ‹’ç»å¹²æ´»çš„ï¼å½“æœ‰ç½‘ç»œçš„æ—¶å€™ï¼Œå†æŠŠæœ¬åœ°æäº¤æ¨é€ä¸€ä¸‹å°±å®Œæˆäº†åŒæ­¥ï¼Œæ–¹ä¾¿ï¼ ä»è¿œç¨‹åº“å…‹éš†è‹¥æˆ‘ä»¬ä»é›¶å¼€å‘ï¼Œé‚£ä¹ˆæœ€å¥½çš„æ–¹å¼æ˜¯å…ˆåˆ›å»ºè¿œç¨‹åº“ï¼Œç„¶åï¼Œä»è¿œç¨‹åº“å…‹éš†ã€‚1ã€é¦–å…ˆï¼Œç™»é™†GitHubï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ã€‚2ã€å‹¾é€‰Initialize this repository with a READMEï¼Œè¿™æ ·GitHubä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªREADME.mdæ–‡ä»¶ã€‚åˆ›å»ºå®Œæ¯•åï¼Œå¯ä»¥çœ‹åˆ°README.mdæ–‡ä»¶ã€‚3ã€ç”¨å‘½ä»¤git cloneå…‹éš†ä¸€ä¸ªæœ¬åœ°åº“ã€‚ åˆ†æ”¯ç®¡ç†åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯æ€»ç»“ï¼š1234567891011æŸ¥çœ‹åˆ†æ”¯ï¼šgit branchåˆ›å»ºåˆ†æ”¯ï¼šgit branch &lt;name&gt;åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout &lt;name&gt;åˆ›å»º+åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout -b &lt;name&gt;åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼šgit merge &lt;name&gt;åˆ é™¤åˆ†æ”¯ï¼šgit branch -d &lt;name&gt; 1ã€åˆ›å»ºdevåˆ†æ”¯ï¼Œç„¶ååˆ‡æ¢åˆ°devåˆ†æ”¯ï¼š$ git checkout -b devgit checkoutå‘½ä»¤åŠ ä¸Š-bå‚æ•°è¡¨ç¤ºåˆ›å»ºå¹¶åˆ‡æ¢ï¼Œç›¸å½“äºä»¥ä¸‹ä¸¤æ¡å‘½ä»¤ï¼š$ git branch dev$ git checkout dev 2ã€ç”¨git branchå‘½ä»¤æŸ¥çœ‹å½“å‰åˆ†æ”¯ï¼Œgit branchå‘½ä»¤ä¼šåˆ—å‡ºæ‰€æœ‰åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯å‰é¢ä¼šæ ‡ä¸€ä¸ª*å·ï¼š$ git branch3ã€æˆ‘ä»¬å°±å¯ä»¥åœ¨devåˆ†æ”¯ä¸Šæ­£å¸¸æäº¤4ã€devåˆ†æ”¯çš„å·¥ä½œå®Œæˆï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ‡æ¢å›masteråˆ†æ”¯ï¼šgit checkout master5ã€æˆ‘ä»¬æŠŠdevåˆ†æ”¯çš„å·¥ä½œæˆæœåˆå¹¶åˆ°masteråˆ†æ”¯ä¸Šï¼šgit merge devgit mergeå‘½ä»¤ç”¨äºåˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯6ã€åˆå¹¶å®Œæˆåï¼Œå°±å¯ä»¥æ”¾å¿ƒåœ°åˆ é™¤devåˆ†æ”¯äº†ï¼šgit branch -d dev7ã€åˆ é™¤åï¼ŒæŸ¥çœ‹branchï¼Œå°±åªå‰©ä¸‹masteråˆ†æ”¯äº† è§£å†³å†²çªå½“Gitæ— æ³•è‡ªåŠ¨åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå°±å¿…é¡»é¦–å…ˆè§£å†³å†²çªã€‚è§£å†³å†²çªåï¼Œå†æäº¤ï¼Œåˆå¹¶å®Œæˆã€‚ è§£å†³å†²çªå°±æ˜¯æŠŠGitåˆå¹¶å¤±è´¥çš„æ–‡ä»¶æ‰‹åŠ¨ç¼–è¾‘ä¸ºæˆ‘ä»¬å¸Œæœ›çš„å†…å®¹ï¼Œå†æäº¤ã€‚ ç”¨git log â€“graphå‘½ä»¤å¯ä»¥çœ‹åˆ°åˆ†æ”¯åˆå¹¶å›¾ã€‚ åˆ†æ”¯ç®¡ç†ç­–ç•¥ åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰ç…§å‡ ä¸ªåŸºæœ¬åŸåˆ™è¿›è¡Œåˆ†æ”¯ç®¡ç†ï¼š é¦–å…ˆï¼Œmasteråˆ†æ”¯åº”è¯¥æ˜¯éå¸¸ç¨³å®šçš„ï¼Œä¹Ÿå°±æ˜¯ä»…ç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œå¹³æ—¶ä¸èƒ½åœ¨ä¸Šé¢å¹²æ´»ï¼› é‚£åœ¨å“ªå¹²æ´»å‘¢ï¼Ÿå¹²æ´»éƒ½åœ¨devåˆ†æ”¯ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œdevåˆ†æ”¯æ˜¯ä¸ç¨³å®šçš„ï¼Œåˆ°æŸä¸ªæ—¶å€™ï¼Œæ¯”å¦‚1.0ç‰ˆæœ¬å‘å¸ƒæ—¶ï¼Œå†æŠŠdevåˆ†æ”¯åˆå¹¶åˆ°masterä¸Šï¼Œåœ¨masteråˆ†æ”¯å‘å¸ƒ1.0ç‰ˆæœ¬ï¼› ä½ å’Œä½ çš„å°ä¼™ä¼´ä»¬æ¯ä¸ªäººéƒ½åœ¨devåˆ†æ”¯ä¸Šå¹²æ´»ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„åˆ†æ”¯ï¼Œæ—¶ä¸æ—¶åœ°å¾€devåˆ†æ”¯ä¸Šåˆå¹¶å°±å¯ä»¥äº†ã€‚ Bugåˆ†æ”¯ä¿®å¤bugæ—¶ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡åˆ›å»ºæ–°çš„bugåˆ†æ”¯è¿›è¡Œä¿®å¤ï¼Œç„¶ååˆå¹¶ï¼Œæœ€ååˆ é™¤ï¼›å½“æ‰‹å¤´å·¥ä½œæ²¡æœ‰å®Œæˆæ—¶ï¼Œå…ˆæŠŠå·¥ä½œç°åœºgit stashä¸€ä¸‹ï¼Œç„¶åå»ä¿®å¤bugï¼Œä¿®å¤åï¼Œå†git stash popï¼Œå›åˆ°å·¥ä½œç°åœºã€‚ Featureåˆ†æ”¯å¼€å‘ä¸€ä¸ªæ–°featureï¼Œæœ€å¥½æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼› å¦‚æœè¦ä¸¢å¼ƒä¸€ä¸ªæ²¡æœ‰è¢«åˆå¹¶è¿‡çš„åˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡git branch -D ã€nameã€‘å¼ºè¡Œåˆ é™¤ã€‚ å¤šäººåä½œå¤šäººåä½œçš„å·¥ä½œæ¨¡å¼é€šå¸¸æ˜¯è¿™æ ·ï¼š 1ã€é¦–å…ˆï¼Œå¯ä»¥è¯•å›¾ç”¨git push origin ã€branch-nameã€‘æ¨é€è‡ªå·±çš„ä¿®æ”¹ï¼› 2ã€å¦‚æœæ¨é€å¤±è´¥ï¼Œåˆ™å› ä¸ºè¿œç¨‹åˆ†æ”¯æ¯”ä½ çš„æœ¬åœ°æ›´æ–°ï¼Œéœ€è¦å…ˆç”¨git pullè¯•å›¾åˆå¹¶ï¼› 3ã€å¦‚æœåˆå¹¶æœ‰å†²çªï¼Œåˆ™è§£å†³å†²çªï¼Œå¹¶åœ¨æœ¬åœ°æäº¤ï¼› 4ã€æ²¡æœ‰å†²çªæˆ–è€…è§£å†³æ‰å†²çªåï¼Œå†ç”¨git push origin ã€branch-nameã€‘æ¨é€å°±èƒ½æˆåŠŸï¼ å¦‚æœgit pullæç¤ºno tracking informationï¼Œåˆ™è¯´æ˜æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„é“¾æ¥å…³ç³»æ²¡æœ‰åˆ›å»ºï¼Œç”¨å‘½ä»¤git branch â€“set-upstream-to ã€branch-nameã€‘ origin/ã€branch-nameã€‘ã€‚ è¿™å°±æ˜¯å¤šäººåä½œçš„å·¥ä½œæ¨¡å¼ï¼Œä¸€æ—¦ç†Ÿæ‚‰äº†ï¼Œå°±éå¸¸ç®€å•ã€‚ Rebaserebaseæ“ä½œå¯ä»¥æŠŠæœ¬åœ°æœªpushçš„åˆ†å‰æäº¤å†å²æ•´ç†æˆç›´çº¿ï¼› rebaseçš„ç›®çš„æ˜¯ä½¿å¾—æˆ‘ä»¬åœ¨æŸ¥çœ‹å†å²æäº¤çš„å˜åŒ–æ—¶æ›´å®¹æ˜“ï¼Œå› ä¸ºåˆ†å‰çš„æäº¤éœ€è¦ä¸‰æ–¹å¯¹æ¯”ã€‚ æ ‡ç­¾ç®¡ç†åˆ›å»ºæ ‡ç­¾å‘½ä»¤git tag ã€tagnameã€‘ç”¨äºæ–°å»ºä¸€ä¸ªæ ‡ç­¾ï¼Œé»˜è®¤ä¸ºHEADï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªcommit idï¼› å‘½ä»¤git tag -a ã€tagnameã€‘ -m â€œblablablaâ€¦â€å¯ä»¥æŒ‡å®šæ ‡ç­¾ä¿¡æ¯ï¼› å‘½ä»¤git tagå¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾ æ“ä½œæ ‡ç­¾å‘½ä»¤git push origin ã€tagnameã€‘å¯ä»¥æ¨é€ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼› å‘½ä»¤git push origin â€“tagså¯ä»¥æ¨é€å…¨éƒ¨æœªæ¨é€è¿‡çš„æœ¬åœ°æ ‡ç­¾ï¼› å‘½ä»¤git tag -d ã€tagnameã€‘å¯ä»¥åˆ é™¤ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾ï¼› å‘½ä»¤git push origin :refs/tags/ã€tagnameã€‘å¯ä»¥åˆ é™¤ä¸€ä¸ªè¿œç¨‹æ ‡ç­¾ã€‚ gitå‘½ä»¤æ±‡æ€»Git Cheat Sheet","categories":[{"name":"git","slug":"git","permalink":"http://xdd7130.github.io/categories/git/"}],"tags":[{"name":"git","slug":"git","permalink":"http://xdd7130.github.io/tags/git/"}]},{"title":"å‰ç«¯å·¥ä½œæµæ­å»º","slug":"å‰ç«¯å·¥ä½œæµ","date":"2019-07-03T14:24:57.000Z","updated":"2022-11-02T11:15:20.680Z","comments":true,"path":"2019/07/03/å‰ç«¯å·¥ä½œæµ/","link":"","permalink":"http://xdd7130.github.io/2019/07/03/å‰ç«¯å·¥ä½œæµ/","excerpt":"","text":"1. å·¥ä½œæµåˆ›å»ºgithubç”³è¯·æ³¨å†Œå»ºç«‹ZJHBTä»“åº“ è‹¥ä»“åº“ç±»å‹ä¸ºPrivate,å¯ä»¥åœ¨setting â€”&gt; Collaboratorç»™å…¶ä»–äººå¼€å¯è‡ªå·±ç‰ˆæœ¬åº“çš„æƒé™ã€‚ï¼ˆæœ€å¤š3ä¸ªï¼Œå¦åˆ™éœ€åŒ…æœˆï¼‰ Jenkinså®‰è£… å®‰è£…java ç¯å¢ƒï¼Œä¸‹è½½å¯¹åº”ç‰ˆæœ¬ï¼Œè¿™é‡Œä¸‹è½½jdk-8u211-windows-x64.exeï¼Œé¡»æœ‰Oraleè´¦æˆ· æœ¬é¡¹ç›®Jenkinsè´¦æˆ·ï¼Œè®¿é—®ç½‘å€http:xx.xx.xxï¼ˆé»˜è®¤ç«¯å£8080ï¼Œå¯ä¿®æ”¹ï¼‰ Jenkinsä¸gité…ç½®å‚è€ƒï¼šhttps://juejin.im/post/5ad1980e6fb9a028c42ea1be","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"http://xdd7130.github.io/categories/å…¶ä»–/"}],"tags":[{"name":"å‰ç«¯å·¥ä½œæµ","slug":"å‰ç«¯å·¥ä½œæµ","permalink":"http://xdd7130.github.io/tags/å‰ç«¯å·¥ä½œæµ/"}]},{"title":"tcp","slug":"tcp","date":"2019-02-15T01:40:54.000Z","updated":"2022-11-02T11:15:20.674Z","comments":true,"path":"2019/02/15/tcp/","link":"","permalink":"http://xdd7130.github.io/2019/02/15/tcp/","excerpt":"","text":"å‚è€ƒï¼šhttps://juejin.im/post/5a7ef7ce5188257a856f38b0 TCPä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹è§£é‡Š1é¦–å…ˆæ¥çœ‹çœ‹OSIçš„ä¸ƒå±‚æ¨¡å‹ï¼šæˆ‘ä»¬éœ€è¦çŸ¥é“TCPå·¥ä½œåœ¨ç½‘ç»œOSIçš„ä¸ƒå±‚æ¨¡å‹ä¸­çš„ç¬¬å››å±‚â€”â€”Transportå±‚ï¼ŒIPåœ¨ç¬¬ä¸‰å±‚â€”â€”Networkå±‚ï¼ŒARPåœ¨ç¬¬äºŒå±‚â€”â€”Data Linkå±‚ï¼›åœ¨ç¬¬äºŒå±‚ä¸Šçš„æ•°æ®ï¼Œæˆ‘ä»¬æŠŠå®ƒå«Frameï¼Œåœ¨ç¬¬ä¸‰å±‚ä¸Šçš„æ•°æ®å«Packetï¼Œç¬¬å››å±‚çš„æ•°æ®å«Segmentã€‚ åŒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç®€å•çš„çŸ¥é“ï¼Œæ•°æ®ä»åº”ç”¨å±‚å‘ä¸‹æ¥ï¼Œä¼šåœ¨æ¯ä¸€å±‚éƒ½ä¼šåŠ ä¸Šå¤´éƒ¨ä¿¡æ¯ï¼Œè¿›è¡Œå°è£…ï¼Œç„¶åå†å‘é€åˆ°æ•°æ®æ¥æ”¶ç«¯ã€‚è¿™ä¸ªåŸºæœ¬çš„æµç¨‹ä½ éœ€è¦çŸ¥é“ï¼Œå°±æ˜¯æ¯ä¸ªæ•°æ®éƒ½ä¼šç»è¿‡æ•°æ®çš„å°è£…å’Œè§£å°è£…çš„è¿‡ç¨‹ã€‚ åœ¨OSIä¸ƒå±‚æ¨¡å‹ä¸­ï¼Œæ¯ä¸€å±‚çš„ä½œç”¨å’Œå¯¹åº”çš„åè®®å¦‚ä¸‹ï¼šTCPæ˜¯ä¸€ä¸ªåè®®ï¼Œé‚£è¿™ä¸ªåè®®æ˜¯å¦‚ä½•å®šä¹‰çš„ï¼Œå®ƒçš„æ•°æ®æ ¼å¼æ˜¯ä»€ä¹ˆæ ·å­çš„å‘¢ï¼Ÿè¦è¿›è¡Œæ›´æ·±å±‚æ¬¡çš„å‰–æï¼Œå°±éœ€è¦äº†è§£ï¼Œç”šè‡³æ˜¯ç†Ÿè®°TCPåè®®ä¸­æ¯ä¸ªå­—æ®µçš„å«ä¹‰ã€‚å“¦ï¼Œæ¥å§ã€‚ TCPæ˜¯é¢å‘è¿æ¥çš„ï¼Œæ— è®ºå“ªä¸€æ–¹å‘å¦ä¸€æ–¹å‘é€æ•°æ®ä¹‹å‰ï¼Œéƒ½å¿…é¡»å…ˆåœ¨åŒæ–¹ä¹‹é—´å»ºç«‹ä¸€æ¡è¿æ¥ã€‚åœ¨TCP/IPåè®®ä¸­ï¼ŒTCPåè®®æä¾›å¯é çš„è¿æ¥æœåŠ¡ï¼Œè¿æ¥æ˜¯é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹è¿›è¡Œåˆå§‹åŒ–çš„ã€‚ä¸‰æ¬¡æ¡æ‰‹çš„ç›®çš„æ˜¯åŒæ­¥è¿æ¥åŒæ–¹çš„åºåˆ—å·å’Œç¡®è®¤å·å¹¶äº¤æ¢ TCPçª—å£å¤§å°ä¿¡æ¯ã€‚è¿™å°±æ˜¯é¢è¯•ä¸­ç»å¸¸ä¼šè¢«é—®åˆ°çš„TCPä¸‰æ¬¡æ¡æ‰‹ã€‚åªæ˜¯äº†è§£TCPä¸‰æ¬¡æ¡æ‰‹çš„æ¦‚å¿µï¼Œå¯¹ä½ è·å¾—ä¸€ä»½å·¥ä½œæ˜¯æ²¡æœ‰ä»»ä½•å¸®åŠ©çš„ï¼Œä½ éœ€è¦å»äº†è§£TCPä¸‰æ¬¡æ¡æ‰‹ä¸­çš„ä¸€äº›ç»†èŠ‚ã€‚å…ˆæ¥çœ‹å›¾è¯´è¯ã€‚ æ¡æ‰‹è¯´æ˜ ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥ã€‚å®¢æˆ·ç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µï¼Œå°†SYNä½ç½®ä¸º1ï¼ŒSequence Numberä¸ºxï¼›ç„¶åï¼Œå®¢æˆ·ç«¯è¿›å…¥SYN_SENDçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨çš„ç¡®è®¤ï¼› ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°SYNæŠ¥æ–‡æ®µã€‚æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„SYNæŠ¥æ–‡æ®µï¼Œéœ€è¦å¯¹è¿™ä¸ªSYNæŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ï¼Œè®¾ç½®Acknowledgment Numberä¸ºx+1(Sequence Number+1)ï¼›åŒæ—¶ï¼Œè‡ªå·±è‡ªå·±è¿˜è¦å‘é€SYNè¯·æ±‚ä¿¡æ¯ï¼Œå°†SYNä½ç½®ä¸º1ï¼ŒSequence Numberä¸ºyï¼›æœåŠ¡å™¨ç«¯å°†ä¸Šè¿°æ‰€æœ‰ä¿¡æ¯æ”¾åˆ°ä¸€ä¸ªæŠ¥æ–‡æ®µï¼ˆå³SYN+ACKæŠ¥æ–‡æ®µï¼‰ä¸­ï¼Œä¸€å¹¶å‘é€ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€ï¼› ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN+ACKæŠ¥æ–‡æ®µã€‚ç„¶åå°†Acknowledgment Numberè®¾ç½®ä¸ºy+1ï¼Œå‘æœåŠ¡å™¨å‘é€ACKæŠ¥æ–‡æ®µï¼Œè¿™ä¸ªæŠ¥æ–‡æ®µå‘é€å®Œæ¯•ä»¥åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œå®ŒæˆTCPä¸‰æ¬¡æ¡æ‰‹ã€‚å®Œæˆäº†ä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å°±å¯ä»¥å¼€å§‹ä¼ é€æ•°æ®ã€‚ä»¥ä¸Šå°±æ˜¯TCPä¸‰æ¬¡æ¡æ‰‹çš„æ€»ä½“ä»‹ç»ã€‚é‚£å››æ¬¡åˆ†æ‰‹å‘¢ï¼Ÿ æŒ¥æ‰‹è¯´æ˜å½“å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹äº†TCPè¿æ¥ä»¥åï¼Œå½“æ•°æ®ä¼ é€å®Œæ¯•ï¼Œè‚¯å®šæ˜¯è¦æ–­å¼€TCPè¿æ¥çš„å•Šã€‚é‚£å¯¹äºTCPçš„æ–­å¼€è¿æ¥ï¼Œè¿™é‡Œå°±æœ‰äº†ç¥ç§˜çš„â€œå››æ¬¡åˆ†æ‰‹â€ã€‚ ç¬¬ä¸€æ¬¡åˆ†æ‰‹ï¼šä¸»æœº1ï¼ˆå¯ä»¥ä½¿å®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥æ˜¯æœåŠ¡å™¨ç«¯ï¼‰ï¼Œè®¾ç½®Sequence Numberå’ŒAcknowledgment Numberï¼Œå‘ä¸»æœº2å‘é€ä¸€ä¸ªFINæŠ¥æ–‡æ®µï¼›æ­¤æ—¶ï¼Œä¸»æœº1è¿›å…¥FIN_WAIT_1çŠ¶æ€ï¼›è¿™è¡¨ç¤ºä¸»æœº1æ²¡æœ‰æ•°æ®è¦å‘é€ç»™ä¸»æœº2äº†ï¼›-ç¬¬äºŒæ¬¡åˆ†æ‰‹ï¼šä¸»æœº2æ”¶åˆ°äº†ä¸»æœº1å‘é€çš„FINæŠ¥æ–‡æ®µï¼Œå‘ä¸»æœº1å›ä¸€ä¸ªACKæŠ¥æ–‡æ®µï¼ŒAcknowledgment Numberä¸ºSequence NumberåŠ 1ï¼›ä¸»æœº1è¿›å…¥FIN_WAIT_2çŠ¶æ€ï¼›ä¸»æœº2å‘Šè¯‰ä¸»æœº1ï¼Œæˆ‘â€œåŒæ„â€ä½ çš„å…³é—­è¯·æ±‚ï¼› ç¬¬ä¸‰æ¬¡åˆ†æ‰‹ï¼šä¸»æœº2å‘ä¸»æœº1å‘é€FINæŠ¥æ–‡æ®µï¼Œè¯·æ±‚å…³é—­è¿æ¥ï¼ŒåŒæ—¶ä¸»æœº2è¿›å…¥LAST_ACKçŠ¶æ€ï¼› ç¬¬å››æ¬¡åˆ†æ‰‹ï¼šä¸»æœº1æ”¶åˆ°ä¸»æœº2å‘é€çš„FINæŠ¥æ–‡æ®µï¼Œå‘ä¸»æœº2å‘é€ACKæŠ¥æ–‡æ®µï¼Œç„¶åä¸»æœº1è¿›å…¥TIME_WAITçŠ¶æ€ï¼›ä¸»æœº2æ”¶åˆ°ä¸»æœº1çš„ACKæŠ¥æ–‡æ®µä»¥åï¼Œå°±å…³é—­è¿æ¥ï¼›æ­¤æ—¶ï¼Œä¸»æœº1ç­‰å¾…2MSLåä¾ç„¶æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œåˆ™è¯æ˜Serverç«¯å·²æ­£å¸¸å…³é—­ï¼Œé‚£å¥½ï¼Œä¸»æœº1ä¹Ÿå¯ä»¥å…³é—­è¿æ¥äº†ã€‚ ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹?æ—¢ç„¶æ€»ç»“äº†TCPçš„ä¸‰æ¬¡æ¡æ‰‹ï¼Œé‚£ä¸ºä»€ä¹ˆéè¦ä¸‰æ¬¡å‘¢ï¼Ÿæ€ä¹ˆè§‰å¾—ä¸¤æ¬¡å°±å¯ä»¥å®Œæˆäº†ã€‚é‚£TCPä¸ºä»€ä¹ˆéè¦è¿›è¡Œä¸‰æ¬¡è¿æ¥å‘¢ï¼Ÿåœ¨è°¢å¸Œä»çš„ã€Šè®¡ç®—æœºç½‘ç»œã€‹ä¸­æ˜¯è¿™æ ·è¯´çš„ï¼š ä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°äº†æœåŠ¡ç«¯ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯ã€‚ åœ¨ä¹¦ä¸­åŒæ—¶ä¸¾äº†ä¸€ä¸ªä¾‹å­ï¼Œå¦‚ä¸‹ï¼š1â€œå·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µâ€çš„äº§ç”Ÿåœ¨è¿™æ ·ä¸€ç§æƒ…å†µä¸‹ï¼šclientå‘å‡ºçš„ç¬¬ä¸€ä¸ªè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µå¹¶æ²¡æœ‰ä¸¢å¤±ï¼Œè€Œæ˜¯åœ¨æŸä¸ªç½‘ç»œç»“ç‚¹é•¿æ—¶é—´çš„æ»ç•™äº†ï¼Œä»¥è‡´å»¶è¯¯åˆ°è¿æ¥é‡Šæ”¾ä»¥åçš„æŸä¸ªæ—¶é—´æ‰åˆ°è¾¾serverã€‚æœ¬æ¥è¿™æ˜¯ä¸€ä¸ªæ—©å·²å¤±æ•ˆçš„æŠ¥æ–‡æ®µã€‚ä½†serveræ”¶åˆ°æ­¤å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå°±è¯¯è®¤ä¸ºæ˜¯clientå†æ¬¡å‘å‡ºçš„ä¸€ä¸ªæ–°çš„è¿æ¥è¯·æ±‚ã€‚äºæ˜¯å°±å‘clientå‘å‡ºç¡®è®¤æŠ¥æ–‡æ®µï¼ŒåŒæ„å»ºç«‹è¿æ¥ã€‚å‡è®¾ä¸é‡‡ç”¨â€œä¸‰æ¬¡æ¡æ‰‹â€ï¼Œé‚£ä¹ˆåªè¦serverå‘å‡ºç¡®è®¤ï¼Œæ–°çš„è¿æ¥å°±å»ºç«‹äº†ã€‚ç”±äºç°åœ¨clientå¹¶æ²¡æœ‰å‘å‡ºå»ºç«‹è¿æ¥çš„è¯·æ±‚ï¼Œå› æ­¤ä¸ä¼šç†ç¬serverçš„ç¡®è®¤ï¼Œä¹Ÿä¸ä¼šå‘serverå‘é€æ•°æ®ã€‚ä½†serverå´ä»¥ä¸ºæ–°çš„è¿è¾“è¿æ¥å·²ç»å»ºç«‹ï¼Œå¹¶ä¸€ç›´ç­‰å¾…clientå‘æ¥æ•°æ®ã€‚è¿™æ ·ï¼Œserverçš„å¾ˆå¤šèµ„æºå°±ç™½ç™½æµªè´¹æ‰äº†ã€‚é‡‡ç”¨â€œä¸‰æ¬¡æ¡æ‰‹â€çš„åŠæ³•å¯ä»¥é˜²æ­¢ä¸Šè¿°ç°è±¡å‘ç”Ÿã€‚ä¾‹å¦‚åˆšæ‰é‚£ç§æƒ…å†µï¼Œclientä¸ä¼šå‘serverçš„ç¡®è®¤å‘å‡ºç¡®è®¤ã€‚serverç”±äºæ”¶ä¸åˆ°ç¡®è®¤ï¼Œå°±çŸ¥é“clientå¹¶æ²¡æœ‰è¦æ±‚å»ºç«‹è¿æ¥ã€‚â€ è¿™å°±å¾ˆæ˜ç™½äº†ï¼Œé˜²æ­¢äº†æœåŠ¡å™¨ç«¯çš„ä¸€ç›´ç­‰å¾…è€Œæµªè´¹èµ„æºã€‚ ä¸ºä»€ä¹ˆè¦å››æ¬¡æŒ¥æ‰‹?é‚£å››æ¬¡åˆ†æ‰‹åˆæ˜¯ä¸ºä½•å‘¢ï¼ŸTCPåè®®æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„è¿è¾“å±‚é€šä¿¡åè®®ã€‚TCPæ˜¯å…¨åŒå·¥æ¨¡å¼ï¼Œè¿™å°±æ„å‘³ç€ï¼Œå½“ä¸»æœº1å‘å‡ºFINæŠ¥æ–‡æ®µæ—¶ï¼Œåªæ˜¯è¡¨ç¤ºä¸»æœº1å·²ç»æ²¡æœ‰æ•°æ®è¦å‘é€äº†ï¼Œä¸»æœº1å‘Šè¯‰ä¸»æœº2ï¼Œå®ƒçš„æ•°æ®å·²ç»å…¨éƒ¨å‘é€å®Œæ¯•äº†ï¼›ä½†æ˜¯ï¼Œè¿™ä¸ªæ—¶å€™ä¸»æœº1è¿˜æ˜¯å¯ä»¥æ¥å—æ¥è‡ªä¸»æœº2çš„æ•°æ®ï¼›å½“ä¸»æœº2è¿”å›ACKæŠ¥æ–‡æ®µæ—¶ï¼Œè¡¨ç¤ºå®ƒå·²ç»çŸ¥é“ä¸»æœº1æ²¡æœ‰æ•°æ®å‘é€äº†ï¼Œä½†æ˜¯ä¸»æœº2è¿˜æ˜¯å¯ä»¥å‘é€æ•°æ®åˆ°ä¸»æœº1çš„ï¼›å½“ä¸»æœº2ä¹Ÿå‘é€äº†FINæŠ¥æ–‡æ®µæ—¶ï¼Œè¿™ä¸ªæ—¶å€™å°±è¡¨ç¤ºä¸»æœº2ä¹Ÿæ²¡æœ‰æ•°æ®è¦å‘é€äº†ï¼Œå°±ä¼šå‘Šè¯‰ä¸»æœº1ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰æ•°æ®è¦å‘é€äº†ï¼Œä¹‹åå½¼æ­¤å°±ä¼šæ„‰å¿«çš„ä¸­æ–­è¿™æ¬¡TCPè¿æ¥ã€‚å¦‚æœè¦æ­£ç¡®çš„ç†è§£å››æ¬¡åˆ†æ‰‹çš„åŸç†ï¼Œå°±éœ€è¦äº†è§£å››æ¬¡åˆ†æ‰‹è¿‡ç¨‹ä¸­çš„çŠ¶æ€å˜åŒ–ã€‚ FIN_WAIT_1: è¿™ä¸ªçŠ¶æ€è¦å¥½å¥½è§£é‡Šä¸€ä¸‹ï¼Œå…¶å®FIN_WAIT_1å’ŒFIN_WAIT_2çŠ¶æ€çš„çœŸæ­£å«ä¹‰éƒ½æ˜¯è¡¨ç¤ºç­‰å¾…å¯¹æ–¹çš„FINæŠ¥æ–‡ã€‚è€Œè¿™ä¸¤ç§çŠ¶æ€çš„åŒºåˆ«æ˜¯ï¼šFIN_WAIT_1çŠ¶æ€å®é™…ä¸Šæ˜¯å½“SOCKETåœ¨ESTABLISHEDçŠ¶æ€æ—¶ï¼Œå®ƒæƒ³ä¸»åŠ¨å…³é—­è¿æ¥ï¼Œå‘å¯¹æ–¹å‘é€äº†FINæŠ¥æ–‡ï¼Œæ­¤æ—¶è¯¥SOCKETå³è¿›å…¥åˆ°FIN_WAIT_1çŠ¶æ€ã€‚è€Œå½“å¯¹æ–¹å›åº”ACKæŠ¥æ–‡åï¼Œåˆ™è¿›å…¥åˆ°FIN_WAIT_2çŠ¶æ€ï¼Œå½“ç„¶åœ¨å®é™…çš„æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ— è®ºå¯¹æ–¹ä½•ç§æƒ…å†µä¸‹ï¼Œéƒ½åº”è¯¥é©¬ä¸Šå›åº”ACKæŠ¥æ–‡ï¼Œæ‰€ä»¥FIN_WAIT_1çŠ¶æ€ä¸€èˆ¬æ˜¯æ¯”è¾ƒéš¾è§åˆ°çš„ï¼Œè€ŒFIN_WAIT_2çŠ¶æ€è¿˜æœ‰æ—¶å¸¸å¸¸å¯ä»¥ç”¨netstatçœ‹åˆ°ã€‚ï¼ˆä¸»åŠ¨æ–¹ï¼‰ FIN_WAIT_2ï¼šä¸Šé¢å·²ç»è¯¦ç»†è§£é‡Šäº†è¿™ç§çŠ¶æ€ï¼Œå®é™…ä¸ŠFIN_WAIT_2çŠ¶æ€ä¸‹çš„SOCKETï¼Œè¡¨ç¤ºåŠè¿æ¥ï¼Œä¹Ÿå³æœ‰ä¸€æ–¹è¦æ±‚closeè¿æ¥ï¼Œä½†å¦å¤–è¿˜å‘Šè¯‰å¯¹æ–¹ï¼Œæˆ‘æš‚æ—¶è¿˜æœ‰ç‚¹æ•°æ®éœ€è¦ä¼ é€ç»™ä½ (ACKä¿¡æ¯)ï¼Œç¨åå†å…³é—­è¿æ¥ã€‚ï¼ˆä¸»åŠ¨æ–¹ï¼‰ CLOSE_WAITï¼šè¿™ç§çŠ¶æ€çš„å«ä¹‰å…¶å®æ˜¯è¡¨ç¤ºåœ¨ç­‰å¾…å…³é—­ã€‚æ€ä¹ˆç†è§£å‘¢ï¼Ÿå½“å¯¹æ–¹closeä¸€ä¸ªSOCKETåå‘é€FINæŠ¥æ–‡ç»™è‡ªå·±ï¼Œä½ ç³»ç»Ÿæ¯«æ— ç–‘é—®åœ°ä¼šå›åº”ä¸€ä¸ªACKæŠ¥æ–‡ç»™å¯¹æ–¹ï¼Œæ­¤æ—¶åˆ™è¿›å…¥åˆ°CLOSE_WAITçŠ¶æ€ã€‚æ¥ä¸‹æ¥å‘¢ï¼Œå®é™…ä¸Šä½ çœŸæ­£éœ€è¦è€ƒè™‘çš„äº‹æƒ…æ˜¯å¯Ÿçœ‹ä½ æ˜¯å¦è¿˜æœ‰æ•°æ®å‘é€ç»™å¯¹æ–¹ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œé‚£ä¹ˆä½ ä¹Ÿå°±å¯ä»¥ closeè¿™ä¸ªSOCKETï¼Œå‘é€FINæŠ¥æ–‡ç»™å¯¹æ–¹ï¼Œä¹Ÿå³å…³é—­è¿æ¥ã€‚æ‰€ä»¥ä½ åœ¨CLOSE_WAITçŠ¶æ€ä¸‹ï¼Œéœ€è¦å®Œæˆçš„äº‹æƒ…æ˜¯ç­‰å¾…ä½ å»å…³é—­è¿æ¥ã€‚ï¼ˆè¢«åŠ¨æ–¹ï¼‰ LAST_ACK: è¿™ä¸ªçŠ¶æ€è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“å¥½ç†è§£çš„ï¼Œå®ƒæ˜¯è¢«åŠ¨å…³é—­ä¸€æ–¹åœ¨å‘é€FINæŠ¥æ–‡åï¼Œæœ€åç­‰å¾…å¯¹æ–¹çš„ACKæŠ¥æ–‡ã€‚å½“æ”¶åˆ°ACKæŠ¥æ–‡åï¼Œä¹Ÿå³å¯ä»¥è¿›å…¥åˆ°CLOSEDå¯ç”¨çŠ¶æ€äº†ã€‚ï¼ˆè¢«åŠ¨æ–¹ï¼‰ TIME_WAIT: è¡¨ç¤ºæ”¶åˆ°äº†å¯¹æ–¹çš„FINæŠ¥æ–‡ï¼Œå¹¶å‘é€å‡ºäº†ACKæŠ¥æ–‡ï¼Œå°±ç­‰2MSLåå³å¯å›åˆ°CLOSEDå¯ç”¨çŠ¶æ€äº†ã€‚å¦‚æœFINWAIT1çŠ¶æ€ä¸‹ï¼Œæ”¶åˆ°äº†å¯¹æ–¹åŒæ—¶å¸¦FINæ ‡å¿—å’ŒACKæ ‡å¿—çš„æŠ¥æ–‡æ—¶ï¼Œå¯ä»¥ç›´æ¥è¿›å…¥åˆ°TIME_WAITçŠ¶æ€ï¼Œè€Œæ— é¡»ç»è¿‡FIN_WAIT_2çŠ¶æ€ã€‚ï¼ˆä¸»åŠ¨æ–¹ï¼‰ CLOSED: è¡¨ç¤ºè¿æ¥ä¸­æ–­ã€‚ TCPä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹è§£é‡Š2TCPä¸‰æ¬¡æ¡æ‰‹ PSï¼šTCPåè®®ä¸­ï¼Œä¸»åŠ¨å‘èµ·è¯·æ±‚çš„ä¸€ç«¯ç§°ä¸ºã€å®¢æˆ·ç«¯ã€ï¼Œè¢«åŠ¨è¿æ¥çš„ä¸€ç«¯ç§°ä¸ºã€æœåŠ¡ç«¯ã€ã€‚ä¸ç®¡æ˜¯å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡ç«¯ï¼ŒTCPè¿æ¥å»ºç«‹å®Œåéƒ½èƒ½å‘é€å’Œæ¥æ”¶æ•°æ®ã€‚ èµ·åˆï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½ä¸ºCLOSEDçŠ¶æ€ã€‚åœ¨é€šä¿¡å¼€å§‹å‰ï¼ŒåŒæ–¹éƒ½å¾—åˆ›å»ºå„è‡ªçš„ä¼ è¾“æ§åˆ¶å—ï¼ˆTCBï¼‰ã€‚æœåŠ¡å™¨åˆ›å»ºå®ŒTCBåéè¿›å…¥LISTENçŠ¶æ€ï¼Œæ­¤æ—¶å‡†å¤‡æ¥æ”¶å®¢æˆ·ç«¯å‘æ¥çš„è¿æ¥è¯·æ±‚ã€‚ ç¬¬ä¸€æ¬¡æ¡æ‰‹å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µã€‚è¯¥æŠ¥æ–‡æ®µçš„å¤´éƒ¨ä¸­SYN=1ï¼ŒACK=0ï¼Œseq=xã€‚è¯·æ±‚å‘é€åï¼Œå®¢æˆ·ç«¯ä¾¿è¿›å…¥SYN-SENTçŠ¶æ€ã€‚ PS1ï¼šSYN=1ï¼ŒACK=0è¡¨ç¤ºè¯¥æŠ¥æ–‡æ®µä¸ºè¿æ¥è¯·æ±‚æŠ¥æ–‡ã€‚ PS2ï¼šxä¸ºæœ¬æ¬¡TCPé€šä¿¡çš„å­—èŠ‚æµçš„åˆå§‹åºå·ã€‚ TCPè§„å®šï¼šSYN=1çš„æŠ¥æ–‡æ®µä¸èƒ½æœ‰æ•°æ®éƒ¨åˆ†ï¼Œä½†è¦æ¶ˆè€—æ‰ä¸€ä¸ªåºå·ã€‚ ç¬¬äºŒæ¬¡æ¡æ‰‹æœåŠ¡ç«¯æ”¶åˆ°è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå¦‚æœåŒæ„è¿æ¥ï¼Œåˆ™ä¼šå‘é€ä¸€ä¸ªåº”ç­”ï¼šSYN=1ï¼ŒACK=1ï¼Œseq=yï¼Œack=x+1ã€‚è¯¥åº”ç­”å‘é€å®Œæˆåä¾¿è¿›å…¥SYN-RCVDçŠ¶æ€ã€‚ PS1ï¼šSYN=1ï¼ŒACK=1è¡¨ç¤ºè¯¥æŠ¥æ–‡æ®µä¸ºè¿æ¥åŒæ„çš„åº”ç­”æŠ¥æ–‡ã€‚ PS2ï¼šseq=yè¡¨ç¤ºæœåŠ¡ç«¯ä½œä¸ºå‘é€è€…æ—¶ï¼Œå‘é€å­—èŠ‚æµçš„åˆå§‹åºå·ã€‚ PS3ï¼šack=x+1è¡¨ç¤ºæœåŠ¡ç«¯å¸Œæœ›ä¸‹ä¸€ä¸ªæ•°æ®æŠ¥å‘é€åºå·ä»x+1å¼€å§‹çš„å­—èŠ‚ã€‚ ç¬¬ä¸‰æ¬¡æ¡æ‰‹å½“å®¢æˆ·ç«¯æ”¶åˆ°è¿æ¥åŒæ„çš„åº”ç­”åï¼Œè¿˜è¦å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªç¡®è®¤æŠ¥æ–‡æ®µï¼Œè¡¨ç¤ºï¼šæœåŠ¡ç«¯å‘æ¥çš„è¿æ¥åŒæ„åº”ç­”å·²ç»æˆåŠŸæ”¶åˆ°ã€‚è¯¥æŠ¥æ–‡æ®µçš„å¤´éƒ¨ä¸ºï¼šACK=1ï¼Œseq=x+1ï¼Œack=y+1ã€‚å®¢æˆ·ç«¯å‘å®Œè¿™ä¸ªæŠ¥æ–‡æ®µåä¾¿è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¿™ä¸ªåº”ç­”åä¹Ÿè¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œæ­¤æ—¶è¿æ¥çš„å»ºç«‹å®Œæˆï¼ä¸ºä»€ä¹ˆè¿æ¥å»ºç«‹éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Ÿé˜²æ­¢å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µè¢«æœåŠ¡ç«¯æ¥æ”¶ï¼Œä»è€Œäº§ç”Ÿé”™è¯¯ã€‚PSï¼šå¤±æ•ˆçš„è¿æ¥è¯·æ±‚ï¼šè‹¥å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€çš„è¿æ¥è¯·æ±‚ä¸¢å¤±ï¼Œå®¢æˆ·ç«¯ç­‰å¾…åº”ç­”è¶…æ—¶åå°±ä¼šå†æ¬¡å‘é€è¿æ¥è¯·æ±‚ï¼Œæ­¤æ—¶ï¼Œä¸Šä¸€ä¸ªè¿æ¥è¯·æ±‚å°±æ˜¯ã€å¤±æ•ˆçš„ã€ã€‚è‹¥å»ºç«‹è¿æ¥åªéœ€ä¸¤æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å¹¶æ²¡æœ‰å¤ªå¤§çš„å˜åŒ–ï¼Œä»ç„¶éœ€è¦è·å¾—æœåŠ¡ç«¯çš„åº”ç­”åæ‰è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œè€ŒæœåŠ¡ç«¯åœ¨æ”¶åˆ°è¿æ¥è¯·æ±‚åå°±è¿›å…¥ESTABLISHEDçŠ¶æ€ã€‚æ­¤æ—¶å¦‚æœç½‘ç»œæ‹¥å¡ï¼Œå®¢æˆ·ç«¯å‘é€çš„è¿æ¥è¯·æ±‚è¿Ÿè¿Ÿåˆ°ä¸äº†æœåŠ¡ç«¯ï¼Œå®¢æˆ·ç«¯ä¾¿è¶…æ—¶é‡å‘è¯·æ±‚ï¼Œå¦‚æœæœåŠ¡ç«¯æ­£ç¡®æ¥æ”¶å¹¶ç¡®è®¤åº”ç­”ï¼ŒåŒæ–¹ä¾¿å¼€å§‹é€šä¿¡ï¼Œé€šä¿¡ç»“æŸåé‡Šæ”¾è¿æ¥ã€‚æ­¤æ—¶ï¼Œå¦‚æœé‚£ä¸ªå¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠµè¾¾äº†æœåŠ¡ç«¯ï¼Œç”±äºåªæœ‰ä¸¤æ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚å°±ä¼šè¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œç­‰å¾…å‘é€æ•°æ®æˆ–ä¸»åŠ¨å‘é€æ•°æ®ã€‚ä½†æ­¤æ—¶çš„å®¢æˆ·ç«¯æ—©å·²è¿›å…¥CLOSEDçŠ¶æ€ï¼ŒæœåŠ¡ç«¯å°†ä¼šä¸€ç›´ç­‰å¾…ä¸‹å»ï¼Œè¿™æ ·æµªè´¹æœåŠ¡ç«¯è¿æ¥èµ„æºã€‚ TCPå››æ¬¡æŒ¥æ‰‹TCPè¿æ¥çš„é‡Šæ”¾ä¸€å…±éœ€è¦å››æ­¥ï¼Œå› æ­¤ç§°ä¸ºã€å››æ¬¡æŒ¥æ‰‹ã€ã€‚æˆ‘ä»¬çŸ¥é“ï¼ŒTCPè¿æ¥æ˜¯åŒå‘çš„ï¼Œå› æ­¤åœ¨å››æ¬¡æŒ¥æ‰‹ä¸­ï¼Œå‰ä¸¤æ¬¡æŒ¥æ‰‹ç”¨äºæ–­å¼€ä¸€ä¸ªæ–¹å‘çš„è¿æ¥ï¼Œåä¸¤æ¬¡æŒ¥æ‰‹ç”¨äºæ–­å¼€å¦ä¸€æ–¹å‘çš„è¿æ¥ã€‚ ç¬¬ä¸€æ¬¡æŒ¥æ‰‹è‹¥Aè®¤ä¸ºæ•°æ®å‘é€å®Œæˆï¼Œåˆ™å®ƒéœ€è¦å‘Bå‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ã€‚è¯¥è¯·æ±‚åªæœ‰æŠ¥æ–‡å¤´ï¼Œå¤´ä¸­æºå¸¦çš„ä¸»è¦å‚æ•°ä¸ºï¼šFIN=1ï¼Œseq=uã€‚æ­¤æ—¶ï¼ŒAå°†è¿›å…¥FIN-WAIT-1çŠ¶æ€ã€‚ PS1ï¼šFIN=1è¡¨ç¤ºè¯¥æŠ¥æ–‡æ®µæ˜¯ä¸€ä¸ªè¿æ¥é‡Šæ”¾è¯·æ±‚ã€‚ PS2ï¼šseq=uï¼Œu-1æ˜¯Aå‘Bå‘é€çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„åºå·ã€‚ ç¬¬äºŒæ¬¡æŒ¥æ‰‹Bæ”¶åˆ°è¿æ¥é‡Šæ”¾è¯·æ±‚åï¼Œä¼šé€šçŸ¥ç›¸åº”çš„åº”ç”¨ç¨‹åºï¼Œå‘Šè¯‰å®ƒAå‘Bè¿™ä¸ªæ–¹å‘çš„è¿æ¥å·²ç»é‡Šæ”¾ã€‚æ­¤æ—¶Bè¿›å…¥CLOSE-WAITçŠ¶æ€ï¼Œå¹¶å‘Aå‘é€è¿æ¥é‡Šæ”¾çš„åº”ç­”ï¼Œå…¶æŠ¥æ–‡å¤´åŒ…å«ï¼šACK=1ï¼Œseq=vï¼Œack=u+1ã€‚ PS1ï¼šACK=1ï¼šé™¤TCPè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µä»¥å¤–ï¼ŒTCPé€šä¿¡è¿‡ç¨‹ä¸­æ‰€æœ‰æ•°æ®æŠ¥çš„ACKéƒ½ä¸º1ï¼Œè¡¨ç¤ºåº”ç­”ã€‚ PS2ï¼šseq=vï¼Œv-1æ˜¯Bå‘Aå‘é€çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„åºå·ã€‚ PS3ï¼šack=u+1è¡¨ç¤ºå¸Œæœ›æ”¶åˆ°ä»ç¬¬u+1ä¸ªå­—èŠ‚å¼€å§‹çš„æŠ¥æ–‡æ®µï¼Œå¹¶ä¸”å·²ç»æˆåŠŸæ¥æ”¶äº†å‰uä¸ªå­—èŠ‚ã€‚ Aæ”¶åˆ°è¯¥åº”ç­”ï¼Œè¿›å…¥FIN-WAIT-2çŠ¶æ€ï¼Œç­‰å¾…Bå‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ã€‚ç¬¬äºŒæ¬¡æŒ¥æ‰‹å®Œæˆåï¼ŒAåˆ°Bæ–¹å‘çš„è¿æ¥å·²ç»é‡Šæ”¾ï¼ŒBä¸ä¼šå†æ¥æ”¶æ•°æ®ï¼ŒAä¹Ÿä¸ä¼šå†å‘é€æ•°æ®ã€‚ä½†Båˆ°Aæ–¹å‘çš„è¿æ¥ä»ç„¶å­˜åœ¨ï¼ŒBå¯ä»¥ç»§ç»­å‘Aå‘é€æ•°æ®ã€‚ ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹å½“Bå‘Aå‘å®Œæ‰€æœ‰æ•°æ®åï¼Œå‘Aå‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ï¼Œè¯·æ±‚å¤´ï¼šFIN=1ï¼ŒACK=1ï¼Œseq=wï¼Œack=u+1ã€‚Bä¾¿è¿›å…¥LAST-ACKçŠ¶æ€ã€‚ ç¬¬å››æ¬¡æŒ¥æ‰‹Aæ”¶åˆ°é‡Šæ”¾è¯·æ±‚åï¼Œå‘Bå‘é€ç¡®è®¤åº”ç­”ï¼Œæ­¤æ—¶Aè¿›å…¥TIME-WAITçŠ¶æ€ã€‚è¯¥çŠ¶æ€ä¼šæŒç»­2MSLæ—¶é—´ï¼Œè‹¥è¯¥æ—¶é—´æ®µå†…æ²¡æœ‰Bçš„é‡å‘è¯·æ±‚çš„è¯ï¼Œå°±è¿›å…¥CLOSEDçŠ¶æ€ï¼Œæ’¤é”€TCBã€‚å½“Bæ”¶åˆ°ç¡®è®¤åº”ç­”åï¼Œä¹Ÿä¾¿è¿›å…¥CLOSEDçŠ¶æ€ï¼Œæ’¤é”€TCBã€‚ ä¸ºä»€ä¹ˆAè¦å…ˆè¿›å…¥TIME-WAITçŠ¶æ€ï¼Œç­‰å¾…2MSLæ—¶é—´åæ‰è¿›å…¥CLOSEDçŠ¶æ€ï¼Ÿ ä¸ºäº†ä¿è¯Bèƒ½æ”¶åˆ°Açš„ç¡®è®¤åº”ç­”ã€‚ è‹¥Aå‘å®Œç¡®è®¤åº”ç­”åç›´æ¥è¿›å…¥CLOSEDçŠ¶æ€ï¼Œé‚£ä¹ˆå¦‚æœè¯¥åº”ç­”ä¸¢å¤±ï¼ŒBç­‰å¾…è¶…æ—¶åå°±ä¼šé‡æ–°å‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ï¼Œä½†æ­¤æ—¶Aå·²ç»å…³é—­äº†ï¼Œä¸ä¼šä½œå‡ºä»»ä½•å“åº”ï¼Œå› æ­¤Bæ°¸è¿œæ— æ³•æ­£å¸¸å…³é—­ã€‚","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"tcp","slug":"tcp","permalink":"http://xdd7130.github.io/tags/tcp/"}]},{"title":"ç±»class","slug":"ç±»class","date":"2019-01-07T07:48:34.000Z","updated":"2022-11-02T11:15:20.745Z","comments":true,"path":"2019/01/07/ç±»class/","link":"","permalink":"http://xdd7130.github.io/2019/01/07/ç±»class/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"å‚ç›´å±…ä¸­","slug":"å‚ç›´å±…ä¸­","date":"2019-01-05T01:25:40.000Z","updated":"2022-11-02T11:15:20.720Z","comments":true,"path":"2019/01/05/å‚ç›´å±…ä¸­/","link":"","permalink":"http://xdd7130.github.io/2019/01/05/å‚ç›´å±…ä¸­/","excerpt":"","text":"16ç§æ–¹æ³•å®ç°æ°´å¹³å±…ä¸­å‚ç›´å±…ä¸­ç†Ÿæ‚‰æ°´å¹³å±…ä¸­å’Œå‚ç›´å±…ä¸­çš„æ–¹æ³•, ä¸ä¸ºåˆ«çš„, å°±ä¸ºç”¨çš„æ—¶å€™èƒ½å¤Ÿä¿¡æ‰‹æ‹ˆæ¥. ä¸‹é¢ç›´æ¥æ­¥å…¥æ­£é¢˜.åŸæ–‡ï¼š16ç§æ–¹æ³•å®ç°æ°´å¹³å±…ä¸­å‚ç›´å±…ä¸­ æ°´å¹³å±…ä¸­1) è‹¥æ˜¯è¡Œå†…å…ƒç´ , ç»™å…¶çˆ¶å…ƒç´ è®¾ç½® text-align:center,å³å¯å®ç°è¡Œå†…å…ƒç´ æ°´å¹³å±…ä¸­. 2) è‹¥æ˜¯å—çº§å…ƒç´ , è¯¥å…ƒç´ è®¾ç½® margin:0 autoå³å¯. 3) è‹¥å­å…ƒç´ åŒ…å« float:left å±æ€§, ä¸ºäº†è®©å­å…ƒç´ æ°´å¹³å±…ä¸­, åˆ™å¯è®©çˆ¶å…ƒç´ å®½åº¦è®¾ç½®ä¸ºfit-content,å¹¶ä¸”é…åˆmargin, ä½œå¦‚ä¸‹è®¾ç½®:123456.parent&#123; width: -moz-fit-content; width: -webkit-fit-content; width:fit-content; margin:0 auto;&#125; fit-contentæ˜¯CSS3ä¸­ç»™widthå±æ€§æ–°åŠ çš„ä¸€ä¸ªå±æ€§å€¼,å®ƒé…åˆmarginå¯ä»¥è½»æ¾å®ç°æ°´å¹³å±…ä¸­, ç›®å‰åªæ”¯æŒChrome å’Œ Firefoxæµè§ˆå™¨. 4) ä½¿ç”¨flex 2012å¹´ç‰ˆæœ¬å¸ƒå±€, å¯ä»¥è½»æ¾çš„å®ç°æ°´å¹³å±…ä¸­, å­å…ƒç´ è®¾ç½®å¦‚ä¸‹: .son{ display: flex; justify-content: center;}å¤åˆ¶ä»£ç 5) ä½¿ç”¨flex 2009å¹´ç‰ˆæœ¬, çˆ¶å…ƒç´ display: box;box-pack: center;å¦‚ä¸‹è®¾ç½®: .parent { display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-pack: center; display: -moz-box; -moz-box-orient: horizontal; -moz-box-pack: center; display: -o-box; -o-box-orient: horizontal; -o-box-pack: center; display: -ms-box; -ms-box-orient: horizontal; -ms-box-pack: center; display: box; box-orient: horizontal; box-pack: center;}å¤åˆ¶ä»£ç 6) ä½¿ç”¨CSS3ä¸­æ–°å¢çš„transformå±æ€§, å­å…ƒç´ è®¾ç½®å¦‚ä¸‹: .son{ position:absolute; left:50%; transform:translate(-50%,0);}å¤åˆ¶ä»£ç 7) ä½¿ç”¨ç»å¯¹å®šä½æ–¹å¼, ä»¥åŠè´Ÿå€¼çš„margin-left, å­å…ƒç´ è®¾ç½®å¦‚ä¸‹: .son{ position:absolute; width:å›ºå®š; left:50%; margin-left:-0.5å®½åº¦;}å¤åˆ¶ä»£ç 8) ä½¿ç”¨ç»å¯¹å®šä½æ–¹å¼, ä»¥åŠleft:0;right:0;margin:0 auto; å­å…ƒç´ è®¾ç½®å¦‚ä¸‹: .son{ position:absolute; width:å›ºå®š; left:0; right:0; margin:0 auto;}å¤åˆ¶ä»£ç  å‚ç›´å±…ä¸­å•è¡Œæ–‡æœ¬1) è‹¥å…ƒç´ æ˜¯å•è¡Œæ–‡æœ¬, åˆ™å¯è®¾ç½® line-height ç­‰äºçˆ¶å…ƒç´ é«˜åº¦ è¡Œå†…å—çº§å…ƒç´ 2) è‹¥å…ƒç´ æ˜¯è¡Œå†…å—çº§å…ƒç´ , åŸºæœ¬æ€æƒ³æ˜¯ä½¿ç”¨display: inline-block, vertical-align: middleå’Œä¸€ä¸ªä¼ªå…ƒç´ è®©å†…å®¹å—å¤„äºå®¹å™¨ä¸­å¤®. .parent::after, .son{ display:inline-block; vertical-align:middle;}.parent::after{ content:â€™â€™; height:100%;}å¤åˆ¶ä»£ç è¿™æ˜¯ä¸€ç§å¾ˆæµè¡Œçš„æ–¹æ³•, ä¹Ÿé€‚åº”IE7. å…ƒç´ é«˜åº¦ä¸å®š3) å¯ç”¨ vertical-align å±æ€§, è€Œvertical-alignåªæœ‰åœ¨çˆ¶å±‚ä¸º td æˆ–è€… th æ—¶, æ‰ä¼šç”Ÿæ•ˆ, å¯¹äºå…¶ä»–å—çº§å…ƒç´ , ä¾‹å¦‚ divã€p ç­‰, é»˜è®¤æƒ…å†µæ˜¯ä¸æ”¯æŒçš„. ä¸ºäº†ä½¿ç”¨vertical-align, æˆ‘ä»¬éœ€è¦è®¾ç½®çˆ¶å…ƒç´ display:table, å­å…ƒç´  display:table-cell;vertical-align:middle; ä¼˜ç‚¹ å…ƒç´ é«˜åº¦å¯ä»¥åŠ¨æ€æ”¹å˜, ä¸éœ€å†CSSä¸­å®šä¹‰, å¦‚æœçˆ¶å…ƒç´ æ²¡æœ‰è¶³å¤Ÿç©ºé—´æ—¶, è¯¥å…ƒç´ å†…å®¹ä¹Ÿä¸ä¼šè¢«æˆªæ–­. ç¼ºç‚¹ IE6~7, ç”šè‡³IE8 betaä¸­æ— æ•ˆ. 4) å¯ç”¨ Flex 2012ç‰ˆ, è¿™æ˜¯CSSå¸ƒå±€æœªæ¥çš„è¶‹åŠ¿. Flexboxæ˜¯CSS3æ–°å¢å±æ€§, è®¾è®¡åˆè¡·æ˜¯ä¸ºäº†è§£å†³åƒå‚ç›´å±…ä¸­è¿™æ ·çš„å¸¸è§å¸ƒå±€é—®é¢˜. ç›¸å…³çš„æ–‡ç« å¦‚ã€Šå¼¹æ€§ç›’æ¨¡å‹FlexæŒ‡å—ã€‹ çˆ¶å…ƒç´ åšå¦‚ä¸‹è®¾ç½®å³å¯ä¿è¯å­å…ƒç´ å‚ç›´å±…ä¸­: .parent { display: flex; align-items: center;}å¤åˆ¶ä»£ç ä¼˜ç‚¹ å†…å®¹å—çš„å®½é«˜ä»»æ„, ä¼˜é›…çš„æº¢å‡º.å¯ç”¨äºæ›´å¤æ‚é«˜çº§çš„å¸ƒå±€æŠ€æœ¯ä¸­.ç¼ºç‚¹ IE8/IE9ä¸æ”¯æŒéœ€è¦æµè§ˆå™¨å‚å•†å‰ç¼€æ¸²æŸ“ä¸Šå¯èƒ½ä¼šæœ‰ä¸€äº›é—®é¢˜5) ä½¿ç”¨flex 2009ç‰ˆ. .parent { display: box; box-orient: vertical; box-pack: center;}å¤åˆ¶ä»£ç ä¼˜ç‚¹ å®ç°ç®€å•, æ‰©å±•æ€§å¼º ç¼ºç‚¹ å…¼å®¹æ€§å·®, ä¸æ”¯æŒIE 6) å¯ç”¨ transform , è®¾ç½®çˆ¶å…ƒç´ ç›¸å¯¹å®šä½(position:relative), å­å…ƒç´ å¦‚ä¸‹cssæ ·å¼: .son{ position:absolute; top:50%; -webkit-transform: translate(-50%,-50%); -ms-transform: translate(-50%,-50%); transform: translate(-50%,-50%);}å¤åˆ¶ä»£ç ä¼˜ç‚¹ ä»£ç é‡å°‘ ç¼ºç‚¹ IE8ä¸æ”¯æŒ, å±æ€§éœ€è¦è¿½åŠ æµè§ˆå™¨å‚å•†å‰ç¼€, å¯èƒ½å¹²æ‰°å…¶ä»– transform æ•ˆæœ, æŸäº›æƒ…å½¢ä¸‹ä¼šå‡ºç°æ–‡æœ¬æˆ–å…ƒç´ è¾¹ç•Œæ¸²æŸ“æ¨¡ç³Šçš„ç°è±¡. å…ƒç´ é«˜åº¦å›ºå®š7) è®¾ç½®çˆ¶å…ƒç´ ç›¸å¯¹å®šä½(position:relative), å­å…ƒç´ å¦‚ä¸‹cssæ ·å¼: .son{ position:absolute; top:50%; height:å›ºå®š; margin-top:-0.5é«˜åº¦;}å¤åˆ¶ä»£ç ä¼˜ç‚¹ é€‚ç”¨äºæ‰€æœ‰æµè§ˆå™¨. ç¼ºç‚¹ çˆ¶å…ƒç´ ç©ºé—´ä¸å¤Ÿæ—¶, å­å…ƒç´ å¯èƒ½ä¸å¯è§(å½“æµè§ˆå™¨çª—å£ç¼©å°æ—¶,æ»šåŠ¨æ¡ä¸å‡ºç°æ—¶).å¦‚æœå­å…ƒç´ è®¾ç½®äº†overflow:auto, åˆ™é«˜åº¦ä¸å¤Ÿæ—¶, ä¼šå‡ºç°æ»šåŠ¨æ¡. 8) è®¾ç½®çˆ¶å…ƒç´ ç›¸å¯¹å®šä½(position:relative), å­å…ƒç´ å¦‚ä¸‹cssæ ·å¼: .son{ position:absolute; height:å›ºå®š; top:0; bottom:0; margin:auto 0;}å¤åˆ¶ä»£ç ä¼˜ç‚¹ ç®€å• ç¼ºç‚¹ æ²¡æœ‰è¶³å¤Ÿç©ºé—´æ—¶, å­å…ƒç´ ä¼šè¢«æˆªæ–­, ä½†ä¸ä¼šæœ‰æ»šåŠ¨æ¡. æ€»ç»“æ°´å¹³å±…ä¸­è¾ƒä¸ºç®€å•, å…±æä¾›äº†8ç§æ–¹æ³•, ä¸€èˆ¬æƒ…å†µä¸‹ text-align:center,marin:0 auto; è¶³çŸ£ â‘  text-align:center;â‘¡ margin:0 auto;â‘¢ width:fit-content;â‘£ flexâ‘¤ ç›’æ¨¡å‹â‘¥ transformâ‘¦ â‘§ ä¸¤ç§ä¸åŒçš„ç»å¯¹å®šä½æ–¹æ³•å‚ç›´å±…ä¸­, å…±æä¾›äº†8ç§æ–¹æ³•. â‘  å•è¡Œæ–‡æœ¬, line-heightâ‘¡ è¡Œå†…å—çº§å…ƒç´ , ä½¿ç”¨ display: inline-block, vertical-align: middle; åŠ ä¸Šä¼ªå…ƒç´ è¾…åŠ©å®ç°â‘¢ vertical-alignâ‘£ flexâ‘¤ ç›’æ¨¡å‹â‘¥ transformâ‘¦ â‘§ ä¸¤ç§ä¸åŒçš„ç»å¯¹å®šä½æ–¹æ³•æˆ‘ä»¬å‘ç°, flex, ç›’æ¨¡å‹, transform, ç»å¯¹å®šä½, è¿™å‡ ç§æ–¹æ³•åŒæ—¶é€‚ç”¨äºæ°´å¹³å±…ä¸­å’Œå‚ç›´å±…ä¸­. æ°´å¹³å‚ç›´å±…ä¸­å®ç°ä»…å±…ä¸­å…ƒç´ å®šå®½é«˜é€‚ç”¨ï¼š absolute + è´Ÿmargin absolute + margin auto absolute + calc å±…ä¸­å…ƒç´ ä¸å®šå®½é«˜é€‚ç”¨ï¼š absolute + transform writing-mode lineheight table css-table flex grid absolute + è´Ÿmarginä¸ºäº†å®ç°ä¸Šé¢çš„æ•ˆæœå…ˆæ¥åšäº›å‡†å¤‡å·¥ä½œï¼Œå‡è®¾HTMLä»£ç å¦‚ä¸‹ï¼Œæ€»å…±ä¸¤ä¸ªå…ƒç´ ï¼Œçˆ¶å…ƒç´ å’Œå­å…ƒç´ 123&lt;div class=&quot;wp&quot;&gt; &lt;div class=&quot;box size&quot;&gt;123123&lt;/div&gt;&lt;/div&gt; wpæ˜¯çˆ¶å…ƒç´ çš„ç±»åï¼Œboxæ˜¯å­å…ƒç´ çš„ç±»åï¼Œå› ä¸ºæœ‰å®šå®½å’Œä¸å®šå®½çš„åŒºåˆ«ï¼Œsizeç”¨æ¥è¡¨ç¤ºæŒ‡å®šå®½åº¦ï¼Œä¸‹é¢æ˜¯æ‰€æœ‰æ•ˆæœéƒ½è¦ç”¨åˆ°çš„å…¬å…±ä»£ç ï¼Œä¸»è¦æ˜¯è®¾ç½®é¢œè‰²å’Œå®½é«˜æ³¨æ„ï¼šåé¢ä¸åœ¨é‡å¤è¿™æ®µå…¬å…±ä»£ç ï¼Œåªä¼šç»™å‡ºç›¸åº”æç¤º12345678910111213141516/* å…¬å…±ä»£ç  */.wp &#123; border: 1px solid red; width: 300px; height: 300px;&#125;.box &#123; background: green; &#125;.box.size&#123; width: 100px; height: 100px;&#125;/* å…¬å…±ä»£ç  */ ç»å¯¹å®šä½çš„ç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ çš„å®½é«˜ï¼Œé€šè¿‡è¿™ä¸ªç‰¹æ€§å¯ä»¥è®©å­å…ƒç´ çš„å±…ä¸­æ˜¾ç¤ºï¼Œä½†ç»å¯¹å®šä½æ˜¯åŸºäºå­å…ƒç´ çš„å·¦ä¸Šè§’ï¼ŒæœŸæœ›çš„æ•ˆæœæ˜¯å­å…ƒç´ çš„ä¸­å¿ƒå±…ä¸­æ˜¾ç¤ºä¸ºäº†ä¿®æ­£è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å€ŸåŠ©å¤–è¾¹è·çš„è´Ÿå€¼ï¼Œè´Ÿçš„å¤–è¾¹è·å¯ä»¥è®©å…ƒç´ å‘ç›¸åæ–¹å‘å®šä½ï¼Œé€šè¿‡æŒ‡å®šå­å…ƒç´ çš„å¤–è¾¹è·ä¸ºå­å…ƒç´ å®½åº¦ä¸€åŠçš„è´Ÿå€¼ï¼Œå°±å¯ä»¥è®©å­å…ƒç´ å±…ä¸­äº†ï¼Œcssä»£ç å¦‚ä¸‹1234567891011121314/* æ­¤å¤„å¼•ç”¨ä¸Šé¢çš„å…¬å…±ä»£ç  *//* æ­¤å¤„å¼•ç”¨ä¸Šé¢çš„å…¬å…±ä»£ç  *//* å®šä½ä»£ç  */.wp &#123; position: relative;&#125;.box &#123; position: absolute;; top: 50%; left: 50%; margin-left: -50px; margin-top: -50px;&#125; è¿™æ˜¯æˆ‘æ¯”è¾ƒå¸¸ç”¨çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼æ¯”è¾ƒå¥½ç†è§£ï¼Œå…¼å®¹æ€§ä¹Ÿå¾ˆå¥½ï¼Œç¼ºç‚¹æ˜¯éœ€è¦çŸ¥é“å­å…ƒç´ çš„å®½é«˜ absolute + margin autoè¿™ç§æ–¹å¼ä¹Ÿè¦æ±‚å±…ä¸­å…ƒç´ çš„å®½é«˜å¿…é¡»å›ºå®šï¼ŒHTMLä»£ç å¦‚ä¸‹123&lt;div class=&quot;wp&quot;&gt; &lt;div class=&quot;box size&quot;&gt;123123&lt;/div&gt;&lt;/div&gt; è¿™ç§æ–¹å¼é€šè¿‡è®¾ç½®å„ä¸ªæ–¹å‘çš„è·ç¦»éƒ½æ˜¯0ï¼Œæ­¤æ—¶å†è®²marginè®¾ä¸ºautoï¼Œå°±å¯ä»¥åœ¨å„ä¸ªæ–¹å‘ä¸Šå±…ä¸­äº†123456789101112131415/* æ­¤å¤„å¼•ç”¨ä¸Šé¢çš„å…¬å…±ä»£ç  *//* æ­¤å¤„å¼•ç”¨ä¸Šé¢çš„å…¬å…±ä»£ç  *//* å®šä½ä»£ç  */.wp &#123; position: relative;&#125;.box &#123; position: absolute;; top: 0; left: 0; right: 0; bottom: 0; margin: auto;&#125; è¿™ç§æ–¹æ³•å…¼å®¹æ€§ä¹Ÿå¾ˆå¥½ï¼Œç¼ºç‚¹æ˜¯éœ€è¦çŸ¥é“å­å…ƒç´ çš„å®½é«˜ absolute + calcè¿™ç§æ–¹å¼ä¹Ÿè¦æ±‚å±…ä¸­å…ƒç´ çš„å®½é«˜å¿…é¡»å›ºå®šï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ºboxå¢åŠ sizeç±»ï¼ŒHTMLä»£ç å¦‚ä¸‹123&lt;div class=&quot;wp&quot;&gt; &lt;div class=&quot;box size&quot;&gt;123123&lt;/div&gt;&lt;/div&gt; æ„Ÿè°¢css3å¸¦æ¥äº†è®¡ç®—å±æ€§ï¼Œæ—¢ç„¶topçš„ç™¾åˆ†æ¯”æ˜¯åŸºäºå…ƒç´ çš„å·¦ä¸Šè§’ï¼Œé‚£ä¹ˆåœ¨å‡å»å®½åº¦çš„ä¸€åŠå°±å¥½äº†ï¼Œä»£ç å¦‚ä¸‹123456789101112/* æ­¤å¤„å¼•ç”¨ä¸Šé¢çš„å…¬å…±ä»£ç  *//* æ­¤å¤„å¼•ç”¨ä¸Šé¢çš„å…¬å…±ä»£ç  *//* å®šä½ä»£ç  */.wp &#123; position: relative;&#125;.box &#123; position: absolute;; top: calc(50% - 50px); left: calc(50% - 50px);&#125; è¿™ç§æ–¹æ³•å…¼å®¹æ€§ä¾èµ–calcçš„å…¼å®¹æ€§ï¼Œç¼ºç‚¹æ˜¯éœ€è¦çŸ¥é“å­å…ƒç´ çš„å®½é«˜ absolute + transformè¿˜æ˜¯ç»å¯¹å®šä½ï¼Œä½†è¿™ä¸ªæ–¹æ³•ä¸éœ€è¦å­å…ƒç´ å›ºå®šå®½é«˜ï¼Œæ‰€ä»¥ä¸å†éœ€è¦sizeç±»äº†ï¼ŒHTMLä»£ç å¦‚ä¸‹123&lt;div class=&quot;wp&quot;&gt; &lt;div class=&quot;box&quot;&gt;123123&lt;/div&gt;&lt;/div&gt; ä¿®å¤ç»å¯¹å®šä½çš„é—®é¢˜ï¼Œè¿˜å¯ä»¥ä½¿ç”¨css3æ–°å¢çš„transformï¼Œtransformçš„translateå±æ€§ä¹Ÿå¯ä»¥è®¾ç½®ç™¾åˆ†æ¯”ï¼Œå…¶æ˜¯ç›¸å¯¹äºè‡ªèº«çš„å®½å’Œé«˜ï¼Œæ‰€ä»¥å¯ä»¥è®²translateè®¾ç½®ä¸º-50%ï¼Œå°±å¯ä»¥åšåˆ°å±…ä¸­äº†ï¼Œä»£ç å¦‚ä¸‹12345678910111213/* æ­¤å¤„å¼•ç”¨ä¸Šé¢çš„å…¬å…±ä»£ç  *//* æ­¤å¤„å¼•ç”¨ä¸Šé¢çš„å…¬å…±ä»£ç  *//* å®šä½ä»£ç  */.wp &#123; position: relative;&#125;.box &#123; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);&#125; è¿™ç§æ–¹æ³•å…¼å®¹æ€§ä¾èµ–translate2dçš„å…¼å®¹æ€§ line-heightåˆ©ç”¨è¡Œå†…å…ƒç´ å±…ä¸­å±æ€§ä¹Ÿå¯ä»¥åšåˆ°æ°´å¹³å‚ç›´å±…ä¸­ï¼ŒHTMLä»£ç å¦‚ä¸‹123&lt;div class=&quot;wp&quot;&gt; &lt;div class=&quot;box&quot;&gt;123123&lt;/div&gt;&lt;/div&gt; æŠŠboxè®¾ç½®ä¸ºè¡Œå†…å…ƒç´ ï¼Œé€šè¿‡text-alignå°±å¯ä»¥åšåˆ°æ°´å¹³å±…ä¸­ï¼Œä½†å¾ˆå¤šåŒå­¦å¯èƒ½ä¸çŸ¥é“é€šè¿‡é€šè¿‡vertical-alignä¹Ÿå¯ä»¥åœ¨å‚ç›´æ–¹å‘åšåˆ°å±…ä¸­ï¼Œä»£ç å¦‚ä¸‹12345678910111213141516/* æ­¤å¤„å¼•ç”¨ä¸Šé¢çš„å…¬å…±ä»£ç  *//* æ­¤å¤„å¼•ç”¨ä¸Šé¢çš„å…¬å…±ä»£ç  *//* å®šä½ä»£ç  */.wp &#123; line-height: 300px; text-align: center; font-size: 0px;&#125;.box &#123; font-size: 16px; display: inline-block; vertical-align: middle; line-height: initial; text-align: left; /* ä¿®æ­£æ–‡å­— */&#125; è¿™ç§æ–¹æ³•éœ€è¦åœ¨å­å…ƒç´ ä¸­å°†æ–‡å­—æ˜¾ç¤ºé‡ç½®ä¸ºæƒ³è¦çš„æ•ˆæœ writing-modewriting-modeå¯ä»¥æ”¹å˜æ–‡å­—çš„æ˜¾ç¤ºæ–¹å‘ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡writing-modeè®©æ–‡å­—çš„æ˜¾ç¤ºå˜ä¸ºå‚ç›´æ–¹å‘1234567891011&lt;div class=&quot;div1&quot;&gt;æ°´å¹³æ–¹å‘&lt;/div&gt;&lt;div class=&quot;div2&quot;&gt;å‚ç›´æ–¹å‘&lt;/div&gt;.div2 &#123; writing-mode: vertical-lr;&#125;æ°´å¹³æ–¹å‘å‚ç›´æ–¹å‘ æ›´ç¥å¥‡çš„æ˜¯æ‰€æœ‰æ°´å¹³æ–¹å‘ä¸Šçš„csså±æ€§ï¼Œéƒ½ä¼šå˜ä¸ºå‚ç›´æ–¹å‘ä¸Šçš„å±æ€§ï¼Œæ¯”å¦‚text-alignï¼Œé€šè¿‡writing-modeå’Œtext-alignå°±å¯ä»¥åšåˆ°æ°´å¹³å’Œå‚ç›´æ–¹å‘çš„å±…ä¸­äº†ï¼Œåªä¸è¿‡è¦ç¨å¾®éº»çƒ¦ä¸€ç‚¹123456789101112131415161718192021222324&lt;div class=&quot;wp&quot;&gt; &lt;div class=&quot;wp-inner&quot;&gt; &lt;div class=&quot;box&quot;&gt;123123&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;å¤åˆ¶ä»£ç /* æ­¤å¤„å¼•ç”¨ä¸Šé¢çš„å…¬å…±ä»£ç  *//* æ­¤å¤„å¼•ç”¨ä¸Šé¢çš„å…¬å…±ä»£ç  *//* å®šä½ä»£ç  */.wp &#123; writing-mode: vertical-lr; text-align: center;&#125;.wp-inner &#123; writing-mode: horizontal-tb; display: inline-block; text-align: center; width: 100%;&#125;.box &#123; display: inline-block; margin: auto; text-align: left;&#125; è¿™ç§æ–¹æ³•å®ç°èµ·æ¥å’Œç†è§£èµ·æ¥éƒ½ç¨å¾®æœ‰äº›å¤æ‚ tableæ›¾ç»tableè¢«ç”¨æ¥åšé¡µé¢å¸ƒå±€ï¼Œç°åœ¨æ²¡äººè¿™ä¹ˆåšäº†ï¼Œä½†tableä¹Ÿèƒ½å¤Ÿå®ç°æ°´å¹³å‚ç›´å±…ä¸­ï¼Œä½†æ˜¯ä¼šå¢åŠ å¾ˆå¤šå†—ä½™ä»£ç 123456789&lt;table&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td class=&quot;wp&quot;&gt; &lt;div class=&quot;box&quot;&gt;123123&lt;/div&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; tabelå•å…ƒæ ¼ä¸­çš„å†…å®¹å¤©ç„¶å°±æ˜¯å‚ç›´å±…ä¸­çš„ï¼Œåªè¦æ·»åŠ ä¸€ä¸ªæ°´å¹³å±…ä¸­å±æ€§å°±å¥½äº†123456.wp &#123; text-align: center;&#125;.box &#123; display: inline-block;&#125; è¿™ç§æ–¹æ³•å°±æ˜¯ä»£ç å¤ªå†—ä½™ï¼Œè€Œä¸”ä¹Ÿä¸æ˜¯tableçš„æ­£ç¡®ç”¨æ³• css-tablecssæ–°å¢çš„tableå±æ€§ï¼Œå¯ä»¥è®©æˆ‘ä»¬æŠŠæ™®é€šå…ƒç´ ï¼Œå˜ä¸ºtableå…ƒç´ çš„ç°å®æ•ˆæœï¼Œé€šè¿‡è¿™ä¸ªç‰¹æ€§ä¹Ÿå¯ä»¥å®ç°æ°´å¹³å‚ç›´å±…ä¸­123&lt;div class=&quot;wp&quot;&gt; &lt;div class=&quot;box&quot;&gt;123123&lt;/div&gt;&lt;/div&gt; ä¸‹é¢é€šè¿‡csså±æ€§ï¼Œå¯ä»¥è®©divæ˜¾ç¤ºçš„å’Œtableä¸€æ ·12345678.wp &#123; display: table-cell; text-align: center; vertical-align: middle;&#125;.box &#123; display: inline-block;&#125; å¤åˆ¶ä»£ç è¿™ç§æ–¹æ³•å’Œtableä¸€æ ·çš„åŸç†ï¼Œä½†å´æ²¡æœ‰é‚£ä¹ˆå¤šå†—ä½™ä»£ç ï¼Œå…¼å®¹æ€§ä¹Ÿè¿˜ä¸é”™ flexflexä½œä¸ºç°ä»£çš„å¸ƒå±€æ–¹æ¡ˆï¼Œé¢ è¦†äº†è¿‡å»çš„ç»éªŒï¼Œåªéœ€å‡ è¡Œä»£ç å°±å¯ä»¥ä¼˜é›…çš„åšåˆ°æ°´å¹³å‚ç›´å±…ä¸­12345678&lt;div class=&quot;wp&quot;&gt; &lt;div class=&quot;box&quot;&gt;123123&lt;/div&gt;&lt;/div&gt;.wp &#123; display: flex; justify-content: center; align-items: center;&#125; ç›®å‰åœ¨ç§»åŠ¨ç«¯å·²ç»å®Œå…¨å¯ä»¥ä½¿ç”¨flexäº†ï¼ŒPCç«¯éœ€è¦çœ‹è‡ªå·±ä¸šåŠ¡çš„å…¼å®¹æ€§æƒ…å†µ gridcssæ–°å‡ºçš„ç½‘æ ¼å¸ƒå±€ï¼Œç”±äºå…¼å®¹æ€§ä¸å¤ªå¥½ï¼Œä¸€ç›´æ²¡å¤ªå…³æ³¨ï¼Œé€šè¿‡gridä¹Ÿå¯ä»¥å®ç°æ°´å¹³å‚ç›´å±…ä¸­12345678910&lt;div class=&quot;wp&quot;&gt; &lt;div class=&quot;box&quot;&gt;123123&lt;/div&gt;&lt;/div&gt;.wp &#123; display: grid;&#125;.box &#123; align-self: center; justify-self: center;&#125; ä»£ç é‡ä¹Ÿå¾ˆå°‘ï¼Œä½†å…¼å®¹æ€§ä¸å¦‚flexï¼Œä¸æ¨èä½¿ç”¨ æ€»ç»“ä¸‹é¢å¯¹æ¯”ä¸‹å„ä¸ªæ–¹å¼çš„ä¼˜ç¼ºç‚¹ï¼Œè‚¯å®šåˆåŒå’å•è¯¥æœ‰åŒå­¦è¯´å›å­—çš„å†™æ³•äº†ï¼Œç®€å•æ€»ç»“ä¸‹ PCç«¯æœ‰å…¼å®¹æ€§è¦æ±‚ï¼Œå®½é«˜å›ºå®šï¼Œæ¨èabsolute + è´Ÿmargin PCç«¯æœ‰å…¼å®¹è¦æ±‚ï¼Œå®½é«˜ä¸å›ºå®šï¼Œæ¨ècss-table PCç«¯æ— å…¼å®¹æ€§è¦æ±‚ï¼Œæ¨èflex ç§»åŠ¨ç«¯æ¨èä½¿ç”¨flex å°è´´å£«ï¼šå…³äºflexçš„å…¼å®¹æ€§å†³æ–¹æ¡ˆï¼Œè¯·çœ‹è¿™é‡Œã€Šç§»åŠ¨ç«¯flexå¸ƒå±€å®æˆ˜ã€‹ æ–¹æ³• å±…ä¸­å…ƒç´ å®šå®½é«˜å›ºå®š PCå…¼å®¹æ€§ ç§»åŠ¨ç«¯å…¼å®¹æ€§ absolute + è´Ÿmargin æ˜¯ ie6+, chrome4+, firefox2+ å®‰å“2.3+, iOS6+ absolute + margin auto æ˜¯ ie6+, chrome4+, firefox2+ å®‰å“2.3+, iOS6+ absolute + calc æ˜¯ ie9+, chrome19+, firefox4+ å®‰å“4.4+, iOS6+ absolute + transform å¦ ie9+, chrome4+, firefox3.5+ å®‰å“3+, iOS6+ writing-mode å¦ ie6+, chrome4+, firefox3.5+ å®‰å“2.3+, iOS5.1+ lineheight å¦ ie6+, chrome4+, firefox2+ å®‰å“2.3+, iOS6+ table å¦ ie6+, chrome4+, firefox2+ å®‰å“2.3+, iOS6+ css-table å¦ ie8+, chrome4+, firefox2+ å®‰å“2.3+, iOS6+ flex å¦ ie10+, chrome4+, firefox2+ å®‰å“2.3+, iOS6+ grid å¦ ie10+, chrome57+, firefox52+ å®‰å“6+, iOS10.3+","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://xdd7130.github.io/tags/CSS/"},{"name":"å±…ä¸­","slug":"å±…ä¸­","permalink":"http://xdd7130.github.io/tags/å±…ä¸­/"}]},{"title":"ç›’æ¨¡å‹","slug":"ç›’æ¨¡å‹","date":"2019-01-04T08:40:34.000Z","updated":"2022-11-02T11:15:20.733Z","comments":true,"path":"2019/01/04/ç›’æ¨¡å‹/","link":"","permalink":"http://xdd7130.github.io/2019/01/04/ç›’æ¨¡å‹/","excerpt":"","text":"cssç›’æ¨¡å‹ç®€ä»‹ï¼šå°±æ˜¯ç”¨æ¥è£…é¡µé¢ä¸Šçš„å…ƒç´ çš„çŸ©å½¢åŒºåŸŸã€‚CSSä¸­çš„ç›’å­æ¨¡å‹åŒ…æ‹¬IEç›’å­æ¨¡å‹å’Œæ ‡å‡†çš„W3Cç›’å­æ¨¡å‹ã€‚ box-sizing(æœ‰3ä¸ªå€¼å“¦)ï¼šborder-box,padding-box,content-box. æ ‡å‡†ç›’å­æ¨¡å‹ï¼šIEç›’å­æ¨¡å‹ï¼šåŒºåˆ«ï¼šä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸¤ç§ç›’å­æ¨¡å‹æœ€ä¸»è¦çš„åŒºåˆ«å°±æ˜¯widthçš„åŒ…å«èŒƒå›´ï¼Œåœ¨æ ‡å‡†çš„ç›’å­æ¨¡å‹ä¸­ï¼ŒwidthæŒ‡contentéƒ¨åˆ†çš„å®½åº¦ï¼Œåœ¨IEç›’å­æ¨¡å‹ä¸­ï¼Œwidthè¡¨ç¤ºcontent+padding+borderè¿™ä¸‰ä¸ªéƒ¨åˆ†çš„å®½åº¦ï¼Œæ•…è¿™ä½¿å¾—åœ¨è®¡ç®—æ•´ä¸ªç›’å­çš„å®½åº¦æ—¶å­˜åœ¨ç€å·®å¼‚ï¼š æ ‡å‡†ç›’å­æ¨¡å‹çš„ç›’å­å®½åº¦ï¼šå·¦å³border+å·¦å³padding+widthIEç›’å­æ¨¡å‹çš„ç›’å­å®½åº¦ï¼šwidth åœ¨CSS3ä¸­å¼•å…¥äº†box-sizingå±æ€§ï¼Œbox-sizing:content-box;è¡¨ç¤ºæ ‡å‡†çš„ç›’å­æ¨¡å‹ï¼Œbox-sizing:border-boxè¡¨ç¤ºçš„æ˜¯IEç›’å­æ¨¡å‹ æœ€åï¼Œå‰é¢æˆ‘ä»¬è¿˜æåˆ°äº†ï¼Œbox-sizing:padding-box,è¿™ä¸ªå±æ€§å€¼çš„å®½åº¦åŒ…å«äº†å·¦å³padding+width","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"ç›’æ¨¡å‹","slug":"ç›’æ¨¡å‹","permalink":"http://xdd7130.github.io/tags/ç›’æ¨¡å‹/"}]},{"title":"é¢è¯•JS","slug":"é¢è¯•JS","date":"2019-01-03T13:42:31.000Z","updated":"2022-11-02T11:15:20.760Z","comments":true,"path":"2019/01/03/é¢è¯•JS/","link":"","permalink":"http://xdd7130.github.io/2019/01/03/é¢è¯•JS/","excerpt":"","text":"ä»‹ç»ä¸€ä¸‹JSçš„æ•°æ®ç±»å‹ï¼Ÿ ç®€å•ç±»å‹ï¼šStringã€Numberã€Booleanã€Nullã€Undefinedå¤æ‚ç±»å‹ï¼šObjectES6æ–°å¢ç±»å‹ï¼šSymbolæ‰©å±•ï¼šnullä¸undefinedæœ‰ä»€ä¹ˆåŒºåˆ« ç­”ï¼šnull è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡è¢«å®šä¹‰äº†ï¼Œå€¼ä¸ºâ€œç©ºå€¼â€ï¼Œè€Œundefined è¡¨ç¤ºä¸å­˜åœ¨è¿™ä¸ªå€¼ã€‚ æ­£å› ä¸ºè¿™ä¸ªåŸå› ï¼Œæ‰€ä»¥ä½¿ç”¨typeofåˆ¤æ–­æ—¶ï¼Œnullè¿”å›çš„æ˜¯objectï¼Œè€Œundefinedè¿”å›çš„æ˜¯undefinedã€‚(åˆ¤æ–­ä¸¤è€…æ—¶éœ€è¦ä½¿ç”¨===ä¸¥æ ¼åˆ¤æ–­)Booleanç±»å‹åœ¨è¿›è¡Œåˆ¤æ–­çš„æ—¶å€™è®¾ç½®ä¸º 0ã€-0ã€nullã€â€â€ã€falseã€undefined æˆ– NaNï¼Œåˆ™è¯¥å¯¹è±¡è®¾ç½®ä¸º falseã€‚å¦åˆ™è®¾ç½®ä¸º trueï¼ˆå³ä½¿ value å‚æ•°æ˜¯å­—ç¬¦ä¸² â€œfalseâ€ï¼‰ å¦‚ä½•é€šè¿‡JSåˆ¤æ–­ä¸€ä¸ªæ•°ç»„ï¼Ÿ 1.instanceofæ–¹æ³• instanceof è¿ç®—ç¬¦æ˜¯ç”¨æ¥æµ‹è¯•ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åœ¨å…¶åŸå‹é“¾åŸå‹æ„é€ å‡½æ•°çš„å±æ€§ã€‚ 12var arr = []; arr instanceof Array; // true 2.constructoræ–¹æ³• constructorå±æ€§è¿”å›å¯¹åˆ›å»ºæ­¤å¯¹è±¡çš„æ•°ç»„å‡½æ•°çš„å¼•ç”¨ï¼Œå°±æ˜¯è¿”å›å¯¹è±¡ç›¸å¯¹åº”çš„æ„é€ å‡½æ•°ã€‚12var arr = []; arr.constructor == Array; //true 3.ç‰¹æ€§åˆ¤æ–­æ³• åˆ©ç”¨åˆ¤æ–­æ•°ç»„ç‹¬æœ‰çš„lengthå’Œspliceæ–¹æ³•ï¼Œä½†æ˜¯è¿™æ˜¯ä¸é è°±çš„ï¼Œå› ä¸ºå¯¹è±¡ä¹Ÿèƒ½æ·»åŠ æ–¹æ³•å’Œå±æ€§ã€‚é‚£æ€ä¹ˆåŠäº†ï¼Œæœ‰ä¸€ä¸ªåŠæ³•ï¼Œå¯ä»¥åˆ©ç”¨æ•°ç»„çš„lengthå±æ€§æ²¡æ³•æšä¸¾æ¥åˆ¤æ–­ã€‚1234567function isArray(object)&#123; return object &amp;&amp; typeof object===&apos;object&apos; &amp;&amp; typeof object.length===&apos;number&apos; &amp;&amp; typeof object.splice===&apos;function&apos; &amp;&amp; //åˆ¤æ–­lengthå±æ€§æ˜¯å¦æ˜¯å¯æšä¸¾çš„ å¯¹äºæ•°ç»„ å°†å¾—åˆ°false !(object.propertyIsEnumerable(&apos;length&apos;));&#125; 4.æœ€ç®€å•çš„æ–¹æ³• è¿™ç§å†™æ³•ï¼Œæ˜¯ jQuery æ­£åœ¨ä½¿ç”¨çš„ï¼Œæ·˜å®çš„ kissy ä¹Ÿæ˜¯ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚12345Object.prototype.toString.call(value) == &apos;[object Array]&apos;// åˆ©ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥å†™ä¸€ä¸ªè¿”å›æ•°æ®ç±»å‹çš„æ–¹æ³•var isType = function (obj) &#123; return Object.prototype.toString.call(obj).slice(8,-1); &#125; 5.ES5æ–°å¢æ–¹æ³•isArray() 1234var a = new Array(123);var b = new Date();console.log(Array.isArray(a)); //trueconsole.log(Array.isArray(b)); //false &amp;æ‰©å±•ï¼šä½¿ç”¨instanceofå’Œconstrucorï¼Œè¢«åˆ¤æ–­çš„arrayå¿…é¡»æ˜¯åœ¨å½“å‰é¡µé¢å£°æ˜çš„ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªé¡µé¢ï¼ˆçˆ¶é¡µé¢ï¼‰æœ‰ä¸€ä¸ªæ¡†æ¶ï¼Œæ¡†æ¶ä¸­å¼•ç”¨äº†ä¸€ä¸ªé¡µé¢ï¼ˆå­é¡µé¢ï¼‰ï¼Œåœ¨å­é¡µé¢ä¸­å£°æ˜äº†ä¸€ä¸ªarrayï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™çˆ¶é¡µé¢çš„ä¸€ä¸ªå˜é‡ï¼Œè¿™æ—¶åˆ¤æ–­è¯¥å˜é‡ï¼ŒArray == object.constructor;ä¼šè¿”å›falseã€‚æœ€ç®€å•çš„æ–¹æ³•ï¼Œåœ¨IE6ä¸‹åˆ¤æ–­nullå’Œundefinedï¼Œæœ‰ä¸€äº›bugï¼Œåˆ¤æ–­undefinedå’Œnullå‡ä¸ºObjectï¼Œ(å¹¶ä¸æ˜¯bugï¼Œæ˜¯åœ¨ES3çš„æ ‡å‡†ä¸‹è¿”å›çš„å°±ä¸ºObject) è°ˆä¸€è°ˆletã€constä¸varçš„åŒºåˆ«ï¼Ÿletå‘½ä»¤åŸºæœ¬ç”¨æ³•åœ¨ES6ä¸­ï¼Œæ–°å¢äº†letå‘½ä»¤ï¼Œç”¨äºå£°æ˜å˜é‡ï¼Œç”¨æ¥å–ä»£ES5ä¸­varå‘½ä»¤ï¼Œæ¶ˆé™¤varå£°æ˜çš„å˜é‡çš„ä¸åˆç†ï¼Œä¸ä¸¥è°¨ä¹‹å¤„ã€‚constç”¨äºå£°æ˜å¸¸é‡ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹letå’Œvarçš„åŒºåˆ« 1.letä¸å­˜åœ¨å˜é‡æå‡ ä½¿ç”¨letå£°æ˜çš„å˜é‡ï¼Œä¸ä¼šåƒä½¿ç”¨varé‚£æ ·å­˜åœ¨â€œå˜é‡æå‡â€œâ€çš„ç°è±¡ã€‚æ‰€ä»¥ä½¿ç”¨letå£°æ˜å˜é‡ï¼Œå¿…é¡»éµå¾ªâ€œå…ˆå£°æ˜ï¼Œåä½¿ç”¨â€çš„åŸåˆ™ã€‚å¦åˆ™ä¼šæŠ¥é”™12console.log(a); //ReferenceErrorlet a = 10; å¦‚æœæ˜¯varå£°æ˜çš„å˜é‡ï¼Œåˆ™ä¸ä¼šæŠ¥é”™ã€‚12console.log(b); //undefinedvar b = 10; 2.letå£°æ˜çš„å˜é‡ï¼Œå­˜åœ¨å—çº§ä½œç”¨åŸŸ letå£°æ˜çš„å˜é‡åªåœ¨æ‰€å£°æ˜çš„ä»£ç å—å†…æœ‰æ•ˆã€‚å—çº§ä½œç”¨åŸŸç”± { } åŒ…æ‹¬ï¼Œifè¯­å¥å’Œforè¯­å¥é‡Œé¢çš„{ }ä¹Ÿå±äºå—ä½œç”¨åŸŸã€‚123456&#123; var a = 10; let b = 20; &#125; console.log(a); //10 console.log(b); // ReferenceError: b is not defined 12345678910var a =[];for( var i=0; i&lt;10; i++ )&#123; a[i] = function()&#123; console.log(i); &#125;&#125; for( var j = 0; j&lt;a.length; j++ )&#123; a[j](); //è¾“å‡º10ä¸ª10ã€‚ å› ä¸ºiæ˜¯varå£°æ˜çš„ï¼Œåœ¨å…¨å±€èŒƒå›´å†…éƒ½ç”¨ï¼Œæ¯æ¬¡æ–°çš„iéƒ½ä¼šè¦†ç›–åŸæ¥çš„ã€‚ &#125; 12345678910var a =[]; for( let i=0; i&lt;10; i++ )&#123; a[i] = function()&#123; console.log(i); &#125; &#125; for( let j = 0; j&lt;a.length; j++ )&#123; a[j](); //è¾“å‡º 0ï¼Œ1ï¼Œ2ï¼Œ...ï¼Œ9 &#125; 3.letä¸å…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸå†…é‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡åœ¨åŒä¸€ä½œç”¨åŸŸå†…ï¼Œå¦‚æœä½¿ç”¨varå£°æ˜åŒä¸€ä¸ªå˜é‡ï¼Œåˆ™åé¢çš„è¦†ç›–å‰é¢çš„ 12345678910111213var a = 10;let a = 10;console.log(a);//Uncaught SyntaxError: Identifier &apos;a&apos; has already been declaredæˆ–let a = 10;let a = 15;console.log(a);//Uncaught SyntaxError: Identifier &apos;a&apos; has already been declared 4.æš‚æ—¶æ€§æ­»åŒºï¼šåœ¨ä»£ç å—å†…ï¼Œä½¿ç”¨letå£°æ˜å˜é‡ä¹‹å‰ï¼Œè¯¥å˜é‡éƒ½æ˜¯ä¸å¯ä»¥ä½¿ç”¨ç”¨åªè¦åœ¨åŒä¸€ä½œç”¨åŸŸå†…å­˜åœ¨letå‘½ä»¤ï¼Œä»–æ‰€å£°æ˜çš„å˜é‡å°±â€œç»‘å®šâ€åœ¨è¿™ä¸ªä½œç”¨åŸŸå†…ï¼Œä¸ç®¡å¤–éƒ¨æœ‰æ²¡æœ‰å£°æ˜ ä¾‹å¦‚123456let a =10;function fn1()&#123; console.log(a); let a = 5;&#125;fn1();//Uncaught ReferenceError: a is not defined ES6è§„å®šï¼Œå¦‚æœåœ¨åŒºå—ä¸­å­˜åœ¨letå’Œconstå£°æ˜çš„å˜é‡ï¼Œåˆ™è¿™ä¸ªåŒºå—å¯¹è¿™äº›å£°æ˜çš„å˜é‡ä»ä¸€å¼€å§‹å°±å½¢æˆä¸€ä¸ªå°é—­çš„ä½œç”¨åŸŸã€‚ä¸ç®¡åœ¨å¤–éƒ¨æœ‰æ²¡æœ‰å£°æ˜è¿™ä¸ªå˜é‡ã€‚å¿…é¡»éµå®ˆâ€œå…ˆå£°æ˜ï¼Œåä½¿ç”¨â€çš„åŸåˆ™ï¼Œå¦åˆ™æŠ¥é”™ ES6è§„å®šæš‚æ—¶æ€§æ­»åŒºå’Œä¸å­˜åœ¨å˜é‡æå‡ï¼Œä¸»è¦æ˜¯ä¸ºäº†å‡å°‘è¿è¡Œç¨‹åºçš„é”™è¯¯ï¼Œé˜²æ­¢å‡ºç°â€œå…ˆä½¿ç”¨ï¼ˆå˜é‡ï¼‰ï¼Œåå£°æ˜ï¼ˆå˜é‡ï¼‰â€çš„æƒ…å†µï¼Œä»è€Œå¯¼è‡´æ„æ–™ä¹‹å¤–çš„è¡Œä¸ºã€‚è¿™ç§é”™è¯¯åœ¨ES5ä¸­å¾ˆå¸¸è§ï¼Œç°åœ¨æœ‰äº†è¿™ç§è§„å®šï¼Œå°±å¯ä»¥é¿å…å‡ºç°æ­¤ç±»é”™è¯¯äº† æ€»ä¹‹ï¼Œæš‚æ—¶æ€§æ­»åŒºçš„æœ¬è´¨å°±æ˜¯ï¼Œåªè¦ä¸€è¿›å…¥å½“å‰ä½œç”¨åŸŸï¼Œæ‰€ä½¿ç”¨çš„å˜é‡å°±å·²å­˜åœ¨ï¼Œä½†æ˜¯ä¸å¯è·å–ï¼Œåªæœ‰ç­‰åˆ°å£°æ˜å˜é‡çš„å“ªä¸€è¡Œä»£ç çš„å‡ºç°ï¼Œåœ¨å¯ä»¥è·å–å’Œä½¿ç”¨è¯¥å˜é‡ constå‘½ä»¤çš„åŸºæœ¬ä½¿ç”¨constç”¨æ¥å£°æ˜å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå…¶å€¼å°±ä¸èƒ½æ›´æ”¹1234const a = 10; a = 20; console.log(a);//Uncaught TypeError: Assignment to constant variable. 1.constå£°æ˜çš„å¸¸é‡ä¸èƒ½æ”¹å˜ï¼Œæ„å‘³ç€constä¸€æ—¦å£°æ˜å¸¸é‡ï¼Œå°±å¿…é¡»åŒæ—¶åˆå§‹åŒ–ã€‚ä¸èƒ½å…ˆå£°æ˜ï¼Œååˆå§‹åŒ–ï¼Œè¿™æ ·ä¼šæŠ¥é”™ 2.ä¸letä¸€æ ·ã€‚constå£°æ˜çš„å¸¸é‡ä¹Ÿåªåœ¨å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆ 3.ä¸letä¸€æ ·ï¼Œå¿…é¡»å…ˆå£°æ˜ï¼Œåä½¿ç”¨ 4.ä¸letä¸€æ ·ï¼Œåœ¨åŒä¸€ä½œç”¨åŸŸï¼Œconstä¸èƒ½é‡å¤å£°æ˜åŒä¸€å¸¸é‡ é‚£ä¹ˆå¦‚æœä½¿ç”¨constå£°æ˜å¯¹è±¡å‘¢ï¼Ÿ1234567const b = &#123; name:&apos;zs&apos;, age:22 &#125;b.name = &quot;lzx&quot;;console.log(b.name+&quot;---&quot;+b.age);//è¾“å‡ºlzx---22 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨constå£°æ˜çš„å¯¹è±¡çš„å±æ€§æ˜¯å¯ä»¥ä¿®æ”¹ã€‚ å› ä¸ºObjectç±»å‹æ˜¯å¼•ç”¨ç±»å‹ã€‚ç”¨constå£°æ˜å¸¸é‡ä¿å­˜çš„æ˜¯å¯¹è±¡çš„åœ°å€ï¼Œä¸å¯å˜çš„æ˜¯åœ°å€ï¼Œåœ¨ä¸Šé¢çš„ä»£ç ä¸­å°±æ˜¯ï¼Œä¸èƒ½æŠŠ b æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚è€Œä¿®æ”¹å¯¹è±¡çš„å±æ€§ï¼Œå¹¶ä¸ä¼šæ”¹å˜å¯¹è±¡çš„åœ°å€ï¼Œå› æ­¤ç”¨constå£°æ˜å¯¹è±¡çš„å±æ€§æ˜¯å¯ä»¥ä¿®æ”¹çš„ mapä¸forEachçš„åŒºåˆ«ï¼Ÿ1ã€forEachæ–¹æ³•ï¼Œæ˜¯æœ€åŸºæœ¬çš„æ–¹æ³•ï¼Œå°±æ˜¯éå†ä¸å¾ªç¯ï¼Œé»˜è®¤æœ‰3ä¸ªä¼ å‚ï¼šåˆ†åˆ«æ˜¯éå†çš„æ•°ç»„å†…å®¹itemã€æ•°ç»„ç´¢å¼•indexã€å’Œå½“å‰éå†æ•°ç»„Arrayã€‚å¦å¤–ï¼Œé™¤å»ç¬¬ä¸€ä¸ªå¿…é¡»çš„å›è°ƒå‡½æ•°å‚æ•°ï¼Œè¿˜å¯ä»¥æ¥å—ä¸€ä¸ªä¸Šä¸‹æ–‡å‚æ•°(æ”¹å˜å›è°ƒå‡½æ•°çš„thisæŒ‡å‘)ï¼›å¹¶ä¸”forEachä¸ä¼šéå†ç©ºå…ƒç´ ã€‚2ã€mapæ–¹æ³•ï¼ŒåŸºæœ¬ç”¨æ³•ä¸forEachä¸€è‡´ï¼Œä½†æ˜¯ä¸åŒçš„ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œæ‰€ä»¥åœ¨callbackéœ€è¦æœ‰returnå€¼ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¼šè¿”å›undefinedã€‚(ä»å­—é¢ç†è§£ï¼Œmapå°±æ˜¯æ˜ å°„çš„æ„æ€)3ã€filteræ–¹æ³•ï¼Œç”¨æ³•å’Œmapå¾ˆç›¸ä¼¼ï¼Œä»å­—é¢ç†è§£ï¼Œå°±æ˜¯è¿‡æ»¤ã€ç­›é€‰çš„æ„æ€ã€‚ä½†æ˜¯å‡½æ•°çš„callbackéœ€è¦è¿”å›å¸ƒå°”å€¼trueæˆ–falseï¼Œå¹¶ä¸”è¿”å›å€¼åªéœ€è¦ä¸ºå¼±ç­‰==å³å¯ã€‚4ã€some æ–¹æ³•ï¼Œå¯¹æ•°ç»„ä¸­æ¯ä¸€é¡¹è¿è¡ŒæŒ‡å®šå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹ä»»ä¸€é¡¹è¿”å›trueï¼Œåˆ™è¿”å›trueã€‚(ä¸€æ—¦é‡åˆ°trueï¼Œå°±ä¼šä¸­æ–­å¾ªç¯ï¼Œè¿”å›trueï¼Œç±»ä¼¼äº||åˆ¤æ–­)5ã€everyæ–¹æ³•ï¼Œå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹æ¯ä¸€é¡¹è¿”å›trueï¼Œåˆ™è¿”å›trueã€‚(ä¸€æ—¦é‡åˆ°falseï¼Œå°±ä¼šä¸­æ–­å¾ªç¯ï¼Œè¿”å›falseï¼Œç±»ä¼¼äº&amp;&amp;åˆ¤æ–­)6ã€indexOfæ–¹æ³•ï¼Œä¸å­—ç¬¦ä¸²ä¸­çš„indexOfç±»ä¼¼ï¼Œè¿”å›æ•°ç»„ç´¢å¼•å€¼ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œåˆ™ä¼šè¿”å›-1ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå¯é€‰ï¼Œè¡¨ç¤ºä»å½“å‰ä½ç½®å¼€å§‹æœç´¢ã€‚7ã€lastIndexOfæ–¹æ³•ï¼Œä¸indexOfç›¸ä¼¼ï¼Œåªæ˜¯æ˜¯ä»æ•°ç»„çš„æœ«å°¾å¼€å§‹æŸ¥æ‰¾ï¼Œè€Œç¬¬äºŒä¸ªå‚æ•°çš„é»˜è®¤å€¼æ˜¯array.length - 1ã€‚8ã€reduceæ–¹æ³•ï¼Œå­—é¢æ„æ€åº”è¯¥æ˜¯â€˜å‡å°‘â€™ï¼Œä½†æ˜¯å®é™…æ˜¯â€˜é€’å½’â€™çš„æ„æ€ã€‚å®é™…å°±æ˜¯åº”ç”¨ä¸€ä¸ªå‡½æ•°é’ˆå¯¹æ•°ç»„çš„ä¸¤ä¸ªå€¼(ä»å·¦åˆ°å³)ï¼Œä»¥å‡è‡³ä¸€ä¸ªå€¼ã€‚å®ƒçš„callbackæ¥æ”¶4ä¸ªå‚æ•°ï¼šä¹‹å‰å€¼(ä¸Šä¸€æ¬¡å¾ªç¯è¿”å›çš„å€¼)ã€å½“å‰å€¼ã€ç´¢å¼•å€¼ä»¥åŠæ•°ç»„æœ¬èº«ã€‚initialValueå‚æ•°å¯é€‰ï¼Œè¡¨ç¤ºåˆå§‹å€¼ã€‚9ã€reduceRightæ–¹æ³•ï¼Œä¸reduceæ–¹æ³•ç±»ä¼¼ï¼Œåªæ˜¯ä»æ•°ç»„çš„æœ«å°¾å¼€å§‹å®ç°ã€‚ è°ˆä¸€è°ˆä½ ç†è§£çš„å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿè°ˆä¸€è°ˆç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«ï¼Ÿ ç®­å¤´å‡½æ•°ä½¿å¾—è¡¨è¾¾æ›´åŠ ç®€æ´ã€‚(è¿™ä¸ªæ˜¯åºŸè¯) å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚ ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨Restå‚æ•°ä»£æ›¿ã€‚ ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ã€‚ è°ˆä¸€è°ˆå‡½æ•°ä¸­thisçš„æŒ‡å‘å§ï¼Ÿå…¨å±€ç¯å¢ƒ æ— è®ºæ˜¯å¦åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåœ¨å…¨å±€æ‰§è¡Œç¯å¢ƒä¸­ï¼ˆåœ¨ä»»ä½•å‡½æ•°ä½“å¤–éƒ¨ï¼‰this éƒ½æŒ‡ä»£å…¨å±€å¯¹è±¡ã€‚ 123456789// åœ¨æµè§ˆå™¨ä¸­, window å¯¹è±¡åŒæ—¶ä¹Ÿæ˜¯å…¨å±€å¯¹è±¡ï¼šconsole.log(this === window); // truea = 37;console.log(window.a); // 37this.b = \"MDN\";console.log(window.b) // \"MDN\"console.log(b) // \"MDN\" å‡½æ•°ï¼ˆè¿è¡Œå†…ï¼‰ç¯å¢ƒåœ¨å‡½æ•°å†…éƒ¨ï¼Œthisçš„å€¼å–å†³äºå‡½æ•°è¢«è°ƒç”¨çš„æ–¹å¼ã€‚ ç®€å•è°ƒç”¨å› ä¸ºä¸‹é¢çš„ä»£ç ä¸åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸” this çš„å€¼ä¸æ˜¯ç”±è¯¥è°ƒç”¨è®¾ç½®çš„ï¼Œæ‰€ä»¥ this çš„å€¼é»˜è®¤æŒ‡å‘å…¨å±€å¯¹è±¡12345678function f1()&#123; return this;&#125;//åœ¨æµè§ˆå™¨ä¸­ï¼šf1() === window; //åœ¨æµè§ˆå™¨ä¸­ï¼Œå…¨å±€å¯¹è±¡æ˜¯window//åœ¨Nodeä¸­ï¼šf1() === global; ç„¶è€Œï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œthiså°†ä¿æŒä»–è¿›å…¥æ‰§è¡Œç¯å¢ƒæ—¶çš„å€¼ï¼Œæ‰€ä»¥ä¸‹é¢çš„thiså°†ä¼šé»˜è®¤ä¸ºundefinedã€‚123456function f2()&#123; \"use strict\"; // è¿™é‡Œæ˜¯ä¸¥æ ¼æ¨¡å¼ return this;&#125;f2() === undefined; // true æ‰€ä»¥ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¦‚æœ this æ²¡æœ‰è¢«æ‰§è¡Œç¯å¢ƒï¼ˆexecution contextï¼‰å®šä¹‰ï¼Œé‚£å®ƒå°†ä¿æŒä¸º undefinedã€‚ åœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œthisçš„ç¡®åº”è¯¥æ˜¯undefinedï¼Œå› ä¸ºf2æ˜¯è¢«ç›´æ¥è°ƒç”¨çš„ï¼Œè€Œä¸æ˜¯ä½œä¸ºå¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•è°ƒç”¨çš„ï¼ˆå¦‚ window.f2()ï¼‰ã€‚æœ‰ä¸€äº›æµè§ˆå™¨æœ€åˆåœ¨æ”¯æŒä¸¥æ ¼æ¨¡å¼æ—¶æ²¡æœ‰æ­£ç¡®å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œäºæ˜¯å®ƒä»¬é”™è¯¯åœ°è¿”å›äº†windowå¯¹è±¡ã€‚ å¦‚æœè¦æƒ³æŠŠ this çš„å€¼ä»ä¸€ä¸ªç¯å¢ƒä¼ åˆ°å¦ä¸€ä¸ªï¼Œå°±è¦ç”¨ call æˆ–è€…apply æ–¹æ³•// å°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºcallå’Œapplyçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œthisä¼šè¢«ç»‘å®šåˆ°è¿™ä¸ªå¯¹è±¡ã€‚123456789101112var obj = &#123;a: 'Custom'&#125;;// è¿™ä¸ªå±æ€§æ˜¯åœ¨globalå¯¹è±¡å®šä¹‰çš„ã€‚var a = 'Global';function whatsThis(arg) &#123; return this.a; // thisçš„å€¼å–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼&#125;whatsThis(); // 'Global'whatsThis.call(obj); // 'Custom'whatsThis.apply(obj); // 'Custom' å½“ä¸€ä¸ªå‡½æ•°åœ¨å…¶ä¸»ä½“ä¸­ä½¿ç”¨ this å…³é”®å­—æ—¶ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨å‡½æ•°ç»§æ‰¿è‡ªFunction.prototype çš„ call æˆ– apply æ–¹æ³•å°† this å€¼ç»‘å®šåˆ°è°ƒç”¨ä¸­çš„ç‰¹å®šå¯¹è±¡ã€‚12345678910111213function add(c, d) &#123; return this.a + this.b + c + d;&#125;var o = &#123;a: 1, b: 3&#125;;// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä½œä¸ºâ€˜thisâ€™ä½¿ç”¨çš„å¯¹è±¡// åç»­å‚æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°è°ƒç”¨add.call(o, 5, 7); // 1 + 3 + 5 + 7 = 16// ç¬¬ä¸€ä¸ªå‚æ•°ä¹Ÿæ˜¯ä½œä¸ºâ€˜thisâ€™ä½¿ç”¨çš„å¯¹è±¡// ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œçš„å…ƒç´ ç”¨ä½œå‡½æ•°è°ƒç”¨ä¸­çš„å‚æ•°add.apply(o, [10, 20]); // 1 + 3 + 10 + 20 = 34 ä½¿ç”¨ call å’Œ apply å‡½æ•°çš„æ—¶å€™è¦æ³¨æ„ï¼Œå¦‚æœä¼ é€’ç»™ this çš„å€¼ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒJavaScript ä¼šå°è¯•ä½¿ç”¨å†…éƒ¨ ToObject æ“ä½œå°†å…¶è½¬æ¢ä¸ºå¯¹è±¡ã€‚å› æ­¤ï¼Œå¦‚æœä¼ é€’çš„å€¼æ˜¯ä¸€ä¸ªåŸå§‹å€¼æ¯”å¦‚ 7 æˆ– â€˜fooâ€™ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨ç›¸å…³æ„é€ å‡½æ•°å°†å®ƒè½¬æ¢ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥åŸå§‹å€¼ 7 ä¼šè¢«è½¬æ¢ä¸ºå¯¹è±¡ï¼Œåƒ new Number(7) è¿™æ ·ï¼Œè€Œå­—ç¬¦ä¸² â€˜fooâ€™ è½¬åŒ–æˆ new String(â€˜fooâ€™) è¿™æ ·ï¼Œä¾‹å¦‚ï¼š123456function bar() &#123; console.log(Object.prototype.toString.call(this));&#125;//åŸå§‹å€¼ 7 è¢«éšå¼è½¬æ¢ä¸ºå¯¹è±¡bar.call(7); // [object Number] bindæ–¹æ³•ECMAScript 5 å¼•å…¥äº† Function.prototype.bindã€‚è°ƒç”¨f.bind(someObject)ä¼šåˆ›å»ºä¸€ä¸ªä¸få…·æœ‰ç›¸åŒå‡½æ•°ä½“å’Œä½œç”¨åŸŸçš„å‡½æ•°ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªæ–°å‡½æ•°ä¸­ï¼Œthiså°†æ°¸ä¹…åœ°è¢«ç»‘å®šåˆ°äº†bindçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ— è®ºè¿™ä¸ªå‡½æ•°æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„ã€‚123456789101112function f()&#123; return this.a;&#125;var g = f.bind(&#123;a:\"azerty\"&#125;);console.log(g()); // azertyvar h = g.bind(&#123;a:'yoo'&#125;); // bindåªç”Ÿæ•ˆä¸€æ¬¡ï¼console.log(h()); // azertyvar o = &#123;a:37, f:f, g:g, h:h&#125;;console.log(o.f(), o.g(), o.h()); // 37, azerty, azerty ç®­å¤´å‡½æ•° ç®­å¤´å‡½æ•°è¯¦è§£1 ç®­å¤´å‡½æ•°è¯¦è§£2 åœ¨ç®­å¤´å‡½æ•°ä¸­ï¼Œthisä¸å°é—­è¯æ³•ç¯å¢ƒçš„thisä¿æŒä¸€è‡´ã€‚åœ¨å…¨å±€ä»£ç ä¸­ï¼Œå®ƒå°†è¢«è®¾ç½®ä¸ºå…¨å±€å¯¹è±¡123var globalObject = this;var foo = (() =&gt; this);console.log(foo() === globalObject); // true æ³¨æ„ï¼šå¦‚æœå°†thisä¼ é€’ç»™callã€bindã€æˆ–è€…applyï¼Œå®ƒå°†è¢«å¿½ç•¥ã€‚ä¸è¿‡ä½ ä»ç„¶å¯ä»¥ä¸ºè°ƒç”¨æ·»åŠ å‚æ•°ï¼Œä¸è¿‡ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆthisArgï¼‰åº”è¯¥è®¾ç½®ä¸ºnullã€‚ 1234567891011// æ¥ç€ä¸Šé¢çš„ä»£ç // ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•è°ƒç”¨var obj = &#123;foo: foo&#125;;console.log(obj.foo() === globalObject); // true// å°è¯•ä½¿ç”¨callæ¥è®¾å®šthisconsole.log(foo.call(obj) === globalObject); // true// å°è¯•ä½¿ç”¨bindæ¥è®¾å®šthisfoo = foo.bind(obj);console.log(foo() === globalObject); // true æ— è®ºå¦‚ä½•ï¼Œfoo çš„ this è¢«è®¾ç½®ä¸ºä»–è¢«åˆ›å»ºæ—¶çš„ç¯å¢ƒï¼ˆåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå°±æ˜¯å…¨å±€å¯¹è±¡ï¼‰ã€‚è¿™åŒæ ·é€‚ç”¨äºåœ¨å…¶ä»–å‡½æ•°å†…åˆ›å»ºçš„ç®­å¤´å‡½æ•°ï¼šè¿™äº›ç®­å¤´å‡½æ•°çš„thisè¢«è®¾ç½®ä¸ºå°é—­çš„è¯æ³•ç¯å¢ƒçš„ã€‚123456789101112131415161718192021222324252627// åˆ›å»ºä¸€ä¸ªå«æœ‰baræ–¹æ³•çš„objå¯¹è±¡ï¼Œ// barè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œ// è¿™ä¸ªå‡½æ•°è¿”å›thisï¼Œ// è¿™ä¸ªè¿”å›çš„å‡½æ•°æ˜¯ä»¥ç®­å¤´å‡½æ•°åˆ›å»ºçš„ï¼Œ// æ‰€ä»¥å®ƒçš„thisè¢«æ°¸ä¹…ç»‘å®šåˆ°äº†å®ƒå¤–å±‚å‡½æ•°çš„thisã€‚// barçš„å€¼å¯ä»¥åœ¨è°ƒç”¨ä¸­è®¾ç½®ï¼Œè¿™åè¿‡æ¥åˆè®¾ç½®äº†è¿”å›å‡½æ•°çš„å€¼ã€‚var obj = &#123; bar: function() &#123; var x = (() =&gt; this); return x; &#125;&#125;;// ä½œä¸ºobjå¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•æ¥è°ƒç”¨barï¼ŒæŠŠå®ƒçš„thisç»‘å®šåˆ°objã€‚// å°†è¿”å›çš„å‡½æ•°çš„å¼•ç”¨èµ‹å€¼ç»™fnã€‚var fn = obj.bar();// ç›´æ¥è°ƒç”¨fnè€Œä¸è®¾ç½®thisï¼Œ// é€šå¸¸(å³ä¸ä½¿ç”¨ç®­å¤´å‡½æ•°çš„æƒ…å†µ)é»˜è®¤ä¸ºå…¨å±€å¯¹è±¡// è‹¥åœ¨ä¸¥æ ¼æ¨¡å¼åˆ™ä¸ºundefinedconsole.log(fn() === obj); // true// ä½†æ˜¯æ³¨æ„ï¼Œå¦‚æœä½ åªæ˜¯å¼•ç”¨objçš„æ–¹æ³•ï¼Œ// è€Œæ²¡æœ‰è°ƒç”¨å®ƒvar fn2 = obj.bar;// é‚£ä¹ˆè°ƒç”¨ç®­å¤´å‡½æ•°åï¼ŒthisæŒ‡å‘windowï¼Œå› ä¸ºå®ƒä» bar ç»§æ‰¿äº†thisã€‚console.log(fn2()() == window); // true åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä¸€ä¸ªèµ‹å€¼ç»™äº† obj.barçš„å‡½æ•°ï¼ˆç§°ä¸ºåŒ¿åå‡½æ•° Aï¼‰ï¼Œè¿”å›äº†å¦ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼ˆç§°ä¸ºåŒ¿åå‡½æ•° Bï¼‰ã€‚å› æ­¤ï¼Œåœ¨ A è°ƒç”¨æ—¶ï¼Œå‡½æ•°Bçš„thisè¢«æ°¸ä¹…è®¾ç½®ä¸ºobj.barï¼ˆå‡½æ•°Aï¼‰çš„thisã€‚å½“è¿”å›çš„å‡½æ•°ï¼ˆå‡½æ•°Bï¼‰è¢«è°ƒç”¨æ—¶ï¼Œå®ƒthiså§‹ç»ˆæ˜¯æœ€åˆè®¾ç½®çš„ã€‚åœ¨ä¸Šé¢çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°Bçš„thisè¢«è®¾ç½®ä¸ºå‡½æ•°Açš„thisï¼Œå³objï¼Œæ‰€ä»¥å³ä½¿è¢«è°ƒç”¨çš„æ–¹å¼é€šå¸¸å°†å…¶è®¾ç½®ä¸º undefined æˆ–å…¨å±€å¯¹è±¡ï¼ˆæˆ–è€…å¦‚å‰é¢ç¤ºä¾‹ä¸­çš„å…¶ä»–å…¨å±€æ‰§è¡Œç¯å¢ƒä¸­çš„æ–¹æ³•ï¼‰ï¼Œå®ƒçš„ this ä¹Ÿä»ç„¶æ˜¯ obj . ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•å½“å‡½æ•°ä½œä¸ºå¯¹è±¡é‡Œçš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä»¬çš„ this æ˜¯è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡ã€‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå½“ o.f()è¢«è°ƒç”¨æ—¶ï¼Œå‡½æ•°å†…çš„thiså°†ç»‘å®šåˆ°oå¯¹è±¡ã€‚12345678var o = &#123; prop: 37, f: function() &#123; return this.prop; &#125;&#125;;console.log(o.f()); // logs 37 è¯·æ³¨æ„ï¼Œè¿™æ ·çš„è¡Œä¸ºï¼Œæ ¹æœ¬ä¸å—å‡½æ•°å®šä¹‰æ–¹å¼æˆ–ä½ç½®çš„å½±å“ã€‚åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨å®šä¹‰å¯¹è±¡oçš„åŒæ—¶ï¼Œå°†å‡½æ•°å†…è”å®šä¹‰ä¸ºæˆå‘˜fã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å…ˆå®šä¹‰å‡½æ•°ï¼Œç„¶åå†å°†å…¶é™„å±åˆ°o.fã€‚è¿™æ ·åšä¼šå¯¼è‡´ç›¸åŒçš„è¡Œä¸ºï¼š123456789var o = &#123;prop: 37&#125;;function independent() &#123; return this.prop;&#125;o.f = independent;console.log(o.f()); // logs 37 è¿™è¡¨æ˜å‡½æ•°æ˜¯ä»oçš„fæˆå‘˜è°ƒç”¨çš„æ‰æ˜¯é‡ç‚¹ã€‚ åŒæ ·ï¼Œthis çš„ç»‘å®šåªå—æœ€é è¿‘çš„æˆå‘˜å¼•ç”¨çš„å½±å“ã€‚åœ¨ä¸‹é¢çš„è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æŠŠä¸€ä¸ªæ–¹æ³•gå½“ä½œå¯¹è±¡o.bçš„å‡½æ•°è°ƒç”¨ã€‚åœ¨è¿™æ¬¡æ‰§è¡ŒæœŸé—´ï¼Œå‡½æ•°ä¸­çš„thiså°†æŒ‡å‘o.bã€‚äº‹å®è¯æ˜ï¼Œè¿™ä¸ä»–æ˜¯å¯¹è±¡ o çš„æˆå‘˜æ²¡æœ‰å¤šå¤§å…³ç³»ï¼Œæœ€é è¿‘çš„å¼•ç”¨æ‰æ˜¯æœ€é‡è¦çš„ã€‚12o.b = &#123;g: independent, prop: 42&#125;;console.log(o.b.g()); // 42 åŸå‹é“¾ä¸­çš„ thiså¯¹äºåœ¨å¯¹è±¡åŸå‹é“¾ä¸ŠæŸå¤„å®šä¹‰çš„æ–¹æ³•ï¼ŒåŒæ ·çš„æ¦‚å¿µä¹Ÿé€‚ç”¨ã€‚å¦‚æœè¯¥æ–¹æ³•å­˜åœ¨äºä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šï¼Œé‚£ä¹ˆthisæŒ‡å‘çš„æ˜¯è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡ï¼Œå°±åƒè¯¥æ–¹æ³•åœ¨å¯¹è±¡ä¸Šä¸€æ ·ã€‚12345678910var o = &#123; f: function() &#123; return this.a + this.b; &#125;&#125;;var p = Object.create(o);p.a = 1;p.b = 4;console.log(p.f()); // 5 åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¯¹è±¡pæ²¡æœ‰å±äºå®ƒè‡ªå·±çš„få±æ€§ï¼Œå®ƒçš„få±æ€§ç»§æ‰¿è‡ªå®ƒçš„åŸå‹ã€‚è™½ç„¶åœ¨å¯¹ f çš„æŸ¥æ‰¾è¿‡ç¨‹ä¸­ï¼Œæœ€ç»ˆæ˜¯åœ¨ o ä¸­æ‰¾åˆ° f å±æ€§çš„ï¼Œè¿™å¹¶æ²¡æœ‰å…³ç³»ï¼›æŸ¥æ‰¾è¿‡ç¨‹é¦–å…ˆä» p.f çš„å¼•ç”¨å¼€å§‹ï¼Œæ‰€ä»¥å‡½æ•°ä¸­çš„ this æŒ‡å‘pã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå› ä¸ºfæ˜¯ä½œä¸ºpçš„æ–¹æ³•è°ƒç”¨çš„ï¼Œæ‰€ä»¥å®ƒçš„thisæŒ‡å‘äº†pã€‚è¿™æ˜¯ JavaScript çš„åŸå‹ç»§æ‰¿ä¸­çš„ä¸€ä¸ªæœ‰è¶£çš„ç‰¹æ€§ã€‚ getter ä¸ setter ä¸­çš„ thiså†æ¬¡ï¼Œç›¸åŒçš„æ¦‚å¿µä¹Ÿé€‚ç”¨äºå½“å‡½æ•°åœ¨ä¸€ä¸ª getter æˆ–è€… setter ä¸­è¢«è°ƒç”¨ã€‚ç”¨ä½œ getter æˆ– setter çš„å‡½æ•°éƒ½ä¼šæŠŠ this ç»‘å®šåˆ°è®¾ç½®æˆ–è·å–å±æ€§çš„å¯¹è±¡ã€‚1234567891011121314151617function sum() &#123; return this.a + this.b + this.c;&#125;var o = &#123; a: 1, b: 2, c: 3, get average() &#123; return (this.a + this.b + this.c) / 3; &#125;&#125;;Object.defineProperty(o, 'sum', &#123; get: sum, enumerable: true, configurable: true&#125;);console.log(o.average, o.sum); // logs 2, 6 ä½œä¸ºæ„é€ å‡½æ•°å½“ä¸€ä¸ªå‡½æ•°ç”¨ä½œæ„é€ å‡½æ•°æ—¶ï¼ˆä½¿ç”¨newå…³é”®å­—ï¼‰ï¼Œå®ƒçš„thisè¢«ç»‘å®šåˆ°æ­£åœ¨æ„é€ çš„æ–°å¯¹è±¡ è™½ç„¶æ„é€ å™¨è¿”å›çš„é»˜è®¤å€¼æ˜¯thisæ‰€æŒ‡çš„é‚£ä¸ªå¯¹è±¡ï¼Œä½†å®ƒä»å¯ä»¥æ‰‹åŠ¨è¿”å›å…¶ä»–çš„å¯¹è±¡ï¼ˆå¦‚æœè¿”å›å€¼ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™è¿”å›thiså¯¹è±¡ï¼‰ã€‚ 12345678910111213141516171819202122232425262728293031/* * æ„é€ å‡½æ•°è¿™æ ·å·¥ä½œ: * * function MyConstructor()&#123; * // å‡½æ•°å®ä½“å†™åœ¨è¿™é‡Œ * // æ ¹æ®éœ€è¦åœ¨thisä¸Šåˆ›å»ºå±æ€§ï¼Œç„¶åèµ‹å€¼ç»™å®ƒä»¬ï¼Œæ¯”å¦‚ï¼š * this.fum = \"nom\"; * // ç­‰ç­‰... * * // å¦‚æœå‡½æ•°å…·æœ‰è¿”å›å¯¹è±¡çš„returnè¯­å¥ï¼Œ * // åˆ™è¯¥å¯¹è±¡å°†æ˜¯ new è¡¨è¾¾å¼çš„ç»“æœã€‚ * // å¦åˆ™ï¼Œè¡¨è¾¾å¼çš„ç»“æœæ˜¯å½“å‰ç»‘å®šåˆ° this çš„å¯¹è±¡ã€‚ * //ï¼ˆå³é€šå¸¸çœ‹åˆ°çš„å¸¸è§æƒ…å†µï¼‰ã€‚ * &#125; */function C()&#123; this.a = 37;&#125;var o = new C();console.log(o.a); // logs 37function C2()&#123; this.a = 37; return &#123;a:38&#125;;&#125;o = new C2();console.log(o.a); // logs 38 ä½œä¸ºä¸€ä¸ªDOMäº‹ä»¶å¤„ç†å‡½æ•°èŠ‚å½“å‡½æ•°è¢«ç”¨ä½œäº‹ä»¶å¤„ç†å‡½æ•°æ—¶ï¼Œå®ƒçš„thisæŒ‡å‘è§¦å‘äº‹ä»¶çš„å…ƒç´ ï¼ˆä¸€äº›æµè§ˆå™¨åœ¨ä½¿ç”¨éaddEventListenerçš„å‡½æ•°åŠ¨æ€æ·»åŠ ç›‘å¬å‡½æ•°æ—¶ä¸éµå®ˆè¿™ä¸ªçº¦å®šï¼‰ã€‚12345678910111213141516// è¢«è°ƒç”¨æ—¶ï¼Œå°†å…³è”çš„å…ƒç´ å˜æˆè“è‰²function bluify(e)&#123; console.log(this === e.currentTarget); // æ€»æ˜¯ true // å½“ currentTarget å’Œ target æ˜¯åŒä¸€ä¸ªå¯¹è±¡æ—¶ä¸º true console.log(this === e.target); this.style.backgroundColor = '#A5D9F3';&#125;// è·å–æ–‡æ¡£ä¸­çš„æ‰€æœ‰å…ƒç´ çš„åˆ—è¡¨var elements = document.getElementsByTagName('*');// å°†bluifyä½œä¸ºå…ƒç´ çš„ç‚¹å‡»ç›‘å¬å‡½æ•°ï¼Œå½“å…ƒç´ è¢«ç‚¹å‡»æ—¶ï¼Œå°±ä¼šå˜æˆè“è‰²for(var i=0 ; i&lt;elements.length ; i++)&#123; elements[i].addEventListener('click', bluify, false);&#125; ä½œä¸ºä¸€ä¸ªå†…è”äº‹ä»¶å¤„ç†å‡½æ•°å½“ä»£ç è¢«å†…è”on-event å¤„ç†å‡½æ•°è°ƒç”¨æ—¶ï¼Œå®ƒçš„thisæŒ‡å‘ç›‘å¬å™¨æ‰€åœ¨çš„DOMå…ƒç´ ï¼š123&lt;button onclick=\"alert(this.tagName.toLowerCase());\"&gt; Show this&lt;/button&gt; ä¸Šé¢çš„ alert ä¼šæ˜¾ç¤ºbuttonã€‚æ³¨æ„åªæœ‰å¤–å±‚ä»£ç ä¸­çš„thisæ˜¯è¿™æ ·è®¾ç½®çš„ï¼š123&lt;button onclick=\"alert((function()&#123;return this&#125;)());\"&gt; Show inner this&lt;/button&gt; åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ²¡æœ‰è®¾ç½®å†…éƒ¨å‡½æ•°çš„thisï¼Œæ‰€ä»¥å®ƒæŒ‡å‘ global/window å¯¹è±¡ï¼ˆå³éä¸¥æ ¼æ¨¡å¼ä¸‹è°ƒç”¨çš„å‡½æ•°æœªè®¾ç½®thisæ—¶æŒ‡å‘çš„é»˜è®¤å¯¹è±¡ï¼‰ å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼ï¼Ÿå›è°ƒå‡½æ•°ï¼šä¼˜ç‚¹ï¼šç®€å•ã€å®¹æ˜“ç†è§£ç¼ºç‚¹ï¼šä¸åˆ©äºç»´æŠ¤ï¼Œä»£ç è€¦åˆé«˜ 1.äº‹ä»¶ç›‘å¬(é‡‡ç”¨æ—¶é—´é©±åŠ¨æ¨¡å¼ï¼Œå–å†³äºæŸä¸ªäº‹ä»¶æ˜¯å¦å‘ç”Ÿ)ï¼š ä¼˜ç‚¹ï¼šå®¹æ˜“ç†è§£ï¼Œå¯ä»¥ç»‘å®šå¤šä¸ªäº‹ä»¶ï¼Œæ¯ä¸ªäº‹ä»¶å¯ä»¥æŒ‡å®šå¤šä¸ªå›è°ƒå‡½æ•°ç¼ºç‚¹ï¼šäº‹ä»¶é©±åŠ¨å‹ï¼Œæµç¨‹ä¸å¤Ÿæ¸…æ™° 2.å‘å¸ƒ/è®¢é˜…(è§‚å¯Ÿè€…æ¨¡å¼)ï¼š ç±»ä¼¼äºäº‹ä»¶ç›‘å¬ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡â€˜æ¶ˆæ¯ä¸­å¿ƒâ€™ï¼Œäº†è§£ç°åœ¨æœ‰å¤šå°‘å‘å¸ƒè€…ï¼Œå¤šå°‘è®¢é˜…è€…ã€‚ 3.Promiseå¯¹è±¡ ä¼˜ç‚¹ï¼šå¯ä»¥åˆ©ç”¨thenæ–¹æ³•ï¼Œè¿›è¡Œé“¾å¼å†™æ³•ï¼›å¯ä»¥ä¹¦å†™é”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°ï¼›ç¼ºç‚¹ï¼šç¼–å†™å’Œç†è§£ï¼Œç›¸å¯¹æ¯”è¾ƒéš¾ 4.Generatorå‡½æ•° ä¼˜ç‚¹ï¼šå‡½æ•°ä½“å†…å¤–çš„æ•°æ®äº¤æ¢ã€é”™è¯¯å¤„ç†æœºåˆ¶ç¼ºç‚¹ï¼šæµç¨‹ç®¡ç†ä¸æ–¹ä¾¿ 5.asyncå‡½æ•° ä¼˜ç‚¹ï¼šå†…ç½®æ‰§è¡Œå™¨ã€æ›´å¥½çš„è¯­ä¹‰ã€æ›´å¹¿çš„é€‚ç”¨æ€§ã€è¿”å›çš„æ˜¯Promiseã€ç»“æ„æ¸…æ™°ã€‚ç¼ºç‚¹ï¼šé”™è¯¯å¤„ç†æœºåˆ¶ â€¦â€¦jsåŸºç¡€ ç±»å’Œç»§æ‰¿ï¼ˆes5å®ç°æ–¹æ³• + es6å®ç°æ–¹æ³•ï¼‰ï¼› promiseï¼› å†™ä¸€ä¸ªæ–¹æ³•éå†æ‰€æœ‰æ–‡æ¡£æ ‘æ‰€æœ‰èŠ‚ç‚¹(è€ƒå¯Ÿé€’å½’)ï¼› jsonpå’Œè·¨åŸŸï¼› sortæ’åºç›¸å…³(æ³¨æ„ascllè¿™ä¸ªå‘) æ•°ç»„å’Œå¯¹è±¡çš„æ·±æµ…æ‹·è´ï¼› String + Arrayçš„ä¸€äº›åŸºæœ¬æ“ä½œï¼›å†™ä¸€ä¸ªæ•°ç»„å»é‡çš„æ–¹æ³•ï¼›å†’æ³¡å’Œæ•è·ï¼›äº‹ä»¶ä»£ç†ï¼› callã€applyã€bindï¼›å˜é‡æå‡ï¼›é«˜é˜¶å‡½æ•°ï¼›åŠ¨ç”»ï¼›setTimeoutã€setIntervalå’ŒrequestAnimationFrameï¼›æ¨¡å—åŒ–å¼€å‘ï¼›å¼•èµ·å†…å­˜æ³„æ¼çš„åŸå› ï¼›ajaxï¼›mapã€filterã€reduceç›¸å…³ï¼›Mapå’ŒSetï¼›ç§»åŠ¨ç«¯å¼€å‘ç›¸å…³ï¼› â€¦â€¦æŠ€æœ¯æ‹“å±• è®¾è®¡æ¨¡å¼ç›¸å…³(å•ä¾‹ã€å‘å¸ƒè®¢é˜…ç­‰)ï¼›æµè§ˆå™¨æ¸²æŸ“è¿‡ç¨‹ï¼›æ€§èƒ½ä¼˜åŒ–ç›¸å…³(è¿™ä¸ªç‚¹å¾ˆå¤§ï¼Œè®¾è®¡å¾ˆå¤šæ–¹é¢ï¼Œä¸è¦è‡ªä»¥ä¸ºä¼˜åŒ–å°±æ˜¯ç½‘ä¸Šç»å¸¸çœ‹åˆ°çš„é‚£ä¸€å¥—)ï¼›è®¾è®¡ä¸€ä¸ªæ¨¡ç‰ˆå¼•æ“ï¼›è®¾è®¡ä¸€ä¸ªæ‰“åŒ…å·¥å…·ï¼›è®¾è®¡ä¸€ä¸ªmvvmæ¡†æ¶éœ€è¦æ³¨æ„çš„caseï¼›æºç é˜…è¯»ç›¸å…³ï¼› ä½œè€…ï¼šç©å¼„å¿ƒé‡Œçš„é¬¼é“¾æ¥ï¼šhttps://juejin.im/post/59ec3d50f265da431c6f7339æ¥æºï¼šæ˜é‡‘è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚ jsonçš„JSON.parse()å’ŒJSON.stringfy()JSON.parse() ä»å­—ç¬¦ä¸²è§£æå‡ºå¯¹è±¡ 123456//å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²var data=&apos;&#123;&quot;name&quot;:&quot;goatling&quot;&#125;&apos;//è§£æå¯¹è±¡â€‹â€‹JSON.parse(data)ç»“æœæ˜¯ï¼šâ€‹name:&quot;goatling&quot; JSON.stringfy() ä»ä¸€ä¸ªå¯¹è±¡è§£æå‡ºå­—ç¬¦ä¸² var data={name:&apos;goatling&apos;} JSON.stringify(data) ç»“æœæ˜¯ï¼š &apos;{&quot;name&quot;:&quot;goatling&quot;}&apos;","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"JS","slug":"JS","permalink":"http://xdd7130.github.io/tags/JS/"}]},{"title":"é—­åŒ…","slug":"é—­åŒ…","date":"2019-01-02T02:54:13.000Z","updated":"2022-11-02T11:15:20.755Z","comments":true,"path":"2019/01/02/é—­åŒ…/","link":"","permalink":"http://xdd7130.github.io/2019/01/02/é—­åŒ…/","excerpt":"","text":"é—­åŒ…é—­åŒ…ç†è§£** ç‰¹æ€§ï¼šå‡½æ•°åµŒå¥—å‡½æ•°ï¼›å‡½æ•°å†…éƒ¨å¯ä»¥å¼•ç”¨å‡½æ•°å¤–éƒ¨çš„å‚æ•°å’Œå˜é‡ï¼›å‡½æ•°å˜é‡å’Œå‚æ•°ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼› **ä¼˜ç¼ºç‚¹ï¼šä¼˜ç‚¹ å¸Œæœ›ä¸€ä¸ªå˜é‡é•¿æœŸé©»æ‰åœ¨å†…å­˜ä¸­ é¿å…å…¨å±€å˜é‡çš„æ±¡æŸ“ ç§æœ‰æˆå‘˜çš„å­˜åœ¨ç¼ºç‚¹ å¸¸é©»å†…å­˜ï¼Œå¢å¤§å†…å­˜ä½¿ç”¨é‡ï¼Œä½¿ç”¨ä¸å½“å›é€ æˆå†…å­˜æ³„æ¼ï¼› ** è‡ªæ‰§è¡Œå‡½æ•°çš„å¥½å¤„éš”ç¦»ä½œç”¨åŸŸï¼Œé¿å…å…¨å±€ä½œç”¨åŸŸæ±¡æŸ“æ¨¡æ‹Ÿå—çº§ä½œç”¨åŸŸ åº”ç”¨çš„ä¸¤ç§æƒ…å†µï¼šå‡½æ•°ä½œä¸ºè¿”å›å€¼ã€å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ã€‚ ç¬¬ä¸€ï¼Œå‡½æ•°ä½œä¸ºè¿”å›å€¼ï¼š12345678910function fn()&#123; var max = 10; return function bar(x)&#123; if (x&gt;max)&#123; console.log(x) &#125; &#125;&#125;var f1 = fn();f1(15); å¦‚ä¸Šä»£ç ï¼Œbarå‡½æ•°ä½œä¸ºè¿”å›å€¼ï¼Œèµ‹å€¼ç»™f1å˜é‡ã€‚æ‰§è¡Œf1(15)æ—¶ï¼Œç”¨åˆ°äº†fnä½œç”¨åŸŸä¸‹çš„maxå˜é‡çš„å€¼ ç¬¬äºŒï¼Œå‡½æ•°ä½œä¸ºå‚æ•°è¢«ä¼ é€’12345678910var max = 10,fn = function(x)&#123; if(x&gt;max)&#123; console.log(x) &#125;&#125;;(function(f)&#123; var max = 100; f(15);&#125;)(fn) å¦‚ä¸Šä»£ç ä¸­ï¼Œfnå‡½æ•°ä½œä¸ºä¸€ä¸ªå‚æ•°è¢«ä¼ é€’è¿›å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œèµ‹å€¼ç»™få‚æ•°ã€‚æ‰§è¡Œf(15)æ—¶ï¼Œmaxå˜é‡çš„å–å€¼æ˜¯10ï¼Œè€Œä¸æ˜¯100ã€‚ é—­åŒ…ä¸ä½œç”¨åŸŸå˜é‡çš„ä½œç”¨åŸŸ,æ˜¯æŒ‡å˜é‡çš„æœ‰æ•ˆèŒƒå›´å½“åœ¨å‡½æ•°ä¸­å£°æ˜ä¸€ä¸ªå˜é‡çš„æ—¶å€™,å¦‚æœè¯¥å˜é‡å‰é¢æ²¡æœ‰å¸¦ä¸Šå…³é”®å­— var,è¿™ä¸ªå˜é‡å°±ä¼šæˆä¸ºå…¨å±€å˜é‡ ,è¿™å½“ç„¶æ˜¯ä¸€ç§å¾ˆå®¹æ˜“é€ æˆå‘½åå†²çªçš„åšæ³•ã€‚å¦å¤–ä¸€ç§æƒ…å†µæ˜¯ç”¨ var å…³é”®å­—åœ¨å‡½æ•°ä¸­å£°æ˜å˜é‡,è¿™æ—¶å€™çš„å˜é‡å³æ˜¯å±€éƒ¨å˜é‡,åªæœ‰åœ¨è¯¥å‡½æ•°å†…éƒ¨æ‰èƒ½è®¿é—®åˆ°è¿™ä¸ªå˜é‡,åœ¨å‡½æ•°å¤–é¢æ˜¯è®¿é—®ä¸åˆ°çš„ã€‚ ä¾‹ä¸€123456var func=function()&#123; var a=1; console.log(a); //è¾“å‡º:1 &#125;;func();console.log ( a ); // Uncaught ReferenceError: a is not defined ä¾‹äºŒï¼Œå˜é‡çš„æœç´¢æ˜¯ä»å†…åˆ°å¤–è€Œéä»å¤–åˆ° å†…çš„ã€‚123456789101112var a=1;var func1 = function()&#123; var b=2; var func2 = function()&#123; var c=3; console.log ( b ); // è¾“å‡º:2 console.log ( a );// è¾“å‡º:1 &#125; func2(); console.log(c);//è¾“å‡º:Uncaught ReferenceError: c is not defined&#125;; func1(); å˜é‡çš„ç”Ÿå­˜å‘¨æœŸã€‚å¯¹äºå…¨å±€å˜é‡æ¥è¯´,å…¨å±€å˜é‡çš„ç”Ÿå­˜å‘¨æœŸå½“ç„¶æ˜¯çš„æ°¸ä¹…,é™¤éæˆ‘ä»¬ä¸»åŠ¨é”€æ¯è¿™ä¸ªå…¨å±€å˜é‡ã€‚ è€Œå¯¹äºåœ¨å‡½æ•°å†…ç”¨ var å…³é”®å­—å£°æ˜çš„å±€éƒ¨å˜é‡æ¥è¯´,å½“é€€å‡ºå‡½æ•°æ—¶,è¿™äº›å±€éƒ¨å˜é‡å³å¤±å»äº† å®ƒä»¬çš„ä»·å€¼,å®ƒä»¬éƒ½ä¼šéšç€å‡½æ•°çš„è°ƒç”¨çš„ç»“æŸè€Œé”€æ¯ ä¾‹ä¸€123456789101112var func = function()&#123; var a=1; return function()&#123; a++; console.log(a); &#125; &#125;;var f=func();f();// è¾“å‡º:2 f();// è¾“å‡º:3f();// è¾“å‡º:4f();// è¾“å‡º:5 è·Ÿæˆ‘ä»¬ä¹‹å‰çš„ç»“è®ºç›¸å,ä¸Šé¢çš„ä¾‹å­åœ¨å½“é€€å‡ºå‡½æ•°å,å±€éƒ¨å˜é‡ a å¹¶æ²¡æœ‰æ¶ˆå¤±,è€Œæ˜¯ä¼¼ä¹ä¸€ç›´åœ¨æŸä¸ªåœ°æ–¹ å­˜æ´»ç€ã€‚ è¿™æ˜¯å› ä¸ºå½“æ‰§è¡Œ var f = func();æ—¶,f è¿”å›äº†ä¸€ä¸ªåå‡½æ•°çš„å¼•ç”¨,å®ƒå¯ä»¥é—®åˆ° func() è¢«è°ƒç”¨æ—¶äº§ç”Ÿçš„ç¯å¢ƒ,è€Œå±€éƒ¨å˜é‡ a ä¸€ç›´å¤„åœ¨è¿™ä¸ªç¯å¢ƒé‡Œã€‚ æ—¢ç„¶å¤–å±€éƒ¨å˜é‡æ‰€åœ¨çš„ç¯å¢ƒè¿˜èƒ½è¢«å¤– ç•Œè®¿é—®,è¿™ä¸ªå±€éƒ¨å˜é‡å°±æœ‰äº†ä¸è¢«é”€æ¯çš„ç†ç”±ã€‚åœ¨è¿™é‡Œç”Ÿäº†ä¸€ä¸ªé—­åŒ…ç»“æ„,å±€éƒ¨å˜é‡çš„å£°æ˜çœ‹èµ·æ¥è¢«å»¶ç»­äº†ã€‚ ä¾‹äºŒï¼Œå‡è®¾é¡µé¢ä¸Šæœ‰ 5 ä¸ª div èŠ‚ç‚¹,æˆ‘ä»¬é€šè¿‡å¾ªç¯æ¥ç»™æ¯ä¸ª divç»‘å®š onclick äº‹ä»¶,æŒ‰ç…§ç´¢å¼•é¡ºåº,ç‚¹å‡»ç¬¬ 1 ä¸ª div æ—¶å¼¹å‡º 0,ç‚¹å‡»ç¬¬ 2 ä¸ª div æ—¶å‡º 1,ä»¥æ­¤ç±»ã€‚123456var nodes = document.getElementsByTagName( 'div' );for(var i=0,len=nodes.length;i&amp;lt;len;i++)&#123; nodes[ i ].onclick = function()&#123; alert(i); &#125;&#125;; æµ‹è¯•è¿™æ®µä»£ç ä¼šå‘ç°,æ— è®ºç‚¹å‡»å“ªä¸ª div,æœ€åå¼¹å‡ºçš„ç»“æœéƒ½æ˜¯ 5ã€‚ è¿™æ˜¯å› ä¸º div èŠ‚ç‚¹çš„ onclickäº‹ä»¶æ˜¯è¢«å¼‚æ­¥è§¦å‘çš„,å½“äº‹ä»¶è¢«è§¦å‘çš„æ—¶å€™,forå¾ªç¯æ—©å·²ç»“æŸ,æ­¤æ—¶ i çš„å€¼å·²ç»æ˜¯ 5, æ‰€ä»¥åœ¨ div çš„ onclick äº‹ä»¶å‡½æ•°ä¸­é¡ºç€ä½œç”¨åŸŸé“¾ä»å†…åˆ°å¤–æŸ¥æ‰¾å˜é‡ i æ—¶,æŸ¥æ‰¾åˆ°çš„å€¼æ€»æ˜¯ 5ã€‚ è§£å†³æ–¹æ³•æ˜¯åœ¨é—­åŒ…çš„å¸®åŠ©ä¸‹,æ¯æ¬¡å¾ªç¯çš„ i å€¼éƒ½å°é—­èµ·æ¥ã€‚å½“åœ¨äº‹ä»¶å‡½æ•°ä¸­é¡ºç€ä½œç”¨åŸŸé“¾ä»å†…åˆ°å¤–æŸ¥æ‰¾å˜é‡ i æ—¶,ä¼šå…ˆæ‰¾åˆ°è¢«å°é—­åœ¨é—­åŒ…ç¯å¢ƒä¸­çš„ i,å¦‚æœæœ‰ 5 ä¸ª div,è¿™é‡Œçš„ i åˆ†åˆ« æ˜¯ 0,1,2,3,4&gt;1234567for(var i=0,len=nodes.length;i&amp;lt;len;i++)&#123; (function( i )&#123; nodes[ i ].onclick = function()&#123; console.log(i); &#125; &#125;)(i)&#125;; ä¾‹ä¸‰123456789101112var Type = &#123;&#125;;for ( var i = 0, type; type = [ 'String', 'Array', 'Number' ][ i++ ]; )&#123; (function( type )&#123; Type[ 'is' + type ] = function( obj )&#123; return Object.prototype.toString.call( obj ) === '[object '+ type +']'; &#125; &#125;)( type )&#125;;console.log( Type.isArray( [] ) );// è¾“å‡º:trueconsole.log( Type.isString( \"str\" ) );// è¾“å‡º:trueconsole.log( Type.isNumber( 5 ) );// è¾“å‡º:trueconsole.log( Type.isString( [] ) );// è¾“å‡º:false å›¾è§£","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"é—­åŒ…","slug":"é—­åŒ…","permalink":"http://xdd7130.github.io/tags/é—­åŒ…/"}]},{"title":"éå†æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•","slug":"éå†æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•","date":"2019-01-02T02:18:07.000Z","updated":"2022-11-02T11:15:20.748Z","comments":true,"path":"2019/01/02/éå†æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•/","link":"","permalink":"http://xdd7130.github.io/2019/01/02/éå†æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•/","excerpt":"","text":"éå†æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•æœ€ä¼ ç»Ÿæ–¹æ³• forå¾ªç¯123456789101112var arr = [&quot;first&quot;,&quot;second&quot;,&quot;third&quot;,&quot;fourth&quot;,3,5,8];for(var i = 0; i &lt; arr.length;i++)&#123; console.log(arr[i]);&#125; //è¾“å‡ºï¼š first second third fourth 3 5 8 forâ€¦ in123456789101112var arr = [&quot;first&quot;,&quot;second&quot;,&apos;third&apos; ,&quot;fourth&quot;,3,5,8];for(var i in arr)&#123; console.log(arr[i] +&apos;/&apos; + i); &#125; //è¾“å‡ºç»“æœä¸ºï¼š first/0 second/1 third/2 fourth/3 3/4 5/5 8/6 forâ€¦of123456789101112var arr = [&quot;first&quot;,&quot;second&quot;,&apos;third&apos; ,&quot;fourth&quot;,3,5,8];for(var item of arr)&#123; console.log(item);&#125;//è¾“å‡ºç»“æœï¼š first second third fourth 3 5 8 è™½ç„¶forâ€¦ in ã€forâ€¦oféƒ½èƒ½å¤Ÿå˜å†æ•°ç»„ï¼Œä½†æ˜¯ä¸¤è€…è¿˜æ˜¯æœ‰å¾ˆå¤§åŒºåˆ«çš„ï¼Œå…ˆè¯´ç»“è®ºï¼š ä¸¤è€…çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼š ä»–ä»¬çš„è¿­ä»£æ–¹å¼æ¨èåœ¨å¾ªç¯å¯¹è±¡å±æ€§çš„æ—¶å€™ï¼Œä½¿ç”¨for inï¼Œåœ¨éå†æ•°ç»„çš„æ—¶å€™æ¨èä½¿ç”¨for of forâ€¦in å¾ªç¯å‡ºæ¥çš„æ˜¯key, forâ€¦ofå¾ªç¯å‡ºæ¥çš„æ˜¯value forâ€¦in æ˜¯ES5 æ ‡å‡†ï¼Œfor â€¦of æ˜¯ES6æ ‡å‡†ï¼Œå…¼å®¹æ€§å¯èƒ½å­˜åœ¨äº›é—®é¢˜ï¼Œè¯·æ³¨æ„ä½¿ç”¨ forâ€¦of ä¸èƒ½éå†æ™®é€šçš„å¯¹è±¡ï¼Œéœ€è¦å’ŒObject.keys()æ­é…ä½¿ç”¨ã€‚ 123456789101112131415161718192021222324252627var arr = [&quot;first&quot;,&quot;second&quot;,&apos;third&apos; ,&quot;fourth&quot;,3,5,8]; //ç»™æ•°ç»„æ·»åŠ æ–°å±æ€§ arr.name = &apos;zhangsan&apos;; for(var item of arr)&#123; console.log(item); &#125; //è¾“å‡ºï¼š first second third fourth 3 5 8 console.log(&apos;--------------åˆ†éš”ç¬¦----------------&apos;); for(var item in arr)&#123; console.log(arr[item] + &apos;/&apos; + item); &#125; //è¾“å‡ºï¼š first/0 second/1 third/2 fourth/3 3/4 5/5 8/6 zhangsan/name å¾ªç¯é™¤äº†éå†æ•°ç»„å…ƒç´ å¤–ï¼Œè¿˜ä¼šéå†è‡ªå®šä¹‰å±æ€§ï¼Œforâ€¦ofåªå¯ä»¥å¾ªç¯å¯è¿­ä»£çš„å¯è¿­ä»£å±æ€§ï¼Œä¸å¯è¿­ä»£å±æ€§åœ¨å¾ªç¯ä¸­è¢«å¿½ç•¥äº† foreachæ–¹æ³•è¢«ä¼ é€’ç»™foreachçš„å‡½æ•°ä¼šåœ¨æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ä¸Šæ‰§è¡Œä¸€æ¬¡ï¼Œå…ƒç´ ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¯¥å‡½æ•°12345678910111213var arr = [&quot;first&quot;,&quot;second&quot;,&quot;third&quot;,&quot;fourth&quot;,3,5,8];//element è¡¨ç¤ºarrçš„å•å…ƒé¡¹ï¼Œindex è¡¨ç¤ºarrå•å…ƒé¡¹å¯¹åº”çš„ç´¢å¼•å€¼arr.forEach(function(element,index)&#123; console.log(element + &apos;/&apos; + index);&#125;)//è¾“å‡ºç»“æœï¼š first/0 second/1 third/2 fourth/3 3/4 5/5 8/6 æ³¨æ„ï¼šæœªèµ‹å€¼çš„å€¼æ˜¯ä¸ä¼šåœ¨foreachå¾ªç¯è¿­ä»£çš„ï¼Œä½†æ˜¯æ‰‹åŠ¨èµ‹å€¼ä¸ºundefinedçš„å…ƒç´ æ˜¯ä¼šè¢«åˆ—å‡ºçš„ 1234567891011var arr1 = [&quot;first&quot;,&quot;second&quot;, ,&quot;fourth&quot;,3,5,8];arr1.forEach(function(element,index)&#123; console.log(element + &apos;/&apos; + index);&#125;) //è¾“å‡ºç»“æœ first/0 second/1 fourth/3 3/4 5/5 8/6 mapéå†æ•°ç»„å¹¶é€šè¿‡callbackå¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ“ä½œï¼Œå¹¶å°†æ‰€æœ‰æ“ä½œç»“æœæ”¾å…¥æ•°ç»„ä¸­å¹¶è¿”å›è¯¥æ•°ç»„1234567var arr = [&quot;first&quot;,&quot;second&quot;,&apos;third&apos; ,&quot;fourth&quot;];var arr2 = arr.map(function(item,index,arr)&#123; return item.toUpperCase();&#125;)console.log(arr2);//è¾“å‡ºï¼š[FIRST,SECOND,THIRD, FOURTH] filter( )è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åœ¨å›è°ƒå‡½æ•°ä¸Šè¿”å›ä¸ºtrueçš„å…ƒç´ æ–°æ•°ç»„ï¼Œå›è°ƒå‡½æ•°åœ¨æ­¤æ‹…ä»»çš„æ˜¯è¿‡æ»¤å™¨çš„è§’è‰²,å½“å…ƒç´ ç¬¦å’Œæ¡ä»¶ï¼Œè¿‡æ»¤å™¨å°±è¿”å›true,è€Œfilteråˆ™ä¼šè¿”å›æ‰€æœ‰ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„å…ƒç´ 123456789var arr = [&quot;first&quot;,&quot;second&quot;,&apos;third&apos; ,&quot;fourth&quot;,3,5,8]; var arr3 = arr.filter(function(item,index,arr)&#123; if(typeof item == &apos;number&apos;)&#123; return item; &#125; &#125;) console.log(arr3); //è¾“å‡ºç»“æœï¼š [3,5,8] every()å½“æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ åœ¨callbackä¸Šè¢«è¿”å›trueæ—¶å°±è¿”å›trueæ³¨æ„ï¼šè¦æ±‚æ¯ä¸€ä¸ªå•å…ƒé¡¹éƒ½è¿”å›trueæ—¶æ‰ä¸ºtrue)every()ä¸filter()çš„åŒºåˆ«æ˜¯ï¼šåè€…ä¼šè¿”å›æ‰€æœ‰ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„å…ƒç´ ï¼›å‰è€…ä¼šåˆ¤æ–­æ˜¯ä¸æ˜¯æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½ç¬¦åˆæ¡ä»¶ï¼Œå¹¶ä¸”è¿”å›çš„æ˜¯å¸ƒå°”å€¼1234567var arr = [&quot;first&quot;,&quot;second&quot;,&apos;third&apos; ,&quot;fourth&quot;,3,5,8];var bol = arr.every(function(item, index, array)&#123; if(typeof item == &apos;string&apos;)&#123; return item; &#125; &#125;) console.log(bol); //false some()åªè¦æ•°ç»„ä¸­æœ‰ä¸€é¡¹åœ¨callbackä¸Šå°±è¿”å›trueevery()ä¸some()çš„åŒºåˆ«æ˜¯ï¼šå‰è€…è¦æ±‚æ‰€æœ‰å…ƒç´ éƒ½ç¬¦åˆæ¡ä»¶æ‰è¿”å›true,åè€…è¦æ±‚åªè¦æœ‰ç¬¦åˆæ¡ä»¶çš„å°±è¿”å›true1234567var arr = [&quot;first&quot;,&quot;second&quot;,&apos;third&apos; ,&quot;fourth&quot;,3,5,8]; var bol = arr.some(function(item, index, array)&#123; if(typeof item == &apos;string&apos;)&#123; return item; &#125; &#125;) console.log(bol); //true reduce()reduce() æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨ï¼ˆaccumulatorï¼‰ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼ï¼ˆä»å·¦åˆ°å³ï¼‰å¼€å§‹ç¼©å‡ï¼Œæœ€ç»ˆä¸ºä¸€ä¸ªå€¼ã€‚123[0, 1, 2, 3, 4].reduce(function(previousValue, currentValue, index, array)&#123; return previousValue + currentValue;&#125;); reduceè¿˜æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªå‚æ•°ä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨callbackæ—¶çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¸Šé¢è¿™ä¸ªä¾‹å­å› ä¸ºæ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ‰€ä»¥ç›´æ¥ä»æ•°ç»„çš„ç¬¬äºŒé¡¹å¼€å§‹ï¼Œå¦‚æœæˆ‘ä»¬ç»™äº†ç¬¬äºŒä¸ªå‚æ•°ä¸º5123[0, 1, 2, 3, 4].reduce(function(previousValue, currentValue, index, array)&#123; return previousValue + currentValue;&#125;,5); ç¬¬ä¸€æ¬¡è°ƒç”¨çš„previousValueçš„å€¼å°±ç”¨ä¼ å…¥çš„ç¬¬äºŒä¸ªå‚æ•°ä»£æ›¿ reduceRight()reduceRight()æ–¹æ³•çš„åŠŸèƒ½å’Œreduce()åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¸åŒçš„æ˜¯reduceRight()ä»æ•°ç»„çš„æœ«å°¾å‘å‰å°†æ•°ç»„ä¸­çš„æ•°ç»„é¡¹åšç´¯åŠ ã€‚ æ•°ç»„æ–¹æ³•æ€»ç»“å¯¹äºæ•°ç»„ï¼Œæœ€å…³å¿ƒçš„çš„ä¸¤ä¸ªé—®é¢˜ï¼šè¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Œä¼šä¸ä¼šå¯¹åŸå§‹æ•°ç»„é€ æˆå½±å“ï¼Œå…¸å‹çš„ä¾‹å­å°±æ˜¯ splice å’Œ slice æ–¹æ³•ã€‚å¯¹äºé‚£äº›è¿”å›åŸæ•°ç»„çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è°ƒç”¨æ•°ç»„çš„é“¾å¼è°ƒç”¨ï¼Œarray.filter().sort().reverse()ã€‚ä¸‹é¢ç”¨è¡¨æ ¼åˆ—å‡ºæ¥æ‰€æœ‰æ–¹æ³•çš„åŠŸèƒ½ï¼šå…·ä½“å¯å‚è€ƒï¼šhttps://segmentfault.com/a/1190000008147878","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"æ•°ç»„","slug":"æ•°ç»„","permalink":"http://xdd7130.github.io/tags/æ•°ç»„/"}]},{"title":"ç†è§£cookieã€sessionã€localStorageã€sessionStorageä¹‹ä¸åŒ","slug":"ç†è§£cookieã€sessionã€localStorageã€sessionStorageä¹‹ä¸åŒ","date":"2019-01-02T02:03:31.000Z","updated":"2022-11-02T11:15:20.732Z","comments":true,"path":"2019/01/02/ç†è§£cookieã€sessionã€localStorageã€sessionStorageä¹‹ä¸åŒ/","link":"","permalink":"http://xdd7130.github.io/2019/01/02/ç†è§£cookieã€sessionã€localStorageã€sessionStorageä¹‹ä¸åŒ/","excerpt":"","text":"ç†è§£cookieã€sessionã€localStorageã€sessionStorageä¹‹ä¸åŒ 1ã€ç›¸åŒç‚¹ï¼šæ•°æ®éƒ½ä¿å­˜åœ¨æµè§ˆå™¨ï¼ŒåŒæºå…±äº«ã€‚å³ç›¸åŒçš„åŸŸä¸‹å¯ä»¥ä¿®æ”¹è¯»å–ã€‚ 2ã€ä¸åŒç‚¹ï¼š å¤§å°æ•°é‡ï¼š IE6æˆ–æ›´ä½ç‰ˆæœ¬æœ€å¤š20ä¸ªcookieï¼ŒIE7+å¯ä»¥æœ‰50ä¸ªã€‚ cookieå¤§å°4KBå·¦å³ï¼Œè¶…è¿‡éƒ¨åˆ†ä¼šè¢«æˆªæ‰ã€‚sessionStoageï¼ŒlocalStoageå¤§å°å¯è¾¾5Mã€‚ ä¼ è¾“ï¼š æ¯æ¬¡è¯·æ±‚cookieéƒ½ä¼šå‘é€åˆ°æœåŠ¡å™¨ï¼Œç„¶åå›ä¼ ç»™æµè§ˆå™¨ï¼ŒsessionStoage,localStoageä¸ä¼šè‡ªåŠ¨å‘é€åˆ°æœåŠ¡å™¨ç«¯ã€‚ æœ‰æ•ˆæ€§ï¼šcookieå¯ä»¥è®¾ç½®pathè·¯å¾„ï¼Œé™åˆ¶åªå±äºæŸä¸ªè·¯å¾„ã€‚åœ¨è¿‡æœŸæ—¶é—´ä¹‹å‰éƒ½æœ‰æ•ˆï¼Œå³ä½¿çª—å£å’Œæµè§ˆå™¨å…³é—­ã€‚sesesionStorageå½“å‰çª—å£æœ‰æ•ˆï¼Œå…³é—­çª—å£è‡ªåŠ¨å¤±æ•ˆã€‚localStorageå§‹ç»ˆæœ‰æ•ˆï¼Œå³ä½¿çª—å£å’Œæµè§ˆå™¨å…³é—­ã€‚ ä½œç”¨åŸŸï¼šcookieåœ¨åŒæºé¡µé¢ä¸­å…±äº«ï¼ŒsessionStorageåªèƒ½åœ¨å½“å‰é¡µæœ‰æ•ˆï¼ŒlocalStorageåœ¨æ‰€æœ‰åŒæºé¡µé¢ä¸­å…±äº«ã€‚ æ“ä½œæ–¹æ³•ï¼šCookieçš„ä¿®æ”¹è¯»å–æ–¹æ³•éœ€è‡ªå·±å®ç°ï¼ŒsessionStorageï¼ŒlocalStorageæä¾›äº†getï¼Œsetæ–¹æ³•ã€‚ æ³¨ï¼šcookieæ˜¯ä¸å¯ä»¥æˆ–ç¼ºçš„ï¼Œcookieçš„ä½œç”¨æ˜¯ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’ï¼Œä½œä¸ºHTTPè§„èŒƒçš„ä¸€éƒ¨åˆ†è€Œå­˜åœ¨ ï¼Œè€ŒWeb Storageä»…ä»…æ˜¯ä¸ºäº†åœ¨æœ¬åœ°â€œå­˜å‚¨â€æ•°æ®è€Œç”Ÿã€‚ web Storageæ”¯æŒçš„å±æ€§ä¸æ–¹æ³•localStorageå’ŒsessionStorageéƒ½å…·æœ‰ç›¸åŒçš„æ“ä½œæ–¹æ³•ï¼Œä¾‹å¦‚setItemã€getItemå’ŒremoveItemç­‰ getItem(key):è·å–æŒ‡å®škeyæ‰€å­˜å‚¨çš„valueå€¼key(index)æ–¹æ³•ï¼šè¿”å›åˆ—è¡¨ä¸­å¯¹åº”ç´¢å¼•çš„keyå€¼lengthå±æ€§ï¼šè¿”å›key/valueé˜Ÿåˆ—çš„é•¿åº¦removeItem(key)æ–¹æ³•ï¼šä»Storageä¸­åˆ é™¤ä¸€ä¸ªå¯¹åº”çš„é”®å€¼å¯¹ã€‚setItem(key,value)æ–¹æ³•ï¼šå°†valueå­˜å‚¨åˆ°keyæŒ‡å®šçš„å­—æ®µã€‚clear()æ–¹æ³•ï¼šç§»é™¤æ‰€æœ‰çš„å†…å®¹","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"cookie","slug":"cookie","permalink":"http://xdd7130.github.io/tags/cookie/"}]},{"title":"è·¨åŸŸ","slug":"è·¨åŸŸ","date":"2019-01-01T14:00:08.000Z","updated":"2022-11-02T11:15:20.745Z","comments":true,"path":"2019/01/01/è·¨åŸŸ/","link":"","permalink":"http://xdd7130.github.io/2019/01/01/è·¨åŸŸ/","excerpt":"","text":"jsonpè·¨åŸŸæ˜¯é€šè¿‡åŠ¨æ€æ·»åŠ scriptæ ‡ç­¾å®ç°è·¨åŸŸçš„ç”±äºscriptæ ‡ç­¾åªèƒ½å‘é€getè¯·æ±‚æ‰€ä»¥jsonpä¸æ”¯æŒpostæ–¹å¼çš„è·¨åŸŸJSONPçš„æœ€åŸºæœ¬çš„åŸç†æ˜¯ï¼šåŠ¨æ€æ·»åŠ ä¸€ä¸ªæ ‡ç­¾è€Œscriptæ ‡ç­¾çš„srcå±æ€§æ˜¯æ²¡æœ‰è·¨åŸŸçš„é™åˆ¶çš„ã€‚è¿™æ ·è¯´æ¥ï¼Œè¿™ç§è·¨åŸŸæ–¹å¼å…¶å®ä¸ajaxXmlHttpRequeståè®®æ— å…³äº†ã€‚å¯ä»¥è¯´jsonpçš„æ–¹å¼åŸç†ä¸Šå’Œ&lt;scriptsrc=â€http://è·¨åŸŸ/â€¦xx.jsâ€&gt;æ˜¯ä¸€è‡´çš„ï¼Œå› ä¸ºä»–çš„åŸç†å®é™…ä¸Šå°±æ˜¯ ä½¿ç”¨jsçš„scriptæ ‡ç­¾ è¿›è¡Œä¼ å‚ï¼Œé‚£ä¹ˆå¿…ç„¶æ˜¯getæ–¹å¼çš„äº†ï¼Œå’Œæµè§ˆå™¨ä¸­æ•²å…¥ä¸€ä¸ªurlä¸€æ ·","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"è·¨åŸŸ","slug":"è·¨åŸŸ","permalink":"http://xdd7130.github.io/tags/è·¨åŸŸ/"}]},{"title":"http","slug":"http","date":"2018-12-27T13:35:13.000Z","updated":"2022-11-02T11:15:20.552Z","comments":true,"path":"2018/12/27/http/","link":"","permalink":"http://xdd7130.github.io/2018/12/27/http/","excerpt":"","text":"httpçŠ¶æ€ç  100 Continue ç»§ç»­ï¼Œä¸€èˆ¬åœ¨å‘é€postè¯·æ±‚æ—¶ï¼Œå·²å‘é€äº†http headerä¹‹åæœåŠ¡ç«¯å°†è¿”å›æ­¤ä¿¡æ¯ï¼Œè¡¨ç¤ºç¡®è®¤ï¼Œä¹‹åå‘é€å…·ä½“å‚æ•°ä¿¡æ¯ 200 OK æ­£å¸¸è¿”å›ä¿¡æ¯ 201 Created è¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°çš„èµ„æº 202 Accepted æœåŠ¡å™¨å·²æ¥å—è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç† 301 Moved Permanently è¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚ 302 Found ä¸´æ—¶æ€§é‡å®šå‘ã€‚ 303 See Other ä¸´æ—¶æ€§é‡å®šå‘ï¼Œä¸”æ€»æ˜¯ä½¿ç”¨ GET è¯·æ±‚æ–°çš„ URIã€‚ 304 Not Modified è‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ã€‚ Bad Request æœåŠ¡å™¨æ— æ³•ç†è§£è¯·æ±‚çš„æ ¼å¼ï¼Œå®¢æˆ·ç«¯ä¸åº”å½“å°è¯•å†æ¬¡ä½¿ç”¨ç›¸åŒçš„å†…å®¹å‘èµ·è¯·æ±‚ã€‚ 401 Unauthorized è¯·æ±‚æœªæˆæƒã€‚ 403 Forbidden ç¦æ­¢è®¿é—®ã€‚ 404 Not Found æ‰¾ä¸åˆ°å¦‚ä½•ä¸ URI ç›¸åŒ¹é…çš„èµ„æºã€‚ 500 Internal Server Error æœ€å¸¸è§çš„æœåŠ¡å™¨ç«¯é”™è¯¯ã€‚ 503 Service Unavailable æœåŠ¡å™¨ç«¯æš‚æ—¶æ— æ³•å¤„ç†è¯·æ±‚(å¯èƒ½æ˜¯è¿‡è½½æˆ–ç»´æŠ¤)ã€‚","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"http","slug":"http","permalink":"http://xdd7130.github.io/tags/http/"}]},{"title":"æµè§ˆå™¨ç¼“å­˜","slug":"æµè§ˆå™¨ç¼“å­˜","date":"2018-12-27T13:35:13.000Z","updated":"2022-11-02T11:15:20.725Z","comments":true,"path":"2018/12/27/æµè§ˆå™¨ç¼“å­˜/","link":"","permalink":"http://xdd7130.github.io/2018/12/27/æµè§ˆå™¨ç¼“å­˜/","excerpt":"","text":"HTTPå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ æµè§ˆå™¨ç¼“å­˜æœ‰ä¸‹é¢çš„ä¼˜ç‚¹ï¼š å‡å°‘å†—ä½™çš„æ•°æ®ä¼ è¾“ å‡å°‘æœåŠ¡å™¨è´Ÿæ‹… åŠ å¿«å®¢æˆ·ç«¯åŠ è½½ç½‘é¡µçš„é€Ÿåº¦ åœ¨æµè§ˆå™¨ç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚æ—¶ï¼Œæœ¬åœ°æ— ç¼“å­˜ï¼Œå‘webæœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨èµ·ç«¯å“åº”è¯·æ±‚ï¼Œæµè§ˆå™¨ç«¯ç¼“å­˜ã€‚è¿‡ç¨‹å¦‚ä¸‹ï¼š åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šå°†é¡µé¢æœ€åä¿®æ”¹æ—¶é—´é€šè¿‡Last-Modifiedæ ‡è¯†ç”±æœåŠ¡å™¨å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯è®°å½•ä¿®æ”¹æ—¶é—´ï¼›æœåŠ¡å™¨è¿˜ä¼šç”Ÿæˆä¸€ä¸ªEtagï¼Œå¹¶å‘é€ç»™å®¢æˆ·ç«¯ã€‚æµè§ˆå™¨åç»­å†æ¬¡è¿›è¡Œè¯·æ±‚æ—¶ï¼š æµè§ˆå™¨ç¼“å­˜ä¸»è¦åˆ†ä¸ºå¼ºå¼ºç¼“å­˜ï¼ˆä¹Ÿç§°æœ¬åœ°ç¼“å­˜ï¼‰å’Œåå•†ç¼“å­˜ï¼ˆä¹Ÿç§°å¼±ç¼“å­˜ï¼‰ã€‚æ ¹æ®ä¸Šå›¾ï¼Œæµè§ˆå™¨åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚å‘ç”Ÿåï¼Œå†æ¬¡å‘é€è¯·æ±‚æ—¶ï¼š æµè§ˆå™¨è¯·æ±‚æŸä¸€èµ„æºæ—¶ï¼Œä¼šå…ˆè·å–è¯¥èµ„æºç¼“å­˜çš„headerä¿¡æ¯ï¼Œç„¶åæ ¹æ®headerä¸­çš„Cache-Controlå’ŒExpiresæ¥åˆ¤æ–­æ˜¯å¦è¿‡æœŸã€‚è‹¥æ²¡è¿‡æœŸåˆ™ç›´æ¥ä»ç¼“å­˜ä¸­è·å–èµ„æºä¿¡æ¯ï¼ŒåŒ…æ‹¬ç¼“å­˜çš„headerçš„ä¿¡æ¯ï¼Œæ‰€ä»¥æ­¤æ¬¡è¯·æ±‚ä¸ä¼šä¸æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ã€‚è¿™é‡Œåˆ¤æ–­æ˜¯å¦è¿‡æœŸï¼Œåˆ™æ˜¯å¼ºç¼“å­˜ç›¸å…³ã€‚åé¢ä¼šè®²Cache-Controlå’ŒExpiresç›¸å…³ã€‚ å¦‚æœæ˜¾ç¤ºå·²è¿‡æœŸï¼Œæµè§ˆå™¨ä¼šå‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚ä¼šæºå¸¦ç¬¬ä¸€æ¬¡è¯·æ±‚è¿”å›çš„æœ‰å…³ç¼“å­˜çš„headerå­—æ®µä¿¡æ¯ï¼Œæ¯”å¦‚å®¢æˆ·ç«¯ä¼šé€šè¿‡If-None-Matchå¤´å°†å…ˆå‰æœåŠ¡å™¨ç«¯å‘é€è¿‡æ¥çš„Etagå‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡ä¼šå¯¹æ¯”è¿™ä¸ªå®¢æˆ·ç«¯å‘è¿‡æ¥çš„Etagæ˜¯å¦ä¸æœåŠ¡å™¨çš„ç›¸åŒï¼Œè‹¥ç›¸åŒï¼Œå°±å°†If-None-Matchçš„å€¼è®¾ä¸ºfalseï¼Œè¿”å›çŠ¶æ€304ï¼Œå®¢æˆ·ç«¯ç»§ç»­ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œä¸è§£ææœåŠ¡å™¨ç«¯å‘å›æ¥çš„æ•°æ®ï¼Œè‹¥ä¸ç›¸åŒå°±å°†If-None-Matchçš„å€¼è®¾ä¸ºtrueï¼Œè¿”å›çŠ¶æ€ä¸º200ï¼Œå®¢æˆ·ç«¯é‡æ–°æœºæ¢°æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®ï¼›å®¢æˆ·ç«¯è¿˜ä¼šé€šè¿‡If-Modified-Sinceå¤´å°†å…ˆå‰æœåŠ¡å™¨ç«¯å‘è¿‡æ¥çš„æœ€åä¿®æ”¹æ—¶é—´æˆ³å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ç«¯é€šè¿‡è¿™ä¸ªæ—¶é—´æˆ³åˆ¤æ–­å®¢æˆ·ç«¯çš„é¡µé¢æ˜¯å¦æ˜¯æœ€æ–°çš„ï¼Œå¦‚æœä¸æ˜¯æœ€æ–°çš„ï¼Œåˆ™è¿”å›æœ€æ–°çš„å†…å®¹ï¼Œå¦‚æœæ˜¯æœ€æ–°çš„ï¼Œåˆ™è¿”å›304ï¼Œå®¢æˆ·ç«¯ç»§ç»­ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚ å¼ºç¼“å­˜å¼ºç¼“å­˜æ˜¯åˆ©ç”¨httpå¤´ä¸­çš„Expireså’ŒCache-Controlä¸¤ä¸ªå­—æ®µæ¥æ§åˆ¶çš„ï¼Œç”¨æ¥è¡¨ç¤ºèµ„æºçš„ç¼“å­˜æ—¶é—´ã€‚å¼ºç¼“å­˜ä¸­ï¼Œæ™®é€šåˆ·æ–°ä¼šå¿½ç•¥å®ƒï¼Œä½†ä¸ä¼šæ¸…é™¤å®ƒï¼Œéœ€è¦å¼ºåˆ¶åˆ·æ–°ã€‚æµè§ˆå™¨å¼ºåˆ¶åˆ·æ–°ï¼Œè¯·æ±‚ä¼šå¸¦ä¸ŠCache-Control:no-cacheå’ŒPragma:no-cache ExpiresExpiresæ˜¯http1.0çš„è§„èŒƒï¼Œå®ƒçš„å€¼æ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´çš„GMTæ ¼å¼çš„æ—¶é—´å­—ç¬¦ä¸²ã€‚å¦‚æˆ‘ç°åœ¨è¿™ä¸ªç½‘é¡µçš„Expireså€¼æ˜¯ï¼šexpires:Fri, 14 Apr 2017 10:47:02 GMTã€‚è¿™ä¸ªæ—¶é—´ä»£è¡¨è¿™è¿™ä¸ªèµ„æºçš„å¤±æ•ˆæ—¶é—´ï¼Œåªè¦å‘é€è¯·æ±‚æ—¶é—´æ˜¯åœ¨Expiresä¹‹å‰ï¼Œé‚£ä¹ˆæœ¬åœ°ç¼“å­˜å§‹ç»ˆæœ‰æ•ˆï¼Œåˆ™åœ¨ç¼“å­˜ä¸­è¯»å–æ•°æ®ã€‚æ‰€ä»¥è¿™ç§æ–¹å¼æœ‰ä¸€ä¸ªæ˜æ˜¾çš„ç¼ºç‚¹ï¼Œç”±äºå¤±æ•ˆçš„æ—¶é—´æ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œæ‰€ä»¥å½“æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯æ—¶é—´åå·®è¾ƒå¤§æ—¶ï¼Œå°±ä¼šå¯¼è‡´ç¼“å­˜æ··ä¹±ã€‚å¦‚æœåŒæ—¶å‡ºç°Cache-Control:max-ageå’ŒExpiresï¼Œé‚£ä¹ˆmax-ageä¼˜å…ˆçº§æ›´é«˜ã€‚å¦‚æˆ‘ä¸»é¡µçš„response headerséƒ¨åˆ†å¦‚ä¸‹ï¼š cache-control:max-age=691200expires:Fri, 14 Apr 2017 10:47:02 GMTé‚£ä¹ˆè¡¨ç¤ºèµ„æºå¯ä»¥è¢«ç¼“å­˜çš„æœ€é•¿æ—¶é—´ä¸º691200ç§’ï¼Œä¼šä¼˜å…ˆè€ƒè™‘max-ageã€‚ Cache-ControlCache-Controlæ˜¯åœ¨http1.1ä¸­å‡ºç°çš„ï¼Œä¸»è¦æ˜¯åˆ©ç”¨è¯¥å­—æ®µçš„max-ageå€¼æ¥è¿›è¡Œåˆ¤æ–­ï¼Œå®ƒæ˜¯ä¸€ä¸ªç›¸å¯¹æ—¶é—´ï¼Œä¾‹å¦‚Cache-Control:max-age=3600ï¼Œä»£è¡¨ç€èµ„æºçš„æœ‰æ•ˆæœŸæ˜¯3600ç§’ã€‚cache-controlé™¤äº†è¯¥å­—æ®µå¤–ï¼Œè¿˜æœ‰ä¸‹é¢å‡ ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„è®¾ç½®å€¼ï¼š no-cacheï¼šä¸ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚éœ€è¦ä½¿ç”¨ç¼“å­˜åå•†ï¼Œå…ˆä¸æœåŠ¡å™¨ç¡®è®¤è¿”å›çš„å“åº”æ˜¯å¦è¢«æ›´æ”¹ï¼Œå¦‚æœä¹‹å‰çš„å“åº”ä¸­å­˜åœ¨ETagï¼Œé‚£ä¹ˆè¯·æ±‚çš„æ—¶å€™ä¼šä¸æœåŠ¡ç«¯éªŒè¯ï¼Œå¦‚æœèµ„æºæœªè¢«æ›´æ”¹ï¼Œåˆ™å¯ä»¥é¿å…é‡æ–°ä¸‹è½½ã€‚ no-storeï¼šç›´æ¥ç¦æ­¢æ¸¸è§ˆå™¨ç¼“å­˜æ•°æ®ï¼Œæ¯æ¬¡ç”¨æˆ·è¯·æ±‚è¯¥èµ„æºï¼Œéƒ½ä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œæ¯æ¬¡éƒ½ä¼šä¸‹è½½å®Œæ•´çš„èµ„æºã€‚ publicï¼šå¯ä»¥è¢«æ‰€æœ‰çš„ç”¨æˆ·ç¼“å­˜ï¼ŒåŒ…æ‹¬ç»ˆç«¯ç”¨æˆ·å’ŒCDNç­‰ä¸­é—´ä»£ç†æœåŠ¡å™¨ã€‚ privateï¼šåªèƒ½è¢«ç»ˆç«¯ç”¨æˆ·çš„æµè§ˆå™¨ç¼“å­˜ï¼Œä¸å…è®¸CDNç­‰ä¸­ç»§ç¼“å­˜æœåŠ¡å™¨å¯¹å…¶ç¼“å­˜ã€‚Cache-Controlä¸Expireså¯ä»¥åœ¨æœåŠ¡ç«¯é…ç½®åŒæ—¶å¯ç”¨ï¼ŒåŒæ—¶å¯ç”¨çš„æ—¶å€™Cache-Controlä¼˜å…ˆçº§é«˜ã€‚ åå•†ç¼“å­˜åå•†ç¼“å­˜å°±æ˜¯ç”±æœåŠ¡å™¨æ¥ç¡®å®šç¼“å­˜èµ„æºæ˜¯å¦å¯ç”¨ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯è¦é€šè¿‡æŸç§æ ‡è¯†æ¥è¿›è¡Œé€šä¿¡ï¼Œä»è€Œè®©æœåŠ¡å™¨åˆ¤æ–­è¯·æ±‚èµ„æºæ˜¯å¦å¯ä»¥ç¼“å­˜è®¿é—®ã€‚ æ™®é€šåˆ·æ–°ä¼šå¯ç”¨å¼±ç¼“å­˜ï¼Œå¿½ç•¥å¼ºç¼“å­˜ã€‚åªæœ‰åœ¨åœ°å€æ æˆ–æ”¶è—å¤¹è¾“å…¥ç½‘å€ã€é€šè¿‡é“¾æ¥å¼•ç”¨èµ„æºç­‰æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨æ‰ä¼šå¯ç”¨å¼ºç¼“å­˜ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæœ‰æ—¶å€™æˆ‘ä»¬æ›´æ–°ä¸€å¼ å›¾ç‰‡ã€ä¸€ä¸ªjsæ–‡ä»¶ï¼Œé¡µé¢å†…å®¹ä¾ç„¶æ˜¯æ—§çš„ï¼Œä½†æ˜¯ç›´æ¥æµè§ˆå™¨è®¿é—®é‚£ä¸ªå›¾ç‰‡æˆ–æ–‡ä»¶ï¼Œçœ‹åˆ°çš„å†…å®¹å´æ˜¯æ–°çš„ã€‚ è¿™ä¸ªä¸»è¦æ¶‰åŠåˆ°ä¸¤ç»„headerå­—æ®µï¼šEtagå’ŒIf-None-Matchã€Last-Modifiedå’ŒIf-Modified-Sinceã€‚ä¸Šé¢ä»¥åŠè¯´å¾—å¾ˆæ¸…æ¥šè¿™ä¸¤ç»„æ€ä¹ˆä½¿ç”¨å•¦~å¤ä¹ ä¸€ä¸‹ï¼š Etagå’ŒIf-None-MatchEtag/If-None-Matchè¿”å›çš„æ˜¯ä¸€ä¸ªæ ¡éªŒç ã€‚ETagå¯ä»¥ä¿è¯æ¯ä¸€ä¸ªèµ„æºæ˜¯å”¯ä¸€çš„ï¼Œèµ„æºå˜åŒ–éƒ½ä¼šå¯¼è‡´ETagå˜åŒ–ã€‚æœåŠ¡å™¨æ ¹æ®æµè§ˆå™¨ä¸Šé€çš„If-None-Matchå€¼æ¥åˆ¤æ–­æ˜¯å¦å‘½ä¸­ç¼“å­˜ã€‚ ä¸Last-Modifiedä¸ä¸€æ ·çš„æ˜¯ï¼Œå½“æœåŠ¡å™¨è¿”å›304 Not Modifiedçš„å“åº”æ—¶ï¼Œç”±äºETagé‡æ–°ç”Ÿæˆè¿‡ï¼Œresponse headerä¸­è¿˜ä¼šæŠŠè¿™ä¸ªETagè¿”å›ï¼Œå³ä½¿è¿™ä¸ªETagè·Ÿä¹‹å‰çš„æ²¡æœ‰å˜åŒ–ã€‚ Last-Modify/If-Modify-Sinceæµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚ä¸€ä¸ªèµ„æºçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨è¿”å›çš„headerä¸­ä¼šåŠ ä¸ŠLast-Modifyï¼ŒLast-modifyæ˜¯ä¸€ä¸ªæ—¶é—´æ ‡è¯†è¯¥èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œä¾‹å¦‚Last-Modify: Thu,31 Dec 2037 23:59:59 GMTã€‚ å½“æµè§ˆå™¨å†æ¬¡è¯·æ±‚è¯¥èµ„æºæ—¶ï¼Œrequestçš„è¯·æ±‚å¤´ä¸­ä¼šåŒ…å«If-Modify-Sinceï¼Œè¯¥å€¼ä¸ºç¼“å­˜ä¹‹å‰è¿”å›çš„Last-Modifyã€‚æœåŠ¡å™¨æ”¶åˆ°If-Modify-Sinceåï¼Œæ ¹æ®èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´åˆ¤æ–­æ˜¯å¦å‘½ä¸­ç¼“å­˜ã€‚ å¦‚æœå‘½ä¸­ç¼“å­˜ï¼Œåˆ™è¿”å›304ï¼Œå¹¶ä¸”ä¸ä¼šè¿”å›èµ„æºå†…å®¹ï¼Œå¹¶ä¸”ä¸ä¼šè¿”å›Last-Modifyã€‚ ä¸ºä»€ä¹ˆè¦æœ‰Etagä½ å¯èƒ½ä¼šè§‰å¾—ä½¿ç”¨Last-Modifiedå·²ç»è¶³ä»¥è®©æµè§ˆå™¨çŸ¥é“æœ¬åœ°çš„ç¼“å­˜å‰¯æœ¬æ˜¯å¦è¶³å¤Ÿæ–°ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦Etagå‘¢ï¼ŸHTTP1.1ä¸­Etagçš„å‡ºç°ä¸»è¦æ˜¯ä¸ºäº†è§£å†³å‡ ä¸ªLast-Modifiedæ¯”è¾ƒéš¾è§£å†³çš„é—®é¢˜ï¼š ä¸€äº›æ–‡ä»¶ä¹Ÿè®¸ä¼šå‘¨æœŸæ€§çš„æ›´æ”¹ï¼Œä½†æ˜¯ä»–çš„å†…å®¹å¹¶ä¸æ”¹å˜(ä»…ä»…æ”¹å˜çš„ä¿®æ”¹æ—¶é—´)ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¹¶ä¸å¸Œæœ›å®¢æˆ·ç«¯è®¤ä¸ºè¿™ä¸ªæ–‡ä»¶è¢«ä¿®æ”¹äº†ï¼Œè€Œé‡æ–°GETï¼› æŸäº›æ–‡ä»¶ä¿®æ”¹éå¸¸é¢‘ç¹ï¼Œæ¯”å¦‚åœ¨ç§’ä»¥ä¸‹çš„æ—¶é—´å†…è¿›è¡Œä¿®æ”¹ï¼Œ(æ¯”æ–¹è¯´1så†…ä¿®æ”¹äº†Næ¬¡)ï¼ŒIf-Modified-Sinceèƒ½æ£€æŸ¥åˆ°çš„ç²’åº¦æ˜¯sçº§çš„ï¼Œè¿™ç§ä¿®æ”¹æ— æ³•åˆ¤æ–­(æˆ–è€…è¯´UNIXè®°å½•MTIMEåªèƒ½ç²¾ç¡®åˆ°ç§’)ï¼› æŸäº›æœåŠ¡å™¨ä¸èƒ½ç²¾ç¡®çš„å¾—åˆ°æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ã€‚ Last-Modifiedä¸ETagæ˜¯å¯ä»¥ä¸€èµ·ä½¿ç”¨çš„ï¼ŒæœåŠ¡å™¨ä¼šä¼˜å…ˆéªŒè¯ETagï¼Œä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šç»§ç»­æ¯”å¯¹Last-Modifiedï¼Œæœ€åæ‰å†³å®šæ˜¯å¦è¿”å›304ã€‚ HTTPåŸºäºç¼“å­˜ç­–ç•¥ä¸‰è¦ç´ åˆ†è§£æ³•ä¸¤é“é¢˜ä»¥ä¸‹ä¸º page.html å†…å®¹ï¼š12345&lt;!DOCTYPE html&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;&lt;title&gt;pageé¡µ&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;img src=&quot;images/head.png&quot; /&gt;&lt;a href=&quot;page.html&quot;&gt;é‡æ–°è®¿é—®pageé¡µ&lt;/a&gt;&lt;/body&gt;&lt;/html&gt; é¦–æ¬¡è®¿é—®è¯¥é¡µé¢ï¼Œé¡µé¢ä¸­ head.png å“åº”å¤´ä¿¡æ¯å¦‚ä¸‹ï¼š1234567HTTP/1.1 200 OKCache-Control: no-cacheContent-Type: image/pngLast-Modified: Tue, 08 Nov 2016 06:59:00 GMTAccept-Ranges: bytesDate: Thu, 10 Nov 2016 02:48:50 GMTContent-Length: 3534 é—®é¢˜1ï¼šè¯·é—®å½“ç‚¹å‡»â€œé‡æ–°è®¿é—® page é¡µâ€é“¾æ¥é‡æ–°åŠ è½½è¯¥é¡µé¢åï¼Œ head.png å¦‚ä½•äºŒæ¬¡åŠ è½½ï¼Ÿé—®é¢˜2ï¼šå¦‚æœå°†ä¸Šè¿°ä¿¡æ¯ä¸­çš„ Cache-Control è®¾ç½®ä¸º privateï¼Œé‚£ä¹ˆç»“æœåˆä¼šå¦‚ä½•å‘¢ï¼Ÿ HTTPç¼“å­˜ä½“ç³»é¦–å…ˆæˆ‘å°† Http ç¼“å­˜ä½“ç³»åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼š ç¼“å­˜å­˜å‚¨ç­–ç•¥ ç”¨æ¥ç¡®å®š Httpå“åº”å†…å®¹æ˜¯å¦å¯ä»¥è¢«å®¢æˆ·ç«¯ç¼“å­˜ï¼Œä»¥åŠå¯ä»¥è¢«å“ªäº›å®¢æˆ·ç«¯ç¼“å­˜è¿™ä¸ªç­–ç•¥çš„ä½œç”¨åªæœ‰ä¸€ä¸ªï¼Œç”¨äºå†³å®š Http å“åº”å†…å®¹æ˜¯å¦å¯ç¼“å­˜åˆ°å®¢æˆ·ç«¯ å¯¹äº Cache-Control å¤´é‡Œçš„ Publicã€Privateã€no-cacheã€max-age ã€no-store ä»–ä»¬éƒ½æ˜¯ç”¨æ¥æŒ‡æ˜å“åº”å†…å®¹æ˜¯å¦å¯ä»¥è¢«å®¢æˆ·ç«¯å­˜å‚¨çš„ï¼Œå…¶ä¸­å‰4ä¸ªéƒ½ä¼šç¼“å­˜æ–‡ä»¶æ•°æ®ï¼ˆå…³äº no-cache åº”ç†è§£ä¸ºâ€œä¸å»ºè®®ä½¿ç”¨æœ¬åœ°ç¼“å­˜â€ï¼Œå…¶ä»ç„¶ä¼šç¼“å­˜æ•°æ®åˆ°æœ¬åœ°ï¼‰ï¼Œåè€… no-store åˆ™ä¸ä¼šåœ¨å®¢æˆ·ç«¯ç¼“å­˜ä»»ä½•å“åº”æ•°æ®ã€‚å¦å…³äº no-cache å’Œ max-age æœ‰ç‚¹ç‰¹åˆ«ï¼Œæˆ‘è®¤ä¸ºå®ƒæ˜¯ä¸€ç§æ··åˆä½“ï¼Œä¸‹é¢æˆ‘ä¼šè®²åˆ°ã€‚ é€šè¿‡ Cache-Controlï¼šPublic è®¾ç½®æˆ‘ä»¬å¯ä»¥å°† Http å“åº”æ•°æ®å­˜å‚¨åˆ°æœ¬åœ°ï¼Œä½†æ­¤æ—¶å¹¶ä¸æ„å‘³ç€åç»­æµè§ˆå™¨ä¼šç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–æ•°æ®å¹¶ä½¿ç”¨ï¼Œä¸ºå•¥ï¼Ÿå› ä¸ºå®ƒæ— æ³•ç¡®å®šæœ¬åœ°ç¼“å­˜çš„æ•°æ®æ˜¯å¦å¯ç”¨ï¼ˆå¯èƒ½å·²ç»å¤±æ•ˆï¼‰ï¼Œè¿˜å¿…é¡»å€ŸåŠ©ä¸€å¥—é‰´åˆ«æœºåˆ¶æ¥ç¡®è®¤æ‰è¡Œï¼Œ è¿™å°±æ˜¯æˆ‘ä»¬ä¸‹é¢è¦è®²åˆ°çš„â€œç¼“å­˜è¿‡æœŸç­–ç•¥â€ã€‚ ç¼“å­˜è¿‡æœŸç­–ç•¥ å®¢æˆ·ç«¯ç”¨æ¥ç¡®è®¤å­˜å‚¨åœ¨æœ¬åœ°çš„ç¼“å­˜æ•°æ®æ˜¯å¦å·²è¿‡æœŸï¼Œè¿›è€Œå†³å®šæ˜¯å¦è¦å‘è¯·æ±‚åˆ°æœåŠ¡ç«¯è·å–æ•°æ®åˆšä¸Šé¢æˆ‘ä»¬å·²ç»é˜è¿°äº†æ•°æ®ç¼“å­˜åˆ°äº†æœ¬åœ°åè¿˜éœ€è¦ç»è¿‡åˆ¤æ–­æ‰èƒ½ä½¿ç”¨ï¼Œé‚£ä¹ˆæµè§ˆå™¨é€šè¿‡ä»€ä¹ˆæ¡ä»¶æ¥åˆ¤æ–­å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ï¼šExpiresï¼ŒExpires æŒ‡åäº†ç¼“å­˜æ•°æ®æœ‰æ•ˆçš„ç»å¯¹æ—¶é—´ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯åˆ°äº†è¿™ä¸ªæ—¶é—´ç‚¹ï¼ˆæ¯”ç…§å®¢æˆ·ç«¯æ—¶é—´ç‚¹ï¼‰åæœ¬åœ°ç¼“å­˜å°±ä½œåºŸäº†ï¼Œåœ¨è¿™ä¸ªæ—¶é—´ç‚¹å†…å®¢æˆ·ç«¯å¯ä»¥è®¤ä¸ºç¼“å­˜æ•°æ®æœ‰æ•ˆï¼Œå¯ç›´æ¥ä»ç¼“å­˜ä¸­åŠ è½½å±•ç¤ºã€‚ ä¸è¿‡ Http ç¼“å­˜å¤´è®¾è®¡å¹¶æ²¡æœ‰æƒ³è±¡çš„é‚£ä¹ˆè§„çŸ©ï¼Œåƒä¸Šé¢æåˆ°çš„ Cache-Controlï¼ˆè¿™ä¸ªå¤´æ˜¯åœ¨Http1.1é‡ŒåŠ è¿›æ¥çš„ï¼‰å¤´é‡Œçš„ no-cache å’Œ max-age å°±æ˜¯ç‰¹ä¾‹ï¼Œå®ƒä»¬æ—¢åŒ…å«ç¼“å­˜å­˜å‚¨ç­–ç•¥ä¹ŸåŒ…å«ç¼“å­˜è¿‡æœŸç­–ç•¥ï¼Œä»¥ max-age ä¸ºä¾‹ï¼Œä»–å®é™…ä¸Šç›¸å½“äºï¼š Cache-Controlï¼špublic/privateï¼ˆè¿™é‡Œä¸å¤ªç¡®å®šå…·ä½“å“ªä¸ªï¼‰Expiresï¼šå½“å‰å®¢æˆ·ç«¯æ—¶é—´ + maxAge ã€‚è€Œ Cache-Controlï¼šno-cache å’Œ Cache-Controlï¼šmax-age=0 ï¼ˆå•ä½æ˜¯ç§’ï¼‰ç›¸å½“ è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼š Cache-Control ä¸­æŒ‡å®šçš„ç¼“å­˜è¿‡æœŸç­–ç•¥ä¼˜å…ˆçº§é«˜äºExpiresï¼Œå½“å®ƒä»¬åŒæ—¶å­˜åœ¨çš„æ—¶å€™ï¼Œåè€…ä¼šè¢«è¦†ç›–æ‰ã€‚ ç¼“å­˜æ•°æ®æ ‡è®°ä¸ºå·²è¿‡æœŸåªæ˜¯å‘Šè¯‰å®¢æˆ·ç«¯ä¸èƒ½å†ç›´æ¥ä»æœ¬åœ°è¯»å–ç¼“å­˜äº†ï¼Œéœ€è¦å†å‘ä¸€æ¬¡è¯·æ±‚åˆ°æœåŠ¡å™¨å»ç¡®è®¤ï¼Œå¹¶ä¸ç­‰åŒäºæœ¬åœ°ç¼“å­˜æ•°æ®ä»æ­¤å°±æ²¡ç”¨äº†ï¼Œæœ‰äº›æƒ…å†µä¸‹å³ä½¿è¿‡æœŸäº†è¿˜æ˜¯ä¼šè¢«å†æ¬¡ç”¨åˆ°ï¼Œå…·ä½“ä¸‹é¢ä¼šè®²åˆ°ã€‚ ç¼“å­˜å¯¹æ¯”ç­–ç•¥å°†ç¼“å­˜åœ¨å®¢æˆ·ç«¯çš„æ•°æ®æ ‡è¯†å‘å¾€æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯é€šè¿‡æ ‡è¯†æ¥åˆ¤æ–­å®¢æˆ·ç«¯ ç¼“å­˜æ•°æ®æ˜¯å¦ä»æœ‰æ•ˆï¼Œè¿›è€Œå†³å®šæ˜¯å¦è¦é‡å‘æ•°æ®ã€‚ å®¢æˆ·ç«¯æ£€æµ‹åˆ°æ•°æ®è¿‡æœŸæˆ–æµè§ˆå™¨åˆ·æ–°åï¼Œå¾€å¾€ä¼šé‡æ–°å‘èµ·ä¸€ä¸ª http è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ­¤æ—¶å¹¶ä¸æ€¥äºè¿”å›æ•°æ®ï¼Œè€Œæ˜¯çœ‹è¯·æ±‚å¤´æœ‰æ²¡æœ‰å¸¦æ ‡è¯†ï¼ˆ If-Modified-Sinceã€If-None-Matchï¼‰è¿‡æ¥ï¼Œå¦‚æœåˆ¤æ–­æ ‡è¯†ä»ç„¶æœ‰æ•ˆï¼Œåˆ™è¿”å›304å‘Šè¯‰å®¢æˆ·ç«¯å–æœ¬åœ°ç¼“å­˜æ•°æ®æ¥ç”¨å³å¯ï¼ˆè¿™é‡Œè¦æ³¨æ„çš„æ˜¯ä½ å¿…é¡»è¦åœ¨é¦–æ¬¡å“åº”æ—¶è¾“å‡ºç›¸åº”çš„å¤´ä¿¡æ¯ï¼ˆLast-Modifiedã€ETagsï¼‰åˆ°å®¢æˆ·ç«¯ï¼‰ã€‚è‡³æ­¤æˆ‘ä»¬å°±æ˜ç™½äº†ä¸Šé¢æ‰€è¯´çš„æœ¬åœ°ç¼“å­˜æ•°æ®å³ä½¿è¢«è®¤ä¸ºè¿‡æœŸï¼Œå¹¶ä¸ç­‰äºæ•°æ®ä»æ­¤å°±æ²¡ç”¨äº†çš„é“ç†äº†ã€‚ å…³äº Last-Modifiedï¼Œè¿™ä¸ªå“åº”å¤´ä½¿ç”¨è¦æ³¨æ„ï¼Œå¯èƒ½ä¼šå½±å“åˆ°ç¼“å­˜è¿‡æœŸç­–ç•¥ï¼Œå…·ä½“åŸå› ï¼Œåé¢æˆ‘ä¼šé€šè¿‡è§£ç­”å¼€ç¯‡æåˆ°çš„2é“é¢˜æ¥ä½œè¯´æ˜ã€‚ ä»¥ä¸Šå°±æ˜¯æˆ‘æ‰€è®¤è¯†çš„ç¼“å­˜ç­–ç•¥ï¼Œä¸‹é¢æˆ‘å°†ç¼“å­˜ç­–ç•¥ä¸‰è¦ç´ å’Œå¸¸ç”¨çš„å‡ ä¸ªç¼“å­˜å¤´ï¼ˆé¡¹ï¼‰ç»“åˆä¸€èµ·ï¼Œè®©å¤§å®¶æ›´æ¸…æ™°çš„è®¤è¯†åˆ°å®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼šé€šè¿‡ä¸Šå›¾æˆ‘å¯ä»¥æ¸…æ™°çš„çœ‹åˆ°å„ç¼“å­˜é¡¹åˆ†åˆ«å±äºå“ªä¸ªç¼“å­˜ç­–ç•¥èŒƒç•´ï¼Œè¿™å…¶ä¸­æœ‰éƒ¨åˆ†é‡å ï¼Œå®ƒè¡¨æ˜è¿™äº›ç¼“å­˜é¡¹å…·æœ‰å¤šé‡ç¼“å­˜ç­–ç•¥ï¼Œæ‰€ä»¥å®é™…åœ¨åˆ†æç¼“å­˜å¤´çš„æ—¶å€™ï¼Œé™¤äº†å¸¸è§„çš„å¤´å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†è¿™äº›å…·æœ‰åŒé‡ç¼“å­˜ç­–ç•¥çš„é¡¹åˆ†è§£å¼€æ¥ã€‚ æœ€åæˆ‘ä»¬å›åˆ°æœ€å¼€å§‹æåˆ°çš„2é“é¢˜ç›®ï¼Œæˆ‘ä»¬æ¥ä¸€èµ·åˆ†è§£ä¸‹ï¼š ç¬¬ä¸€é“é¢˜ï¼š1234567HTTP/1.1 200 OKCache-Control: no-cacheContent-Type: image/pngLast-Modified: Tue, 08 Nov 2016 06:59:00 GMTAccept-Ranges: bytesDate: Thu, 10 Nov 2016 02:48:50 GMTContent-Length: 3534 åˆ†æä¸Šè¿° Http å“åº”å¤´å‘ç°æœ‰ä»¥ä¸‹ä¸¤é¡¹ä¸ç¼“å­˜ç›¸å…³ï¼š12Cache-Control: no-cache Last-Modified: Tue, 08 Nov 2016 06:59:00 GMT æˆ‘ä»¬ä¸Šé¢è®²åˆ°äº† Cache-Control: no-cache ç›¸å½“äº Cache-Control: max-age=0ï¼Œä¸”ä»–ä»¬éƒ½æ˜¯å¤šé‡ç­–ç•¥å¤´ï¼Œæˆ‘ä»¬éœ€å°†å…¶åˆ†è§£ï¼š Cache-Control: no-cache ç­‰äº Cache-Control: max-age=0ï¼Œæ¥ç€ Cache-Control: max-age=0 åˆå¯åˆ†è§£æˆï¼š Cache-Control: public/private ï¼ˆä¸ç¡®å®šæ˜¯äºŒè€…ä¸­çš„å“ªä¸€ä¸ªï¼‰Expires: å½“å‰æ—¶é—´æœ€ç»ˆæˆ‘ä»¬å¾—åˆ°äº†ä»¥ä¸‹å®Œæ•´çš„ç¼“å­˜ç­–ç•¥ä¸‰è¦ç´ ï¼šæ‰€ä»¥æœ€ç»ˆç»“æœæ˜¯ï¼šæµè§ˆå™¨ä¼šå†æ¬¡è¯·æ±‚æœåŠ¡ç«¯ï¼Œå¹¶æºå¸¦ä¸Š Last-Modified æŒ‡å®šçš„æ—¶é—´å»æœåŠ¡å™¨å¯¹æ¯”ï¼š aï¼‰å¯¹æ¯”å¤±è´¥ï¼šæœåŠ¡å™¨è¿”å›200å¹¶é‡å‘æ•°æ®ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°æ•°æ®åå±•ç¤ºï¼Œå¹¶åˆ·æ–°æœ¬åœ°ç¼“å­˜ã€‚ bï¼‰å¯¹æ¯”æˆåŠŸï¼šæœåŠ¡å™¨è¿”å›304ä¸”ä¸é‡å‘æ•°æ®ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°304çŠ¶æ€ç åä»æœ¬åœ°è¯»å–ç¼“å­˜æ•°æ®ã€‚ä»¥ä¸‹ä¸ºæ¨¡æ‹Ÿæ­¤ç§æƒ…å†µä¸‹è¯·æ±‚åçš„æŠ“åŒ…æƒ…å†µï¼šè¿™é“é¢˜æœ¬èº«ä¸éš¾ï¼Œä½†è‹¥è®¤ä¸º no-cache ä¸ä¼šç¼“å­˜æ•°æ®åˆ°æœ¬åœ°ï¼Œé‚£ä¹ˆä½ ç†è§£èµ·æ¥å°±ä¼šå¾ˆçŸ›ç›¾ï¼Œå› ä¸ºå¦‚æœæ–‡ä»¶æ•°æ®æ²¡æœ‰è¢«æœ¬åœ°ç¼“å­˜ï¼ŒæœåŠ¡å™¨è¿”å›304åå°†ä¼šæ— æ³•å±•ç¤ºå‡ºå›¾ç‰‡å†…å®¹ï¼Œä½†å®é™…ä¸Šå®ƒæ˜¯èƒ½æ­£å¸¸å±•ç¤ºçš„ã€‚è¿™é“é¢˜å¾ˆå¥½çš„è¯æ˜äº† no-cache ä¹Ÿä¼šç¼“å­˜æ•°æ®åˆ°æœ¬åœ°è¿™ä¸€è¯´æ³•ã€‚ç¬¬äºŒé“é¢˜ï¼š1234567HTTP/1.1 200 OKCache-Control: privateContent-Type: image/pngLast-Modified: Tue, 08 Nov 2016 06:59:00 GMTAccept-Ranges: bytesDate: Thu, 10 Nov 2016 02:48:50 GMTContent-Length: 3534 è§£é¢˜æ€è·¯å’Œä¸Šé¢˜ä¸€æ ·ï¼Œé¦–å…ˆå…ˆæ‰¾åˆ°ç¼“å­˜ç›¸å…³é¡¹ï¼š123Cache-Control: private Last-Modified: Tue, 08 Nov 2016 06:59:00 GMTè¿™æ—¶æˆ‘ä»¬ä¼šå‘ç°æ ¹æœ¬æ‰¾ä¸åˆ°ç¼“å­˜è¿‡æœŸç­–ç•¥é¡¹ï¼Œé‚£ç­”æ¡ˆä¼šä¸ä¼šå’Œä¸Šé¢ä¸€æ ·ï¼Ÿ ä¸€æ—¶åŠä¼šä¹Ÿåˆ†æä¸å‡ºç­”æ¡ˆï¼Œé‚£åªèƒ½å®é™…æµ‹è¯•ä¸‹äº†ï¼š å†çœ‹çœ‹ Chrome æµè§ˆå™¨ä¸‹æŠ“åŒ…ï¼šå¯ä»¥çœ‹åˆ°ï¼Œæµè§ˆå™¨åç»­è¯·æ±‚éƒ½ç›´æ¥å–çš„æœ¬åœ°ç¼“å­˜ï¼Œçœ‹æ¥çš„ç¡®å­˜åœ¨æŸç§ç¼“å­˜è¿‡æœŸç­–ç•¥ï¼ˆæ ¹æ®æˆ‘ä¸Šé¢çš„ç¼“å­˜è¿‡æœŸç­–ç•¥ç†è®ºï¼Œæµè§ˆå™¨å¦‚æœç›´æ¥ä»æœ¬åœ°åŠ è½½ç¼“å­˜æ•°æ®ï¼Œè¯´æ˜å®ƒç›¸ä¿¡æœ¬åœ°ç¼“å­˜æ•°æ®æœ‰æ•ˆï¼Œé‚£ä¸€å®šå­˜åœ¨æŸç§ç¼“å­˜è¿‡æœŸåˆ¤æ–­æ¡ä»¶ï¼‰ã€‚è¿™ä¸ªé—®é¢˜ç™¾æ€ä¸å¾—å…¶è§£ï¼Œå›°æ‰°äº†æˆ‘å¥½ä¹…ï¼Œç›´åˆ°ä¸€æ¬¡å¶ç„¶çš„æœºä¼šæˆ‘åœ¨ Fiddler å“åº”ä¿¡æ¯é¢æ¿é‡Œçš„ Caching é€‰é¡¹å¡ä¸­æ‰¾åˆ°äº†ç­”æ¡ˆï¼šåŸæ¥ï¼Œåœ¨æ²¡æœ‰æä¾›ä»»ä½•æµè§ˆå™¨ç¼“å­˜è¿‡æœŸç­–ç•¥çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨éµå¾ªä¸€ä¸ªå¯å‘å¼ç¼“å­˜è¿‡æœŸç­–ç•¥ï¼š æ ¹æ®å“åº”å¤´ä¸­2ä¸ªæ—¶é—´å­—æ®µ Date å’Œ Last-Modified ä¹‹é—´çš„æ—¶é—´å·®å€¼ï¼Œå–å…¶å€¼çš„10%ä½œä¸ºç¼“å­˜æ—¶é—´å‘¨æœŸã€‚ è´´ä¸€ä¸‹Cachingé¢æ¿é‡Œçš„æè¿°ï¼Œè‹±è¯­å¥½çš„åŒå­¦å¯ä»¥ç²¾å‡†ç¿»è¯‘ä¸‹ï¼šæœ€ç»ˆæˆ‘ä»¬å¾—åˆ°äº†ä»¥ä¸‹å®Œæ•´çš„ç¼“å­˜ç­–ç•¥ä¸‰è¦ç´ ï¼šæœ€ç»ˆç»“æœæµè§ˆå™¨ä¼šæ ¹æ® Date å’Œ Last-Modified ä¹‹é—´çš„æ—¶é—´å·®å€¼ç¼“å­˜ä¸€æ®µæ—¶é—´ï¼Œè¿™æ®µæ—¶é—´å†…ä¼šç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜æ•°æ®è€Œä¸ä¼šå†å»è¯·æ±‚æœåŠ¡å™¨ï¼ˆå¼ºåˆ¶è¯·æ±‚é™¤å¤–ï¼‰ï¼Œç¼“å­˜è¿‡æœŸåï¼Œä¼šå†æ¬¡è¯·æ±‚æœåŠ¡ç«¯ï¼Œå¹¶æºå¸¦ä¸Š Last-Modified æŒ‡å®šçš„æ—¶é—´å»æœåŠ¡å™¨å¯¹æ¯”å¹¶æ ¹æ®æœåŠ¡ç«¯çš„å“åº”çŠ¶æ€å†³å®šæ˜¯å¦è¦ä»æœ¬åœ°åŠ è½½ç¼“å­˜æ•°æ®ã€‚ æ€»ç»“Http ç¼“å­˜è®¾ç½®èµ·æ¥å¹¶ä¸å¤æ‚ï¼Œä½†å´å®¹æ˜“è¢«è½»è§†ï¼Œ ä»Šå¤©è¿™ç¯‡æ–‡ç« ç»“åˆ2é“é¢˜ç›®ï¼Œé€šè¿‡åˆ†æã€è§£å‰–ç›¸å…³ç¼“å­˜å¤´ï¼Œä»ç³»ç»ŸåŒ–è§’åº¦å¯¹ Http ç¼“å­˜æœºåˆ¶åšäº†ä¸€ä¸ªè¾ƒå®Œæ•´çš„å‰–æï¼šHttp ç¼“å­˜æœºåˆ¶å®é™…ä¸Šæ˜¯ Http ç¼“å­˜ç­–ç•¥ä¸‰ä¸ªè¦ç´ ï¼ˆçº¬åº¦ï¼‰ç›¸äº’ä½œç”¨çš„é›†åˆï¼Œæ‰€ä»¥åœ¨åˆ†æå’Œè®¾ç½® Http æŠ¥æ–‡ç¼“å­˜å¤´æ—¶ï¼Œåªè¦èƒ½ä»ä¸­ç²¾å‡†çš„åˆ†è§£å‡ºç¼“å­˜ä¸‰è¦ç´ ï¼Œæˆ‘ä»¬å°±èƒ½éå¸¸å‡†ç¡®çš„é¢„åˆ¤åˆ°ç¼“å­˜è®¾ç½®æœ€ç»ˆèƒ½è¾¾åˆ°çš„æ•ˆæœã€‚ æµè§ˆå™¨ç¼“å­˜è¯¦è§£:expires,cache-control,last-modified,etagè¯¦ç»†è¯´æ˜ Last-Modifiedåœ¨æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚æŸä¸€ä¸ªURLæ—¶ï¼ŒæœåŠ¡å™¨ç«¯çš„è¿”å›çŠ¶æ€ä¼šæ˜¯200ï¼Œå†…å®¹æ˜¯ä½ è¯·æ±‚çš„èµ„æºï¼ŒåŒæ—¶æœ‰ä¸€ä¸ªLast-Modifiedçš„å±æ€§æ ‡è®°(HttpReponse Header)æ­¤æ–‡ä»¶åœ¨æœåŠ¡æœŸç«¯æœ€åè¢«ä¿®æ”¹çš„æ—¶é—´ï¼Œæ ¼å¼ç±»ä¼¼è¿™æ ·ï¼š Last-Modified:Tue, 24 Feb 2009 08:01:04 GMT å®¢æˆ·ç«¯ç¬¬äºŒæ¬¡è¯·æ±‚æ­¤URLæ—¶ï¼Œæ ¹æ®HTTPåè®®çš„è§„å®šï¼Œæµè§ˆå™¨ä¼šå‘æœåŠ¡å™¨ä¼ é€If-Modified-SinceæŠ¥å¤´(HttpRequest Header)ï¼Œè¯¢é—®è¯¥æ—¶é—´ä¹‹åæ–‡ä»¶æ˜¯å¦æœ‰è¢«ä¿®æ”¹è¿‡ï¼š If-Modified-Since:Tue, 24 Feb 2009 08:01:04 GMT å¦‚æœæœåŠ¡å™¨ç«¯çš„èµ„æºæ²¡æœ‰å˜åŒ–ï¼Œåˆ™è‡ªåŠ¨è¿”å›HTTP304ï¼ˆNotChanged.ï¼‰çŠ¶æ€ç ï¼Œå†…å®¹ä¸ºç©ºï¼Œè¿™æ ·å°±èŠ‚çœäº†ä¼ è¾“æ•°æ®é‡ã€‚å½“æœåŠ¡å™¨ç«¯ä»£ç å‘ç”Ÿæ”¹å˜æˆ–è€…é‡å¯æœåŠ¡å™¨æ—¶ï¼Œåˆ™é‡æ–°å‘å‡ºèµ„æºï¼Œè¿”å›å’Œç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ç±»ä¼¼ã€‚ä»è€Œä¿è¯ä¸å‘å®¢æˆ·ç«¯é‡å¤å‘å‡ºèµ„æºï¼Œä¹Ÿä¿è¯å½“æœåŠ¡å™¨æœ‰å˜åŒ–æ—¶ï¼Œå®¢æˆ·ç«¯èƒ½å¤Ÿå¾—åˆ°æœ€æ–°çš„èµ„æºã€‚ æ³¨ï¼šå¦‚æœIf-Modified-Sinceçš„æ—¶é—´æ¯”æœåŠ¡å™¨å½“å‰æ—¶é—´(å½“å‰çš„è¯·æ±‚æ—¶é—´request_time)è¿˜æ™šï¼Œä¼šè®¤ä¸ºæ˜¯ä¸ªéæ³•è¯·æ±‚ Etagå·¥ä½œåŸç†HTTPåè®®è§„æ ¼è¯´æ˜å®šä¹‰ETagä¸ºâ€œè¢«è¯·æ±‚å˜é‡çš„å®ä½“æ ‡è®°â€ï¼ˆå‚è§14.19ï¼‰ã€‚ç®€å•ç‚¹å³æœåŠ¡å™¨å“åº”æ—¶ç»™è¯·æ±‚URLæ ‡è®°ï¼Œå¹¶åœ¨HTTPå“åº”å¤´ä¸­å°†å…¶ä¼ é€åˆ°å®¢æˆ·ç«¯ï¼Œç±»ä¼¼æœåŠ¡å™¨ç«¯è¿”å›çš„æ ¼å¼ï¼š Etag:â€œ5d8c72a5edda8d6a:3239â€³ å®¢æˆ·ç«¯çš„æŸ¥è¯¢æ›´æ–°æ ¼å¼æ˜¯è¿™æ ·çš„ï¼š If-None-Match:â€œ5d8c72a5edda8d6a:3239â€³ å¦‚æœETagæ²¡æ”¹å˜ï¼Œåˆ™è¿”å›çŠ¶æ€304ã€‚ å³:åœ¨å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚åï¼ŒHttpReponse Headerä¸­åŒ…å«Etag:â€œ5d8c72a5edda8d6a:3239â€³ æ ‡è¯†ï¼Œç­‰äºå‘Šè¯‰Clientç«¯ï¼Œä½ æ‹¿åˆ°çš„è¿™ä¸ªçš„èµ„æºæœ‰è¡¨ç¤ºIDï¼š5d8c72a5edda8d6a:3239ã€‚å½“ä¸‹æ¬¡éœ€è¦å‘Requestç´¢è¦åŒä¸€ä¸ªURIçš„æ—¶å€™ï¼Œæµè§ˆå™¨åŒæ—¶å‘å‡ºä¸€ä¸ªIf-None-MatchæŠ¥å¤´(Http RequestHeader)æ­¤æ—¶åŒ…å¤´ä¸­ä¿¡æ¯åŒ…å«ä¸Šæ¬¡è®¿é—®å¾—åˆ°çš„Etag:â€œ5d8c72a5edda8d6a:3239â€³æ ‡è¯†ã€‚ If-None-Match:â€œ5d8c72a5edda8d6a:3239â€œ ,è¿™æ ·ï¼ŒClientç«¯ç­‰äºCacheäº†ä¸¤ä»½ï¼ŒæœåŠ¡å™¨ç«¯å°±ä¼šæ¯”å¯¹2è€…çš„etagã€‚å¦‚æœIf-None-Matchä¸ºFalseï¼Œä¸è¿”å›200ï¼Œè¿”å›304(Not Modified) Responseã€‚ Expiresç»™å‡ºçš„æ—¥æœŸ/æ—¶é—´åï¼Œè¢«å“åº”è®¤ä¸ºæ˜¯è¿‡æ—¶ã€‚å¦‚Expires:Thu, 02 Apr 2009 05:14:08 GMT éœ€å’ŒLast-Modifiedç»“åˆä½¿ç”¨ã€‚ç”¨äºæ§åˆ¶è¯·æ±‚æ–‡ä»¶çš„æœ‰æ•ˆæ—¶é—´ï¼Œå½“è¯·æ±‚æ•°æ®åœ¨æœ‰æ•ˆæœŸå†…æ—¶å®¢æˆ·ç«¯æµè§ˆå™¨ä»ç¼“å­˜è¯·æ±‚æ•°æ®è€Œä¸æ˜¯æœåŠ¡å™¨ç«¯.å½“ç¼“å­˜ä¸­æ•°æ®å¤±æ•ˆæˆ–è¿‡æœŸï¼Œæ‰å†³å®šä»æœåŠ¡å™¨æ›´æ–°æ•°æ®ã€‚ Last-Modifiedå’ŒExpiresLast-Modifiedæ ‡è¯†èƒ½å¤ŸèŠ‚çœä¸€ç‚¹å¸¦å®½ï¼Œä½†æ˜¯è¿˜æ˜¯é€ƒä¸æ‰å‘ä¸€ä¸ªHTTPè¯·æ±‚å‡ºå»ï¼Œè€Œä¸”è¦å’ŒExpiresä¸€èµ·ç”¨ã€‚è€ŒExpiresæ ‡è¯†å´ä½¿å¾—æµè§ˆå™¨å¹²è„†è¿HTTPè¯·æ±‚éƒ½ä¸ç”¨å‘ï¼Œæ¯”å¦‚å½“ç”¨æˆ·F5æˆ–è€…ç‚¹å‡»RefreshæŒ‰é’®çš„æ—¶å€™å°±ç®—å¯¹äºæœ‰Expiresçš„URIï¼Œä¸€æ ·ä¹Ÿä¼šå‘ä¸€ä¸ªHTTPè¯·æ±‚å‡ºå»ï¼Œæ‰€ä»¥ï¼ŒLast-Modifiedè¿˜æ˜¯è¦ç”¨çš„ï¼Œè€Œä¸”è¦å’ŒExpiresä¸€èµ·ç”¨ã€‚ Etagå’ŒExpireså¦‚æœæœåŠ¡å™¨ç«¯åŒæ—¶è®¾ç½®äº†Etagå’ŒExpiresæ—¶ï¼ŒEtagåŸç†åŒæ ·ï¼Œå³ä¸Last-Modified/Etagå¯¹åº”çš„HttpRequestHeader:If-Modified-Sinceå’ŒIf-None-Matchã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸¤ä¸ªHeaderçš„å€¼å’ŒWebServerå‘å‡ºçš„Last-Modified,Etagå€¼å®Œå…¨ä¸€æ ·ï¼›åœ¨å®Œå…¨åŒ¹é…If-Modified-Sinceå’ŒIf-None-Matchå³æ£€æŸ¥å®Œä¿®æ”¹æ—¶é—´å’ŒEtagä¹‹åï¼ŒæœåŠ¡å™¨æ‰èƒ½è¿”å›304. Last-Modifiedå’ŒEtagåˆ†å¸ƒå¼ç³»ç»Ÿé‡Œå¤šå°æœºå™¨é—´æ–‡ä»¶çš„last-modifiedå¿…é¡»ä¿æŒä¸€è‡´ï¼Œä»¥å…è´Ÿè½½å‡è¡¡åˆ°ä¸åŒæœºå™¨å¯¼è‡´æ¯”å¯¹å¤±è´¥ åˆ†å¸ƒå¼ç³»ç»Ÿå°½é‡å…³é—­æ‰Etag(æ¯å°æœºå™¨ç”Ÿæˆçš„etagéƒ½ä¼šä¸ä¸€æ ·) Last-Modifiedå’ŒETagsè¯·æ±‚çš„httpæŠ¥å¤´ä¸€èµ·ä½¿ç”¨ï¼ŒæœåŠ¡å™¨é¦–å…ˆäº§ç”ŸLast-Modified/Etagæ ‡è®°ï¼ŒæœåŠ¡å™¨å¯åœ¨ç¨åä½¿ç”¨å®ƒæ¥åˆ¤æ–­é¡µé¢æ˜¯å¦å·²ç»è¢«ä¿®æ”¹ï¼Œæ¥å†³å®šæ–‡ä»¶æ˜¯å¦ç»§ç»­ç¼“å­˜ è¿‡ç¨‹å¦‚ä¸‹: 1.å®¢æˆ·ç«¯è¯·æ±‚ä¸€ä¸ªé¡µé¢ï¼ˆAï¼‰ã€‚ 2.æœåŠ¡å™¨è¿”å›é¡µé¢Aï¼Œå¹¶åœ¨ç»™AåŠ ä¸Šä¸€ä¸ªLast-Modified/ETagã€‚ 3.å®¢æˆ·ç«¯å±•ç°è¯¥é¡µé¢ï¼Œå¹¶å°†é¡µé¢è¿åŒLast-Modified/ETagä¸€èµ·ç¼“å­˜ã€‚ 4.å®¢æˆ·å†æ¬¡è¯·æ±‚é¡µé¢Aï¼Œå¹¶å°†ä¸Šæ¬¡è¯·æ±‚æ—¶æœåŠ¡å™¨è¿”å›çš„Last-Modified/ETagä¸€èµ·ä¼ é€’ç»™æœåŠ¡å™¨ã€‚ 5.æœåŠ¡å™¨æ£€æŸ¥è¯¥Last-Modifiedæˆ–ETagï¼Œå¹¶åˆ¤æ–­å‡ºè¯¥é¡µé¢è‡ªä¸Šæ¬¡å®¢æˆ·ç«¯è¯·æ±‚ä¹‹åè¿˜æœªè¢«ä¿®æ”¹ï¼Œç›´æ¥è¿”å›å“åº”304å’Œä¸€ä¸ªç©ºçš„å“åº”ä½“ã€‚ æ³¨ï¼š 1ã€Last-Modifiedå’ŒEtagå¤´éƒ½æ˜¯ç”±WebServerå‘å‡ºçš„HttpReponse Headerï¼ŒWebServeråº”è¯¥åŒæ—¶æ”¯æŒè¿™ä¸¤ç§å¤´ã€‚ 2ã€WebServerå‘é€å®ŒLast-Modified/Etagå¤´ç»™å®¢æˆ·ç«¯åï¼Œå®¢æˆ·ç«¯ä¼šç¼“å­˜è¿™äº›å¤´ï¼› 3ã€å®¢æˆ·ç«¯å†æ¬¡å‘èµ·ç›¸åŒé¡µé¢çš„è¯·æ±‚æ—¶ï¼Œå°†åˆ†åˆ«å‘é€ä¸Last-Modified/Etagå¯¹åº”çš„HttpRequestHeader:If-Modified-Sinceå’ŒIf-None-Matchã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸¤ä¸ªHeaderçš„å€¼å’ŒWebServerå‘å‡ºçš„Last-Modified,Etagå€¼å®Œå…¨ä¸€æ ·ï¼› 4ã€é€šè¿‡ä¸Šè¿°å€¼åˆ°æœåŠ¡å™¨ç«¯æ£€æŸ¥ï¼Œåˆ¤æ–­æ–‡ä»¶æ˜¯å¦ç»§ç»­ç¼“å­˜ï¼› 7ã€å…³äº Cache-Control: max-age=ç§’ å’Œ Expires Expires = æ—¶é—´ï¼ŒHTTP 1.0 ç‰ˆæœ¬ï¼Œç¼“å­˜çš„è½½æ­¢æ—¶é—´ï¼Œå…è®¸å®¢æˆ·ç«¯åœ¨è¿™ä¸ªæ—¶é—´ä¹‹å‰ä¸å»æ£€æŸ¥ï¼ˆå‘è¯·æ±‚ï¼‰max-age = ç§’ï¼ŒHTTP 1.1ç‰ˆæœ¬ï¼Œèµ„æºåœ¨æœ¬åœ°ç¼“å­˜å¤šå°‘ç§’ã€‚å¦‚æœmax-ageå’ŒExpiresåŒæ—¶å­˜åœ¨ï¼Œåˆ™è¢«Cache-Controlçš„max-ageè¦†ç›–ã€‚ Expires çš„ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯ï¼Œè¿”å›çš„åˆ°æœŸæ—¶é—´æ˜¯æœåŠ¡å™¨ç«¯çš„æ—¶é—´ï¼Œè¿™æ ·å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœå®¢æˆ·ç«¯çš„æ—¶é—´ä¸æœåŠ¡å™¨çš„æ—¶é—´ç›¸å·®å¾ˆå¤§ï¼Œé‚£ä¹ˆè¯¯å·®å°±å¾ˆå¤§ï¼Œæ‰€ä»¥åœ¨HTTP 1.1ç‰ˆå¼€å§‹ï¼Œä½¿ç”¨Cache-Control: max-age=ç§’æ›¿ä»£ã€‚ Expires =max-age + â€œæ¯æ¬¡ä¸‹è½½æ—¶çš„å½“å‰çš„requestæ—¶é—´â€ æ‰€ä»¥ä¸€æ—¦é‡æ–°ä¸‹è½½çš„é¡µé¢åï¼Œexpireså°±é‡æ–°è®¡ç®—ä¸€æ¬¡ï¼Œä½†last-modifiedä¸ä¼šå˜åŒ– æµè§ˆå™¨ç¼“å­˜æ€»ç»“æµè§ˆå™¨ç¼“å­˜åˆ†ä¸ºå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ã€‚å½“å®¢æˆ·ç«¯è¯·æ±‚æŸä¸ªèµ„æºæ—¶ï¼Œè·å–ç¼“å­˜çš„æµç¨‹å¦‚ä¸‹ï¼š å…ˆæ ¹æ®è¿™ä¸ªèµ„æºçš„ä¸€äº› http header åˆ¤æ–­å®ƒæ˜¯å¦å‘½ä¸­å¼ºç¼“å­˜ï¼Œå¦‚æœå‘½ä¸­ï¼Œåˆ™ç›´æ¥ä»æœ¬åœ°è·å–ç¼“å­˜èµ„æºï¼Œä¸ä¼šå‘è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼› å½“å¼ºç¼“å­˜æ²¡æœ‰å‘½ä¸­æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šå‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨é€šè¿‡å¦ä¸€äº›request headeréªŒè¯è¿™ä¸ªèµ„æºæ˜¯å¦å‘½ä¸­åå•†ç¼“å­˜ï¼Œç§°ä¸ºhttpå†éªŒè¯ï¼Œå¦‚æœå‘½ä¸­ï¼ŒæœåŠ¡å™¨å°†è¯·æ±‚è¿”å›ï¼Œä½†ä¸è¿”å›èµ„æºï¼Œè€Œæ˜¯å‘Šè¯‰å®¢æˆ·ç«¯ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°è¿”å›åå°±ä¼šä»ç¼“å­˜ä¸­è·å–èµ„æºï¼› å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜å…±åŒä¹‹å¤„åœ¨äºï¼Œå¦‚æœå‘½ä¸­ç¼“å­˜ï¼ŒæœåŠ¡å™¨éƒ½ä¸ä¼šè¿”å›èµ„æºï¼› åŒºåˆ«æ˜¯ï¼Œå¼ºç¼“å­˜ä¸å¯¹å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œä½†åå•†ç¼“å­˜ä¼šã€‚ å½“åå•†ç¼“å­˜ä¹Ÿæ²¡å‘½ä¸­æ—¶ï¼ŒæœåŠ¡å™¨å°±ä¼šå°†èµ„æºå‘é€å›å®¢æˆ·ç«¯ã€‚ å½“ ctrl+f5 å¼ºåˆ¶åˆ·æ–°ç½‘é¡µæ—¶ï¼Œç›´æ¥ä»æœåŠ¡å™¨åŠ è½½ï¼Œè·³è¿‡å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ï¼› å½“ f5 åˆ·æ–°ç½‘é¡µæ—¶ï¼Œè·³è¿‡å¼ºç¼“å­˜ï¼Œä½†æ˜¯ä¼šæ£€æŸ¥åå•†ç¼“å­˜ï¼› å¼ºç¼“å­˜ Expiresï¼ˆè¯¥å­—æ®µæ˜¯ http1.0 æ—¶çš„è§„èŒƒï¼Œå€¼ä¸ºä¸€ä¸ªç»å¯¹æ—¶é—´çš„ GMT æ ¼å¼çš„æ—¶é—´å­—ç¬¦ä¸²ï¼Œä»£è¡¨ç¼“å­˜èµ„æºçš„è¿‡æœŸæ—¶é—´ï¼‰ Cache-Control:max-ageï¼ˆè¯¥å­—æ®µæ˜¯ http1.1 çš„è§„èŒƒï¼Œå¼ºç¼“å­˜åˆ©ç”¨å…¶ max-age å€¼æ¥åˆ¤æ–­ç¼“å­˜èµ„æºçš„æœ€å¤§ç”Ÿå‘½å‘¨æœŸï¼Œå®ƒçš„å€¼å•ä½ä¸ºç§’ï¼‰ åå•†ç¼“å­˜ Last-Modifiedï¼ˆå€¼ä¸ºèµ„æºæœ€åæ›´æ–°æ—¶é—´ï¼ŒéšæœåŠ¡å™¨responseè¿”å›ï¼‰ If-Modified-Sinceï¼ˆé€šè¿‡æ¯”è¾ƒä¸¤ä¸ªæ—¶é—´æ¥åˆ¤æ–­èµ„æºåœ¨ä¸¤æ¬¡è¯·æ±‚æœŸé—´æ˜¯å¦æœ‰è¿‡ä¿®æ”¹ï¼Œå¦‚æœæ²¡æœ‰ä¿®æ”¹ï¼Œåˆ™å‘½ä¸­åå•†ç¼“å­˜ï¼‰ ETagï¼ˆè¡¨ç¤ºèµ„æºå†…å®¹çš„å”¯ä¸€æ ‡è¯†ï¼ŒéšæœåŠ¡å™¨responseè¿”å›ï¼‰ If-None-Matchï¼ˆæœåŠ¡å™¨é€šè¿‡æ¯”è¾ƒè¯·æ±‚å¤´éƒ¨çš„If-None-Matchä¸å½“å‰èµ„æºçš„ETagæ˜¯å¦ä¸€è‡´æ¥åˆ¤æ–­èµ„æºæ˜¯å¦åœ¨ä¸¤æ¬¡è¯·æ±‚ä¹‹é—´æœ‰è¿‡ä¿®æ”¹ï¼Œå¦‚æœæ²¡æœ‰ä¿®æ”¹ï¼Œåˆ™å‘½ä¸­åå•†ç¼“å­˜ï¼‰","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"http","slug":"http","permalink":"http://xdd7130.github.io/tags/http/"},{"name":"ç¼“å­˜","slug":"ç¼“å­˜","permalink":"http://xdd7130.github.io/tags/ç¼“å­˜/"}]},{"title":"CSS","slug":"css.","date":"2018-12-26T09:28:15.000Z","updated":"2022-11-02T11:15:20.548Z","comments":true,"path":"2018/12/26/css./","link":"","permalink":"http://xdd7130.github.io/2018/12/26/css./","excerpt":"","text":"cssä¸­font-sizeä¸º0çš„å¦™ç”¨(æ¶ˆé™¤å†…è”å…ƒç´ é—´çš„é—´éš”)","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://xdd7130.github.io/tags/CSS/"}]},{"title":"åŸå‹ä¸ç»§æ‰¿","slug":"åŸå‹","date":"2018-12-26T09:28:15.000Z","updated":"2022-11-02T11:15:20.714Z","comments":true,"path":"2018/12/26/åŸå‹/","link":"","permalink":"http://xdd7130.github.io/2018/12/26/åŸå‹/","excerpt":"","text":"prototypeã€protoå’Œconstructorçš„ä¸‰è€…å…³ç³»javascripté‡Œçš„å…³ç³»åˆå¤šåˆä¹±ã€‚ä½œç”¨åŸŸé“¾æ˜¯ä¸€ç§å•å‘çš„é“¾å¼å…³ç³»ï¼Œè¿˜ç®—ç®€å•æ¸…æ™°ï¼›thisæœºåˆ¶çš„è°ƒç”¨å…³ç³»ï¼Œç¨å¾®æœ‰äº›å¤æ‚ï¼›è€Œå…³äºåŸå‹ï¼Œåˆ™æ˜¯prototypeã€protoå’Œconstructorçš„ä¸‰è§’å…³ç³»ã€‚æœ¬æ–‡å…ˆç”¨ä¸€å¼ å›¾å¼€å®—æ˜ä¹‰ï¼Œç„¶åè¯¦ç»†è§£é‡ŠåŸå‹çš„ä¸‰è§’å…³ç³» æ¦‚å¿µä¸Šå›¾ä¸­çš„å¤æ‚å…³ç³»ï¼Œå®é™…ä¸Šæ¥æºå°±ä¸¤è¡Œä»£ç :12function Foo()&#123;&#125;;var f1 = new Foo; ã€æ„é€ å‡½æ•°ã€‘ ç”¨æ¥åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡çš„å‡½æ•°æ˜¯æ„é€ å‡½æ•°ã€‚åœ¨ä¾‹å­ä¸­ï¼ŒFoo()å‡½æ•°æ˜¯æ„é€ å‡½æ•° ã€å®ä¾‹å¯¹è±¡ã€‘ é€šè¿‡æ„é€ å‡½æ•°çš„newæ“ä½œåˆ›å»ºçš„å¯¹è±¡æ˜¯å®ä¾‹å¯¹è±¡ã€‚å¯ä»¥ç”¨ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæ„é€ å¤šä¸ªå®ä¾‹å¯¹è±¡1234function Foo()&#123;&#125;;var f1 = new Foo;var f2 = new Foo;console.log(f1 === f2);//false ã€åŸå‹å¯¹è±¡åŠprototypeã€‘ æ„é€ å‡½æ•°æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼ŒæŒ‡å‘å®ä¾‹å¯¹è±¡çš„åŸå‹å¯¹è±¡ã€‚é€šè¿‡åŒä¸€ä¸ªæ„é€ å‡½æ•°å®ä¾‹åŒ–çš„å¤šä¸ªå¯¹è±¡å…·æœ‰ç›¸åŒçš„åŸå‹å¯¹è±¡ã€‚ç»å¸¸ä½¿ç”¨åŸå‹å¯¹è±¡æ¥å®ç°ç»§æ‰¿12345678function Foo()&#123;&#125;;Foo.prototype.a = 1;var f1 = new Foo;var f2 = new Foo;console.log(Foo.prototype.a);//1console.log(f1.a);//1console.log(f2.a);//1 ã€constructorã€‘ åŸå‹å¯¹è±¡æœ‰ä¸€ä¸ªconstructorå±æ€§ï¼ŒæŒ‡å‘è¯¥åŸå‹å¯¹è±¡å¯¹åº”çš„æ„é€ å‡½æ•°12function Foo()&#123;&#125;;console.log(Foo.prototype.constructor === Foo);//true ç”±äºå®ä¾‹å¯¹è±¡å¯ä»¥ç»§æ‰¿åŸå‹å¯¹è±¡çš„å±æ€§ï¼Œæ‰€ä»¥å®ä¾‹å¯¹è±¡ä¹Ÿæ‹¥æœ‰constructorå±æ€§ï¼ŒåŒæ ·æŒ‡å‘åŸå‹å¯¹è±¡å¯¹åº”çš„æ„é€ å‡½æ•°123function Foo()&#123;&#125;;var f1 = new Foo;console.log(f1.constructor === Foo);//true ã€protoã€‘ å®ä¾‹å¯¹è±¡æœ‰ä¸€ä¸ªprotoå±æ€§ï¼ŒæŒ‡å‘è¯¥å®ä¾‹å¯¹è±¡å¯¹åº”çš„åŸå‹å¯¹è±¡123function Foo()&#123;&#125;;var f1 = new Foo;console.log(f1.__proto__ === Foo.prototype);//true è¯´æ˜ æ¦‚å¿µä»‹ç»å®Œäº†ï¼Œç°åœ¨å¯¹å›¾ç¤ºçš„å…³ç³»è¿›è¡Œè¯¦ç»†è¯´æ˜12function Foo()&#123;&#125;;var f1 = new Foo; ã€ç¬¬ä¸€éƒ¨åˆ†ï¼š Fooã€‘ å®ä¾‹å¯¹è±¡f1æ˜¯é€šè¿‡æ„é€ å‡½æ•°Foo()çš„newæ“ä½œåˆ›å»ºçš„ã€‚æ„é€ å‡½æ•°Foo()çš„åŸå‹å¯¹è±¡æ˜¯Foo.prototypeï¼›å®ä¾‹å¯¹è±¡f1é€šè¿‡protoå±æ€§ä¹ŸæŒ‡å‘åŸå‹å¯¹è±¡Foo.prototype123function Foo()&#123;&#125;;var f1 = new Foo;console.log(f1.__proto === Foo.prototype);//true å®ä¾‹å¯¹è±¡f1æœ¬èº«å¹¶æ²¡æœ‰constructorå±æ€§ï¼Œä½†å®ƒå¯ä»¥ç»§æ‰¿åŸå‹å¯¹è±¡Foo.prototypeçš„constructorå±æ€§12345function Foo()&#123;&#125;;var f1 = new Foo;console.log(Foo.prototype.constructor === Foo);//trueconsole.log(f1.constructor === Foo);//trueconsole.log(f1.hasOwnProperty(&apos;constructor&apos;));//false ä¸‹å›¾æ˜¯å®ä¾‹å¯¹è±¡f1çš„æ§åˆ¶å°æ•ˆæœ ã€ç¬¬äºŒéƒ¨åˆ†ï¼š Objectã€‘ Foo.prototypeæ˜¯f1çš„åŸå‹å¯¹è±¡ï¼ŒåŒæ—¶å®ƒä¹Ÿæ˜¯å®ä¾‹å¯¹è±¡ã€‚å®é™…ä¸Šï¼Œä»»ä½•å¯¹è±¡éƒ½å¯ä»¥çœ‹åšæ˜¯é€šè¿‡Object()æ„é€ å‡½æ•°çš„newæ“ä½œå®ä¾‹åŒ–çš„å¯¹è±¡ æ‰€ä»¥ï¼ŒFoo.prototypeä½œä¸ºå®ä¾‹å¯¹è±¡ï¼Œå®ƒçš„æ„é€ å‡½æ•°æ˜¯Object()ï¼ŒåŸå‹å¯¹è±¡æ˜¯Object.prototypeã€‚ç›¸åº”åœ°ï¼Œæ„é€ å‡½æ•°Object()çš„prototypeå±æ€§æŒ‡å‘åŸå‹å¯¹è±¡Object.prototypeï¼›å®ä¾‹å¯¹è±¡Foo.prototypeçš„protoå±æ€§åŒæ ·æŒ‡å‘åŸå‹å¯¹è±¡Object.prototype123function Foo()&#123;&#125;;var f1 = new Foo;console.log(Foo.prototype.__proto__ === Object.prototype);//true å®ä¾‹å¯¹è±¡Foo.prototypeæœ¬èº«å…·æœ‰constructorå±æ€§ï¼Œæ‰€ä»¥å®ƒä¼šè¦†ç›–ç»§æ‰¿è‡ªåŸå‹å¯¹è±¡Object.prototypeçš„constructorå±æ€§12345function Foo()&#123;&#125;;var f1 = new Foo;console.log(Foo.prototype.constructor === Foo);//trueconsole.log(Object.prototype.constructor === Object);//trueconsole.log(Foo.prototype.hasOwnProperty(&apos;constructor&apos;));//true ä¸‹å›¾æ˜¯å®ä¾‹å¯¹è±¡Foo.prototypeçš„æ§åˆ¶å°æ•ˆæœ:å¦‚æœObject.prototypeä½œä¸ºå®ä¾‹å¯¹è±¡çš„è¯ï¼Œå…¶åŸå‹å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Œç»“æœæ˜¯nullã€‚ç§ä»¥ä¸ºï¼Œè¿™å¯èƒ½ä¹Ÿæ˜¯typeof nullçš„ç»“æœæ˜¯â€™objectâ€™çš„åŸå› ä¹‹ä¸€å§1console.log(Object.prototype.__proto__ === null);//true ã€ç¬¬ä¸‰éƒ¨åˆ†ï¼š Functionã€‘ å‰é¢å·²ç»ä»‹ç»è¿‡ï¼Œå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œåªä¸è¿‡æ˜¯å…·æœ‰ç‰¹æ®ŠåŠŸèƒ½çš„å¯¹è±¡è€Œå·²ã€‚ä»»ä½•å‡½æ•°éƒ½å¯ä»¥çœ‹åšæ˜¯é€šè¿‡Function()æ„é€ å‡½æ•°çš„newæ“ä½œå®ä¾‹åŒ–çš„ç»“æœ å¦‚æœæŠŠå‡½æ•°Fooå½“æˆå®ä¾‹å¯¹è±¡çš„è¯ï¼Œå…¶æ„é€ å‡½æ•°æ˜¯Function()ï¼Œå…¶åŸå‹å¯¹è±¡æ˜¯Function.prototypeï¼›ç±»ä¼¼åœ°ï¼Œå‡½æ•°Objectçš„æ„é€ å‡½æ•°ä¹Ÿæ˜¯Function()ï¼Œå…¶åŸå‹å¯¹è±¡æ˜¯Function.prototype1234function Foo()&#123;&#125;;var f1 = new Foo;console.log(Foo.__proto__ === Function.prototype);//trueconsole.log(Object.__proto__ === Function.prototype);//true åŸå‹å¯¹è±¡Function.prototypeçš„constructorå±æ€§æŒ‡å‘æ„é€ å‡½æ•°Function()ï¼›å®ä¾‹å¯¹è±¡Objectå’ŒFooæœ¬èº«æ²¡æœ‰constructorå±æ€§ï¼Œéœ€è¦ç»§æ‰¿åŸå‹å¯¹è±¡Function.prototypeçš„constructorå±æ€§ 1234567function Foo()&#123;&#125;;var f1 = new Foo;console.log(Function.prototype.constructor === Function);//trueconsole.log(Foo.constructor === Function);//trueconsole.log(Foo.hasOwnProperty(&apos;constructor&apos;));//falseconsole.log(Object.constructor === Function);//trueconsole.log(Object.hasOwnProperty(&apos;constructor&apos;));//false æ‰€æœ‰çš„å‡½æ•°éƒ½å¯ä»¥çœ‹æˆæ˜¯æ„é€ å‡½æ•°Function()çš„newæ“ä½œçš„å®ä¾‹åŒ–å¯¹è±¡ã€‚é‚£ä¹ˆï¼ŒFunctionå¯ä»¥çœ‹æˆæ˜¯è°ƒç”¨å…¶è‡ªèº«çš„newæ“ä½œçš„å®ä¾‹åŒ–çš„ç»“æœ æ‰€ä»¥ï¼Œå¦‚æœFunctionä½œä¸ºå®ä¾‹å¯¹è±¡ï¼Œå…¶æ„é€ å‡½æ•°æ˜¯Functionï¼Œå…¶åŸå‹å¯¹è±¡æ˜¯Function.prototype123console.log(Function.__proto__ === Function.prototype);//trueconsole.log(Function.prototype.constructor === Function);//trueconsole.log(Function.prototype === Function.prototype);//true å¦‚æœFunction.prototypeä½œä¸ºå®ä¾‹å¯¹è±¡çš„è¯ï¼Œå…¶åŸå‹å¯¹è±¡æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå’Œå‰é¢ä¸€æ ·ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½å¯ä»¥çœ‹æˆæ˜¯Object()æ„é€ å‡½æ•°çš„newæ“ä½œçš„å®ä¾‹åŒ–ç»“æœã€‚æ‰€ä»¥ï¼ŒFunction.prototypeçš„åŸå‹å¯¹è±¡æ˜¯Object.prototypeï¼Œå…¶åŸå‹å‡½æ•°æ˜¯Object()1console.log(Function.prototype.__proto__ === Object.prototype);//true ç¬¬äºŒéƒ¨åˆ†ä»‹ç»è¿‡ï¼ŒObject.prototypeçš„åŸå‹å¯¹è±¡æ˜¯null1console.log(Object.prototype.__proto__ === null);//true æ€»ç»“ ã€1ã€‘å‡½æ•°(Functionä¹Ÿæ˜¯å‡½æ•°)æ˜¯new Functionçš„ç»“æœï¼Œæ‰€ä»¥å‡½æ•°å¯ä»¥ä½œä¸ºå®ä¾‹å¯¹è±¡ï¼Œå…¶æ„é€ å‡½æ•°æ˜¯Function()ï¼ŒåŸå‹å¯¹è±¡æ˜¯Function.prototype ã€2ã€‘å¯¹è±¡(å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡)æ˜¯new Objectçš„ç»“æœï¼Œæ‰€ä»¥å¯¹è±¡å¯ä»¥ä½œä¸ºå®ä¾‹å¯¹è±¡ï¼Œå…¶æ„é€ å‡½æ•°æ˜¯Object()ï¼ŒåŸå‹å¯¹è±¡æ˜¯Object.prototype ã€3ã€‘Object.prototypeçš„åŸå‹å¯¹è±¡æ˜¯null JSç»§æ‰¿çš„6ç§æ–¹å¼ [åŸå‹] 123// Bæ˜¯Açš„åŸå‹ï¼ŒAæ˜¯Bçš„æ„é€ å‡½æ•°A.prototype = BB.constructor = A [çº¦å®š] 1234567// çˆ¶ç±»function Super()&#123; this.property = &apos;Super Property&apos;&#125;Super.prototype.getProperty = function()&#123; return this.property&#125; æ„é€ å‡½æ•°ç»§æ‰¿1.åŸºæœ¬æ€æƒ³é€šè¿‡ä½¿ç”¨callã€applyæ–¹æ³•å¯ä»¥åœ¨æ–°åˆ›å»ºçš„å¯¹è±¡ä¸Šæ‰§è¡Œæ„é€ å‡½æ•°,ç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æ¥å¢åŠ å­ç±»çš„å®ä¾‹ 2.å…·ä½“å®ç°12345// å­ç±»function Sub()&#123; Super.call(this) this.property = &apos;Sub Property&apos;&#125; 3.ä¼˜ç¼ºç‚¹1ï¼‰ä¼˜ç‚¹ç®€å•æ˜äº†ï¼Œç›´æ¥ç»§æ‰¿è¶…ç±»æ„é€ å‡½æ•°çš„å±æ€§å’Œæ–¹æ³•2ï¼‰ç¼ºç‚¹æ— æ³•ç»§æ‰¿åŸå‹é“¾ä¸Šçš„å±æ€§å’Œæ–¹æ³• åŸå‹é“¾ç»§æ‰¿1.åŸºæœ¬æ€æƒ³åˆ©ç”¨åŸå‹é“¾æ¥å®ç°ç»§æ‰¿ï¼Œè¶…ç±»çš„ä¸€ä¸ªå®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹ 2.å…·ä½“å®ç°1234567// å­ç±»function Sub()&#123; this.property = &apos;Sub Property&apos;&#125;Sub.prototype = new Super()// æ³¨æ„è¿™é‡Œnew Super()ç”Ÿæˆçš„è¶…ç±»å¯¹è±¡å¹¶æ²¡æœ‰constructorå±æ€§,æ•…éœ€æ·»åŠ ä¸ŠSub.prototype.constructor = Sub 3.ä¼˜ç¼ºç‚¹1ï¼‰ä¼˜ç‚¹ç®€å•æ˜äº†ï¼Œå®¹æ˜“å®ç°å®ä¾‹æ˜¯å­ç±»çš„å®ä¾‹ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯çˆ¶ç±»çš„ä¸€ä¸ªå®ä¾‹çˆ¶ç±»æ–°å¢åŸå‹æ–¹æ³•/åŸå‹å±æ€§ï¼Œå­ç±»éƒ½èƒ½è®¿é—®åˆ°2ï¼‰ç¼ºç‚¹æ‰€æœ‰å­ç±»çš„å®ä¾‹çš„åŸå‹éƒ½å…±äº«åŒä¸€ä¸ªè¶…ç±»å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•æ— æ³•å®ç°å¤šç»§æ‰¿ ç»„åˆç»§æ‰¿1.åŸºæœ¬æ€æƒ³åˆ©ç”¨æ„é€ ç»§æ‰¿å’ŒåŸå‹é“¾ç»„åˆ 2.å…·ä½“å®ç°12345678// å­ç±»function Sub()&#123; Super.call(this) this.property = &apos;Sub Property&apos;&#125;Sub.prototype = new Super()// æ³¨æ„è¿™é‡Œnew Super()ç”Ÿæˆçš„è¶…ç±»å¯¹è±¡å¹¶æ²¡æœ‰constructorå±æ€§,æ•…éœ€æ·»åŠ ä¸ŠSub.prototype.constructor = Sub 3.ä¼˜ç¼ºç‚¹1ï¼‰ä¼˜ç‚¹è§£å†³äº†æ„é€ ç»§æ‰¿å’ŒåŸå‹é“¾ç»§æ‰¿çš„ä¸¤ä¸ªé—®é¢˜2ï¼‰ç¼ºç‚¹å®é™…ä¸Šå­ç±»ä¸Šä¼šæ‹¥æœ‰è¶…ç±»çš„ä¸¤ä»½å±æ€§ï¼Œåªæ˜¯å­ç±»çš„å±æ€§è¦†ç›–äº†è¶…ç±»çš„å±æ€§ åŸå‹å¼ç»§æ‰¿1.åŸºæœ¬æ€æƒ³é‡‡ç”¨åŸå‹å¼ç»§æ‰¿å¹¶ä¸éœ€è¦å®šä¹‰ä¸€ä¸ªç±»ï¼Œä¼ å…¥å‚æ•°obj,ç”Ÿæˆä¸€ä¸ªç»§æ‰¿objå¯¹è±¡çš„å¯¹è±¡ 2.å…·ä½“å®ç°12345function objectCreate(obj)&#123; function F()&#123;&#125; F.prototype = obj return new F()&#125; 3.ä¼˜ç¼ºç‚¹1ï¼‰ä¼˜ç‚¹ï¼šç›´æ¥é€šè¿‡å¯¹è±¡ç”Ÿæˆä¸€ä¸ªç»§æ‰¿è¯¥å¯¹è±¡çš„å¯¹è±¡2ï¼‰ç¼ºç‚¹ï¼š å¯„ç”Ÿå¼ç»§æ‰¿1.åŸºæœ¬æ€æƒ³åˆ›å»ºä¸€ä¸ªä»…ä»…ç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œç„¶ååœ¨å†…éƒ¨ä»¥æŸç§æ–¹å¼å¢å¼ºå¯¹è±¡ï¼Œæœ€åè¿”å›å¯¹è±¡ 2.å…·ä½“å®ç°12345678910function objectCreate(obj)&#123; function F()&#123;&#125; F.prototype = obj return new F()&#125;function createSubObj(superInstance)&#123; var clone = objectCreate(superInstance) clone.property = &apos;Sub Property&apos; return clone&#125; 3.ä¼˜ç¼ºç‚¹1ï¼‰ä¼˜ç‚¹ï¼šåŸå‹å¼ç»§æ‰¿çš„ä¸€ç§æ‹“å±•2ï¼‰ç¼ºç‚¹ï¼šä¾æ—§æ²¡æœ‰ç±»çš„æ¦‚å¿µ å…­.å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿1.åŸºæœ¬æ€æƒ³ç»“åˆå¯„ç”Ÿå¼ç»§æ‰¿å’Œç»„åˆå¼ç»§æ‰¿ï¼Œå®Œç¾å®ç°ä¸å¸¦ä¸¤ä»½è¶…ç±»å±æ€§çš„ç»§æ‰¿æ–¹å¼ 2.å…·ä½“å®ç°12345678910function inheritPrototype(Super,Sub)&#123; var superProtoClone = Object.Create(Super.prototype) superProtoClone.constructor = Sub Sub.prototype = Super&#125;function Sub()&#123; Super.call() Sub.property = &apos;Sub Property&apos;&#125;inheritPrototype(Super,Sub) 3.ä¼˜ç¼ºç‚¹1ï¼‰ä¼˜ç‚¹ï¼šå®Œç¾å®ç°ç»§æ‰¿ï¼Œè§£å†³äº†ç»„åˆå¼ç»§æ‰¿å¸¦ä¸¤ä»½å±æ€§çš„é—®é¢˜2ï¼‰ç¼ºç‚¹ï¼šè¿‡äºç¹çï¼Œæ•…ä¸å¦‚ç»„åˆç»§æ‰¿","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"åŸå‹ï¼Œç»§æ‰¿","slug":"åŸå‹ï¼Œç»§æ‰¿","permalink":"http://xdd7130.github.io/tags/åŸå‹ï¼Œç»§æ‰¿/"}]},{"title":"CSS","slug":"é¢è¯•CSS","date":"2018-12-26T09:28:15.000Z","updated":"2022-11-02T11:15:20.759Z","comments":true,"path":"2018/12/26/é¢è¯•CSS/","link":"","permalink":"http://xdd7130.github.io/2018/12/26/é¢è¯•CSS/","excerpt":"","text":"å“åº”å¼å¸ƒå±€çš„å¸¸ç”¨è§£å†³æ–¹æ¡ˆå¯¹æ¯”(åª’ä½“æŸ¥è¯¢ã€ç™¾åˆ†æ¯”ã€remå’Œvw/vhï¼‰ç®€è¦ä»‹ç»ï¼šå‰ç«¯å¼€å‘ä¸­ï¼Œé™æ€ç½‘é¡µé€šå¸¸éœ€è¦é€‚åº”ä¸åŒåˆ†è¾¨ç‡çš„è®¾å¤‡ï¼Œå¸¸ç”¨çš„è‡ªé€‚åº”è§£å†³æ–¹æ¡ˆåŒ…æ‹¬åª’ä½“æŸ¥è¯¢ã€ç™¾åˆ†æ¯”ã€remå’Œvw/vhç­‰ã€‚æœ¬æ–‡ä»pxå•ä½å‡ºå‘ï¼Œåˆ†æäº†pxåœ¨ç§»åŠ¨ç«¯å¸ƒå±€ä¸­çš„ä¸è¶³ï¼Œæ¥ç€ä»‹ç»äº†å‡ ç§ä¸åŒçš„è‡ªé€‚åº”è§£å†³æ–¹æ¡ˆã€‚ pxå’Œè§†å£ åª’ä½“æŸ¥è¯¢ ç™¾åˆ†æ¯” è‡ªé€‚åº”åœºæ™¯ä¸‹çš„remè§£å†³æ–¹æ¡ˆ é€šè¿‡vw/vhæ¥å®ç°è‡ªé€‚åº” pxå’Œè§†å£åœ¨é™æ€ç½‘é¡µä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ç”¨åƒç´ ï¼ˆpxï¼‰ä½œä¸ºå•ä½ï¼Œæ¥æè¿°ä¸€ä¸ªå…ƒç´ çš„å®½é«˜ä»¥åŠå®šä½ä¿¡æ¯ã€‚åœ¨pcç«¯ï¼Œé€šå¸¸è®¤ä¸ºcssä¸­,1pxæ‰€è¡¨ç¤ºçš„çœŸå®é•¿åº¦æ˜¯å›ºå®šçš„ã€‚é‚£ä¹ˆï¼ŒpxçœŸçš„æ˜¯ä¸€ä¸ªè®¾å¤‡æ— å…³ï¼Œè·Ÿé•¿åº¦å•ä½ç±³å’Œåˆ†ç±³ä¸€æ ·æ˜¯å›ºå®šå¤§å°çš„å—ï¼Ÿ ç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œä¸‹é¢å›¾1.1å’Œå›¾1.2åˆ†åˆ«è¡¨ç¤ºpcç«¯ä¸‹å’Œç§»åŠ¨ç«¯ä¸‹çš„æ˜¾ç¤ºç»“æœï¼Œåœ¨ç½‘é¡µä¸­æˆ‘ä»¬è®¾ç½®çš„font-sizeç»Ÿä¸€ä¸º16pxã€‚ä»ä¸Šé¢ä¸¤å¹…å›¾çš„å¯¹æ¯”å¯ä»¥çœ‹å‡ºï¼Œå­—ä½“éƒ½æ˜¯16pxï¼Œæ˜¾ç„¶åœ¨pcç«¯ä¸­æ–‡å­—æ­£å¸¸æ˜¾ç¤ºï¼Œè€Œåœ¨ç§»åŠ¨ç«¯æ–‡å­—å¾ˆå°ï¼Œå‡ ä¹çœ‹ä¸åˆ°ï¼Œè¯´æ˜åœ¨cssä¸­1pxå¹¶ä¸æ˜¯å›ºå®šå¤§å°ï¼Œç›´è§‚ä»æˆ‘ä»¬å‘ç°åœ¨ç§»åŠ¨ç«¯1pxæ‰€è¡¨ç¤ºçš„é•¿åº¦è¾ƒå°ï¼Œæ‰€ä»¥å¯¼è‡´æ–‡å­—æ˜¾ç¤ºä¸æ¸…æ¥šã€‚ é‚£ä¹ˆcssä¸­çš„1pxçš„çœŸå®é•¿åº¦åˆ°åº•ç”±ä»€ä¹ˆå†³å®šå‘¢ï¼Ÿ ä¸ºäº†ç†æ¸…æ¥šè¿™ä¸ªæ¦‚å¿µæˆ‘ä»¬é¦–å…ˆä»‹ç»åƒç´ å’Œè§†å£çš„æ¦‚å¿µ åƒç´ åƒç´ æ˜¯ç½‘é¡µå¸ƒå±€çš„åŸºç¡€ï¼Œä¸€ä¸ªåƒç´ è¡¨ç¤ºäº†è®¡ç®—æœºå±å¹•æ‰€èƒ½æ˜¾ç¤ºçš„æœ€å°åŒºåŸŸï¼Œåƒç´ åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šcssåƒç´ å’Œç‰©ç†åƒç´ ã€‚ æˆ‘ä»¬åœ¨jsæˆ–è€…cssä»£ç ä¸­ä½¿ç”¨çš„pxå•ä½å°±æ˜¯æŒ‡çš„æ˜¯cssåƒç´ ï¼Œç‰©ç†åƒç´ ä¹Ÿç§°è®¾å¤‡åƒç´ ï¼Œåªä¸è®¾å¤‡æˆ–è€…è¯´ç¡¬ä»¶æœ‰å…³ï¼ŒåŒæ ·å°ºå¯¸çš„å±å¹•ï¼Œè®¾å¤‡çš„å¯†åº¦è¶Šé«˜ï¼Œç‰©ç†åƒç´ ä¹Ÿå°±è¶Šå¤šã€‚ä¸‹è¡¨è¡¨ç¤ºcssåƒç´ å’Œç‰©ç†åƒç´ çš„å…·ä½“åŒºåˆ«ï¼š cssåƒç´ : ä¸ºwebå¼€å‘è€…æä¾›ï¼Œåœ¨cssä¸­ä½¿ç”¨çš„ä¸€ä¸ªæŠ½è±¡å•ä½ç‰©ç†åƒç´  : åªä¸è®¾å¤‡çš„ç¡¬ä»¶å¯†åº¦æœ‰å…³ï¼Œä»»ä½•è®¾å¤‡çš„ç‰©ç†åƒç´ éƒ½æ˜¯å›ºå®šçš„é‚£ä¹ˆcssåƒç´ ä¸ç‰©ç†åƒç´ çš„è½¬æ¢å…³ç³»æ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿä¸ºäº†æ˜ç¡®cssåƒç´ å’Œç‰©ç†åƒç´ çš„è½¬æ¢å…³ç³»ï¼Œå¿…é¡»å…ˆäº†è§£è§†å£æ˜¯ä»€ä¹ˆã€‚ è§†å£å¹¿ä¹‰çš„è§†å£ï¼Œæ˜¯æŒ‡æµè§ˆå™¨æ˜¾ç¤ºå†…å®¹çš„å±å¹•åŒºåŸŸï¼Œç‹­ä¹‰çš„è§†å£åŒ…æ‹¬äº†å¸ƒå±€è§†å£ã€è§†è§‰è§†å£å’Œç†æƒ³è§†å£ (1) å¸ƒå±€è§†å£ï¼ˆlayout viewportï¼‰å¸ƒå±€è§†å£å®šä¹‰äº†pcç½‘é¡µåœ¨ç§»åŠ¨ç«¯çš„é»˜è®¤å¸ƒå±€è¡Œä¸ºï¼Œå› ä¸ºé€šå¸¸pcçš„åˆ†è¾¨ç‡è¾ƒå¤§ï¼Œå¸ƒå±€è§†å£é»˜è®¤ä¸º980pxã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ä¸è®¾ç½®ç½‘é¡µçš„viewportçš„æƒ…å†µä¸‹ï¼Œpcç«¯çš„ç½‘é¡µé»˜è®¤ä¼šä»¥å¸ƒå±€è§†å£ä¸ºåŸºå‡†ï¼Œåœ¨ç§»åŠ¨ç«¯è¿›è¡Œå±•ç¤ºã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æ˜æ˜¾çœ‹å‡ºæ¥ï¼Œé»˜è®¤ä¸ºå¸ƒå±€è§†å£æ—¶ï¼Œæ ¹æ¤äºpcç«¯çš„ç½‘é¡µåœ¨ç§»åŠ¨ç«¯å±•ç¤ºå¾ˆæ¨¡ç³Šã€‚ (2) è§†è§‰è§†å£ï¼ˆvisual viewportï¼‰è§†è§‰è§†å£è¡¨ç¤ºæµè§ˆå™¨å†…çœ‹åˆ°çš„ç½‘ç«™çš„æ˜¾ç¤ºåŒºåŸŸï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç¼©æ”¾æ¥æŸ¥çœ‹ç½‘é¡µçš„æ˜¾ç¤ºå†…å®¹ï¼Œä»è€Œæ”¹å˜è§†è§‰è§†å£ã€‚è§†è§‰è§†å£çš„å®šä¹‰ï¼Œå°±åƒæ‹¿ç€ä¸€ä¸ªæ”¾å¤§é•œåˆ†åˆ«ä»ä¸åŒè·ç¦»è§‚å¯ŸåŒä¸€ä¸ªç‰©ä½“ï¼Œè§†è§‰è§†å£ä»…ä»…ç±»ä¼¼äºæ”¾å¤§é•œä¸­æ˜¾ç¤ºçš„å†…å®¹ï¼Œå› æ­¤è§†è§‰è§†å£ä¸ä¼šå½±å“å¸ƒå±€è§†å£çš„å®½åº¦å’Œé«˜åº¦ã€‚ (3) ç†æƒ³è§†å£ï¼ˆideal viewportï¼‰ç†æƒ³è§†å£æˆ–è€…åº”è¯¥å…¨ç§°ä¸ºâ€œç†æƒ³çš„å¸ƒå±€è§†å£â€ï¼Œåœ¨ç§»åŠ¨è®¾å¤‡ä¸­å°±æ˜¯æŒ‡è®¾å¤‡çš„åˆ†è¾¨ç‡ã€‚æ¢å¥è¯è¯´ï¼Œç†æƒ³è§†å£æˆ–è€…è¯´åˆ†è¾¨ç‡å°±æ˜¯ç»™å®šè®¾å¤‡ç‰©ç†åƒç´ çš„æƒ…å†µä¸‹ï¼Œæœ€ä½³çš„â€œå¸ƒå±€è§†å£â€ã€‚ ä¸Šè¿°è§†å£ä¸­ï¼Œæœ€é‡è¦çš„æ˜¯è¦æ˜ç¡®ç†æƒ³è§†å£çš„æ¦‚å¿µï¼Œåœ¨ç§»åŠ¨ç«¯ä¸­ï¼Œç†æƒ³è§†å£æˆ–è€…è¯´åˆ†è¾¨ç‡è·Ÿç‰©ç†åƒç´ ä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ ä¸ºäº†ç†æ¸…åˆ†è¾¨ç‡å’Œç‰©ç†åƒç´ ä¹‹é—´çš„è”ç³»ï¼Œæˆ‘ä»¬ä»‹ç»ä¸€ä¸ªç”¨DPRï¼ˆDevice pixel ratioï¼‰è®¾å¤‡åƒç´ æ¯”æ¥è¡¨ç¤ºï¼Œåˆ™å¯ä»¥å†™æˆï¼š 1 DPR = ç‰©ç†åƒç´ ï¼åˆ†è¾¨ç‡åœ¨ä¸ç¼©æ”¾çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªcssåƒç´ å°±å¯¹åº”ä¸€ä¸ªdprï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸ç¼©æ”¾ 1 CSSåƒç´  = ç‰©ç†åƒç´ ï¼åˆ†è¾¨ç‡æ­¤å¤–ï¼Œåœ¨ç§»åŠ¨ç«¯çš„å¸ƒå±€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡viewportå…ƒæ ‡ç­¾æ¥æ§åˆ¶å¸ƒå±€ï¼Œæ¯”å¦‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹è¿°æ ‡ç­¾ä½¿å¾—ç§»åŠ¨ç«¯åœ¨ç†æƒ³è§†å£ä¸‹å¸ƒå±€ï¼š1&lt;meta id=&quot;viewport&quot; name=&quot;viewport&quot; content=&quot;width=device-width; initial-scale=1.0; maximum-scale=1; user-scalable=no;&quot;&gt; å±æ€§å å–å€¼ æè¿° width æ­£æ•´æ•° å®šä¹‰å¸ƒå±€è§†å£çš„å®½åº¦ï¼Œå•ä½ä¸ºåƒç´  height æ­£æ•´æ•° å®šä¹‰å¸ƒå±€è§†å£çš„é«˜åº¦ï¼Œå•ä½ä¸ºåƒç´ ï¼Œå¾ˆå°‘ä½¿ç”¨ initial-scale [0,10] åˆå§‹ç¼©æ”¾æ¯”ä¾‹ï¼Œ1è¡¨ç¤ºä¸ç¼©æ”¾ minimum-scale [0,10] æœ€å°ç¼©æ”¾æ¯”ä¾‹ maximum-scale [0,10] æœ€å¤§ç¼©æ”¾æ¯”ä¾‹ user-scalable yesï¼no æ˜¯å¦å…è®¸æ‰‹åŠ¨ç¼©æ”¾é¡µé¢ï¼Œé»˜è®¤å€¼ä¸ºyes å…¶ä¸­æˆ‘ä»¬æ¥çœ‹widthå±æ€§ï¼Œåœ¨ç§»åŠ¨ç«¯å¸ƒå±€æ—¶ï¼Œåœ¨metaæ ‡ç­¾ä¸­æˆ‘ä»¬ä¼šå°†widthè®¾ç½®ç§°ä¸ºdevice-widthï¼Œdevice-widthä¸€èˆ¬æ˜¯è¡¨ç¤ºåˆ†è¾¨ç‡çš„å®½ï¼Œé€šè¿‡width=device-widthçš„è®¾ç½®æˆ‘ä»¬å°±å°†å¸ƒå±€è§†å£è®¾ç½®æˆäº†ç†æƒ³çš„è§†å£ã€‚ pxä¸è‡ªé€‚åº”ä¸Šè¿°æˆ‘ä»¬äº†è§£åˆ°äº†å½“é€šè¿‡viewportå…ƒæ ‡ç­¾ï¼Œè®¾ç½®å¸ƒå±€è§†å£ä¸ºç†æƒ³è§†å£æ—¶ï¼Œ1ä¸ªcssåƒç´ å¯ä»¥è¡¨ç¤ºæˆï¼š 1 CSSåƒç´  = ç‰©ç†åƒç´ ï¼åˆ†è¾¨ç‡æˆ‘ä»¬ç›´åˆ°ï¼Œåœ¨pcç«¯çš„å¸ƒå±€è§†å£é€šå¸¸æƒ…å†µä¸‹ä¸º980pxï¼Œç§»åŠ¨ç«¯ä»¥iphone6ä¸ºä¾‹ï¼Œåˆ†è¾¨ç‡ä¸º375 667ï¼Œä¹Ÿå°±æ˜¯è¯´å¸ƒå±€è§†å£åœ¨ç†æƒ³çš„æƒ…å†µä¸‹ä¸º375pxã€‚æ¯”å¦‚ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ª750px 1134pxçš„è§†è§‰ç¨¿ï¼Œé‚£ä¹ˆåœ¨pcç«¯ï¼Œä¸€ä¸ªcssåƒç´ å¯ä»¥å¦‚ä¸‹è®¡ç®—ï¼š PCç«¯ï¼š 1 CSSåƒç´  = ç‰©ç†åƒç´ ï¼åˆ†è¾¨ç‡ = 750 ï¼ 980 =0.76 pxè€Œåœ¨iphone6ä¸‹ï¼š iphone6ï¼š1 CSSåƒç´  = ç‰©ç†åƒç´  ï¼åˆ†è¾¨ç‡ = 750 ï¼ 375 = 2 pxä¹Ÿå°±æ˜¯è¯´åœ¨PCç«¯ï¼Œä¸€ä¸ªCSSåƒç´ å¯ä»¥ç”¨0.76ä¸ªç‰©ç†åƒç´ æ¥è¡¨ç¤ºï¼Œè€Œiphone6ä¸­ ä¸€ä¸ªCSSåƒç´ è¡¨ç¤ºäº†2ä¸ªç‰©ç†åƒç´ ã€‚æ­¤å¤–ä¸åŒçš„ç§»åŠ¨è®¾å¤‡åˆ†è¾¨ç‡ä¸åŒï¼Œä¹Ÿå°±æ˜¯1ä¸ªCSSåƒç´ å¯ä»¥è¡¨ç¤ºçš„ç‰©ç†åƒç´ æ˜¯ä¸åŒçš„ï¼Œå› æ­¤å¦‚æœåœ¨cssä¸­ä»…ä»…é€šè¿‡pxä½œä¸ºé•¿åº¦å’Œå®½åº¦çš„å•ä½ï¼Œé€ æˆçš„ç»“æœå°±æ˜¯æ— æ³•é€šè¿‡ä¸€å¥—æ ·å¼ï¼Œå®ç°å„ç«¯çš„è‡ªé€‚åº”ã€‚ åª’ä½“æŸ¥è¯¢åœ¨å‰é¢æˆ‘ä»¬è¯´åˆ°ï¼Œä¸åŒç«¯çš„è®¾å¤‡ä¸‹ï¼Œåœ¨cssæ–‡ä»¶ä¸­ï¼Œ1pxæ‰€è¡¨ç¤ºçš„ç‰©ç†åƒç´ çš„å¤§å°æ˜¯ä¸åŒçš„ï¼Œå› æ­¤é€šè¿‡ä¸€å¥—æ ·å¼ï¼Œæ˜¯æ— æ³•å®ç°å„ç«¯çš„è‡ªé€‚åº”ã€‚ç”±æ­¤æˆ‘ä»¬è”æƒ³ï¼š å¦‚æœä¸€å¥—æ ·å¼ä¸è¡Œï¼Œé‚£ä¹ˆèƒ½å¦ç»™æ¯ä¸€ç§è®¾å¤‡å„ä¸€å¥—ä¸åŒçš„æ ·å¼æ¥å®ç°è‡ªé€‚åº”çš„æ•ˆæœï¼Ÿ ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚ ä½¿ç”¨@mediaåª’ä½“æŸ¥è¯¢å¯ä»¥é’ˆå¯¹ä¸åŒçš„åª’ä½“ç±»å‹å®šä¹‰ä¸åŒçš„æ ·å¼ï¼Œç‰¹åˆ«æ˜¯å“åº”å¼é¡µé¢ï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒå±å¹•çš„å¤§å°ï¼Œç¼–å†™å¤šå¥—æ ·å¼ï¼Œä»è€Œè¾¾åˆ°è‡ªé€‚åº”çš„æ•ˆæœã€‚ä¸¾ä¾‹æ¥è¯´ï¼š1234567891011121314151617181920212223@media screen and (max-width: 960px)&#123; body&#123; background-color:#FF6699 &#125;&#125;@media screen and (max-width: 768px)&#123; body&#123; background-color:#00FF66; &#125;&#125;@media screen and (max-width: 550px)&#123; body&#123; background-color:#6633FF; &#125;&#125;@media screen and (max-width: 320px)&#123; body&#123; background-color:#FFFF00; &#125;&#125; ä¸Šè¿°çš„ä»£ç é€šè¿‡åª’ä½“æŸ¥è¯¢å®šä¹‰äº†å‡ å¥—æ ·å¼ï¼Œé€šè¿‡max-widthè®¾ç½®æ ·å¼ç”Ÿæ•ˆæ—¶çš„æœ€å¤§åˆ†è¾¨ç‡ï¼Œä¸Šè¿°çš„ä»£ç åˆ†åˆ«å¯¹åˆ†è¾¨ç‡åœ¨0ï½320pxï¼Œ320pxï½550pxï¼Œ550pxï½768pxä»¥åŠ768pxï½960pxçš„å±å¹•è®¾ç½®äº†ä¸åŒçš„èƒŒæ™¯é¢œè‰²ã€‚ é€šè¿‡åª’ä½“æŸ¥è¯¢ï¼Œå¯ä»¥é€šè¿‡ç»™ä¸åŒåˆ†è¾¨ç‡çš„è®¾å¤‡ç¼–å†™ä¸åŒçš„æ ·å¼æ¥å®ç°å“åº”å¼çš„å¸ƒå±€ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸ºä¸åŒåˆ†è¾¨ç‡çš„å±å¹•ï¼Œè®¾ç½®ä¸åŒçš„èƒŒæ™¯å›¾ç‰‡ã€‚æ¯”å¦‚ç»™å°å±å¹•æ‰‹æœºè®¾ç½®@2xå›¾ï¼Œä¸ºå¤§å±å¹•æ‰‹æœºè®¾ç½®@3Xå›¾ï¼Œé€šè¿‡åª’ä½“æŸ¥è¯¢å°±èƒ½å¾ˆæ–¹ä¾¿çš„å®ç°ã€‚ ä½†æ˜¯åª’ä½“æŸ¥è¯¢çš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå¦‚æœåœ¨æµè§ˆå™¨å¤§å°æ”¹å˜æ—¶ï¼Œéœ€è¦æ”¹å˜çš„æ ·å¼å¤ªå¤šï¼Œé‚£ä¹ˆå¤šå¥—æ ·å¼ä»£ç ä¼šå¾ˆç¹çã€‚ ç™¾åˆ†æ¯”é™¤äº†ç”¨pxç»“åˆåª’ä½“æŸ¥è¯¢å®ç°å“åº”å¼å¸ƒå±€å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ç™¾åˆ†æ¯”å•ä½ â€œ % â€œ æ¥å®ç°å“åº”å¼çš„æ•ˆæœã€‚ æ¯”å¦‚å½“æµè§ˆå™¨çš„å®½åº¦æˆ–è€…é«˜åº¦å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé€šè¿‡ç™¾åˆ†æ¯”å•ä½ï¼Œé€šè¿‡ç™¾åˆ†æ¯”å•ä½å¯ä»¥ä½¿å¾—æµè§ˆå™¨ä¸­çš„ç»„ä»¶çš„å®½å’Œé«˜éšç€æµè§ˆå™¨çš„å˜åŒ–è€Œå˜åŒ–ï¼Œä»è€Œå®ç°å“åº”å¼çš„æ•ˆæœã€‚ ä¸ºäº†äº†è§£ç™¾åˆ†æ¯”å¸ƒå±€ï¼Œé¦–å…ˆè¦äº†è§£çš„é—®é¢˜æ˜¯ï¼š cssä¸­çš„å­å…ƒç´ ä¸­çš„ç™¾åˆ†æ¯”ï¼ˆ%ï¼‰åˆ°åº•æ˜¯è°çš„ç™¾åˆ†æ¯”ï¼Ÿ ç›´è§‚çš„ç†è§£ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè®¤ä¸ºå­å…ƒç´ çš„ç™¾åˆ†æ¯”å®Œå…¨ç›¸å¯¹äºç›´æ¥çˆ¶å…ƒç´ ï¼Œheightç™¾åˆ†æ¯”ç›¸å¯¹äºheightï¼Œwidthç™¾åˆ†æ¯”ç›¸å¯¹äºwidthã€‚å½“ç„¶è¿™ç§ç†è§£æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯æ ¹æ®cssçš„ç›’å¼æ¨¡å‹ï¼Œé™¤äº†heightã€widthå±æ€§å¤–ï¼Œè¿˜å…·æœ‰paddingã€borderã€marginç­‰ç­‰å±æ€§ã€‚é‚£ä¹ˆè¿™äº›å±æ€§è®¾ç½®æˆç™¾åˆ†æ¯”ï¼Œæ˜¯æ ¹æ®çˆ¶å…ƒç´ çš„é‚£äº›å±æ€§å‘¢ï¼Ÿæ­¤å¤–è¿˜æœ‰border-radiuså’Œtranslateç­‰å±æ€§ä¸­çš„ç™¾åˆ†æ¯”ï¼Œåˆæ˜¯ç›¸å¯¹äºä»€ä¹ˆå‘¢ï¼Ÿä¸‹é¢æ¥å…·ä½“åˆ†æã€‚ ç™¾åˆ†æ¯”çš„å…·ä½“åˆ†æï¼ˆ1ï¼‰å­å…ƒç´ heightå’Œwidthçš„ç™¾åˆ†æ¯” å­å…ƒç´ çš„heightæˆ–widthä¸­ä½¿ç”¨ç™¾åˆ†æ¯”ï¼Œæ˜¯ç›¸å¯¹äºå­å…ƒç´ çš„ç›´æ¥çˆ¶å…ƒç´ ï¼Œwidthç›¸å¯¹äºçˆ¶å…ƒç´ çš„widthï¼Œheightç›¸å¯¹äºçˆ¶å…ƒç´ çš„heightã€‚æ¯”å¦‚ï¼š123456789101112&lt;div class=&quot;parent&quot;&gt; &lt;div class=&quot;child&quot;&gt;&lt;/div&gt;&lt;/div&gt;å¦‚æœè®¾ç½®ï¼š.father&#123;width:200px;height:100px;&#125;.child&#123;width:50%;height:50%;&#125; å±•ç¤ºçš„æ•ˆæœä¸ºï¼š(2) topå’Œbottom ã€leftå’Œright å­å…ƒç´ çš„topå’Œbottomå¦‚æœè®¾ç½®ç™¾åˆ†æ¯”ï¼Œåˆ™ç›¸å¯¹äºç›´æ¥éstaticå®šä½(é»˜è®¤å®šä½)çš„çˆ¶å…ƒç´ çš„é«˜åº¦ï¼ŒåŒæ · å­å…ƒç´ çš„leftå’Œrightå¦‚æœè®¾ç½®ç™¾åˆ†æ¯”ï¼Œåˆ™ç›¸å¯¹äºç›´æ¥éstaticå®šä½(é»˜è®¤å®šä½çš„)çˆ¶å…ƒç´ çš„å®½åº¦ã€‚ å±•ç¤ºçš„æ•ˆæœä¸ºï¼šï¼ˆ3ï¼‰padding å­å…ƒç´ çš„paddingå¦‚æœè®¾ç½®ç™¾åˆ†æ¯”ï¼Œä¸è®ºæ˜¯å‚ç›´æ–¹å‘æˆ–è€…æ˜¯æ°´å¹³æ–¹å‘ï¼Œéƒ½ç›¸å¯¹äºç›´æ¥çˆ¶äº²å…ƒç´ çš„widthï¼Œè€Œä¸çˆ¶å…ƒç´ çš„heightæ— å…³ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼š12345678910111213.parent&#123; width:200px; height:100px; background:green;&#125;.child&#123; width:0px; height:0px; background:blue; color:white; padding-top:50%; padding-left:50%;&#125; å±•ç¤ºçš„æ•ˆæœä¸ºï¼šå­å…ƒç´ çš„åˆå§‹å®½é«˜ä¸º0ï¼Œé€šè¿‡paddingå¯ä»¥å°†çˆ¶å…ƒç´ æ’‘å¤§ï¼Œä¸Šå›¾çš„è“è‰²éƒ¨åˆ†æ˜¯ä¸€ä¸ªæ­£æ–¹å½¢ï¼Œä¸”è¾¹é•¿ä¸º100px,è¯´æ˜paddingä¸è®ºå®½é«˜ï¼Œå¦‚æœè®¾ç½®æˆç™¾åˆ†æ¯”éƒ½ç›¸å¯¹äºçˆ¶å…ƒç´ çš„widthã€‚ ï¼ˆ4ï¼‰margin è·Ÿpaddingä¸€æ ·ï¼Œmarginä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå­å…ƒç´ çš„marginå¦‚æœè®¾ç½®æˆç™¾åˆ†æ¯”ï¼Œä¸è®ºæ˜¯å‚ç›´æ–¹å‘è¿˜æ˜¯æ°´å¹³æ–¹å‘ï¼Œéƒ½ç›¸å¯¹äºç›´æ¥çˆ¶å…ƒç´ çš„widthã€‚è¿™é‡Œå°±ä¸å…·ä½“ä¸¾ä¾‹ã€‚ ï¼ˆ5ï¼‰border-radius border-radiusä¸ä¸€æ ·ï¼Œå¦‚æœè®¾ç½®border-radiusä¸ºç™¾åˆ†æ¯”ï¼Œåˆ™æ˜¯ç›¸å¯¹äºè‡ªèº«çš„å®½åº¦ï¼Œä¸¾ä¾‹æ¥è¯´ï¼š1&lt;div class=&quot;trangle&quot;&gt;&lt;/div&gt; è®¾ç½®border-radiusä¸ºç™¾åˆ†æ¯”ï¼š1234567.trangle&#123; width:100px; height:100px; border-radius:50%; background:blue; margin-top:10px;&#125; å±•ç¤ºæ•ˆæœä¸ºï¼š ç™¾åˆ†æ¯”å•ä½å¸ƒå±€åº”ç”¨ç™¾åˆ†æ¯”å•ä½åœ¨å¸ƒå±€ä¸Šåº”ç”¨è¿˜æ˜¯å¾ˆå¹¿æ³›çš„ï¼Œè¿™é‡Œä»‹ç»ä¸€ç§åº”ç”¨ã€‚æ¯”å¦‚æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªå›ºå®šé•¿å®½æ¯”çš„é•¿æ–¹å½¢ï¼Œæ¯”å¦‚è¦å®ç°ä¸€ä¸ªé•¿å®½æ¯”ä¸º4:3çš„é•¿æ–¹å½¢,æˆ‘ä»¬å¯ä»¥æ ¹æ®paddingå±æ€§æ¥å®ç°ï¼Œå› ä¸ºpaddingä¸ç®¡æ˜¯å‚ç›´æ–¹å‘è¿˜æ˜¯æ°´å¹³æ–¹å‘ï¼Œç™¾åˆ†æ¯”å•ä½éƒ½ç›¸å¯¹äºçˆ¶å…ƒç´ çš„å®½åº¦ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®¾ç½®padding-topä¸ºç™¾åˆ†æ¯”æ¥å®ç°ï¼Œé•¿å®½è‡ªé€‚åº”çš„é•¿æ–¹å½¢ï¼š1&lt;div class=&quot;trangle&quot;&gt;&lt;/div&gt; è®¾ç½®æ ·å¼è®©å…¶è‡ªé€‚åº”ï¼š12345.trangle&#123; height:0; width:100%; padding-top:75%;&#125; é€šè¿‡è®¾ç½®padding-topï¼š75%,ç›¸å¯¹æ¯”å®½åº¦çš„75%ï¼Œå› æ­¤è¿™æ ·å°±è®¾ç½®äº†ä¸€ä¸ªé•¿å®½é«˜æ’å®šæ¯”ä¾‹çš„é•¿æ–¹å½¢ï¼Œå…·ä½“æ•ˆæœ ç™¾åˆ†æ¯”å•ä½ç¼ºç‚¹ä»ä¸Šè¿°å¯¹äºç™¾åˆ†æ¯”å•ä½çš„ä»‹ç»æˆ‘ä»¬å¾ˆå®¹æ˜“çœ‹å‡ºå¦‚æœå…¨éƒ¨ä½¿ç”¨ç™¾åˆ†æ¯”å•ä½æ¥å®ç°å“åº”å¼çš„å¸ƒå±€ï¼Œæœ‰æ˜æ˜¾çš„ä»¥ä¸‹ä¸¤ä¸ªç¼ºç‚¹ï¼šï¼ˆ1ï¼‰è®¡ç®—å›°éš¾ï¼Œå¦‚æœæˆ‘ä»¬è¦å®šä¹‰ä¸€ä¸ªå…ƒç´ çš„å®½åº¦å’Œé«˜åº¦ï¼ŒæŒ‰ç…§è®¾è®¡ç¨¿ï¼Œå¿…é¡»æ¢ç®—æˆç™¾åˆ†æ¯”å•ä½ã€‚ï¼ˆ2ï¼‰ä»å°èŠ‚1å¯ä»¥çœ‹å‡ºï¼Œå„ä¸ªå±æ€§ä¸­å¦‚æœä½¿ç”¨ç™¾åˆ†æ¯”ï¼Œç›¸å¯¹çˆ¶å…ƒç´ çš„å±æ€§å¹¶ä¸æ˜¯å”¯ä¸€çš„ã€‚æ¯”å¦‚widthå’Œheightç›¸å¯¹äºçˆ¶å…ƒç´ çš„widthå’Œheightï¼Œè€Œmarginã€paddingä¸ç®¡å‚ç›´è¿˜æ˜¯æ°´å¹³æ–¹å‘éƒ½ç›¸å¯¹æ¯”çˆ¶å…ƒç´ çš„å®½åº¦ã€border-radiusåˆ™æ˜¯ç›¸å¯¹äºå…ƒç´ è‡ªèº«ç­‰ç­‰ï¼Œé€ æˆæˆ‘ä»¬ä½¿ç”¨ç™¾åˆ†æ¯”å•ä½å®¹æ˜“ä½¿å¸ƒå±€é—®é¢˜å˜å¾—å¤æ‚ã€‚ è‡ªé€‚åº”åœºæ™¯ä¸‹çš„remè§£å†³æ–¹æ¡ˆ remå•ä½ é¦–å…ˆæ¥çœ‹ï¼Œä»€ä¹ˆæ˜¯remå•ä½ã€‚remæ˜¯ä¸€ä¸ªçµæ´»çš„ã€å¯æ‰©å±•çš„å•ä½ï¼Œç”±æµè§ˆå™¨è½¬åŒ–åƒç´ å¹¶æ˜¾ç¤ºã€‚ä¸emå•ä½ä¸åŒï¼Œremå•ä½æ— è®ºåµŒå¥—å±‚çº§å¦‚ä½•ï¼Œéƒ½åªç›¸å¯¹äºæµè§ˆå™¨çš„æ ¹å…ƒç´ ï¼ˆHTMLå…ƒç´ ï¼‰çš„font-sizeã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œhtmlå…ƒç´ çš„font-sizeä¸º16pxï¼Œæ‰€ä»¥ï¼š11 rem = 12px ä¸ºäº†è®¡ç®—æ–¹ä¾¿ï¼Œé€šå¸¸å¯ä»¥å°†htmlçš„font-sizeè®¾ç½®æˆï¼š1html&#123; font-size: 62.5% &#125; è¿™ç§æƒ…å†µä¸‹ï¼š11 rem = 10px 2.é€šè¿‡remæ¥å®ç°å“åº”å¼å¸ƒå±€ remå•ä½éƒ½æ˜¯ç›¸å¯¹äºæ ¹å…ƒç´ htmlçš„font-sizeæ¥å†³å®šå¤§å°çš„,æ ¹å…ƒç´ çš„font-sizeç›¸å½“äºæä¾›äº†ä¸€ä¸ªåŸºå‡†ï¼Œå½“é¡µé¢çš„sizeå‘ç”Ÿå˜åŒ–æ—¶ï¼Œåªéœ€è¦æ”¹å˜font-sizeçš„å€¼ï¼Œé‚£ä¹ˆä»¥remä¸ºå›ºå®šå•ä½çš„å…ƒç´ çš„å¤§å°ä¹Ÿä¼šå‘ç”Ÿå“åº”çš„å˜åŒ–ã€‚å› æ­¤ï¼Œå¦‚æœé€šè¿‡remæ¥å®ç°å“åº”å¼çš„å¸ƒå±€ï¼Œåªéœ€è¦æ ¹æ®è§†å›¾å®¹å™¨çš„å¤§å°ï¼ŒåŠ¨æ€çš„æ”¹å˜font-sizeå³å¯ã€‚12345678function refreshRem() &#123; var docEl = doc.documentElement; var width = docEl.getBoundingClientRect().width; var rem = width / 10; docEl.style.fontSize = rem + &apos;px&apos;; flexible.rem = win.rem = rem;&#125;win.addEventListener(&apos;resize&apos;, refreshRem); ä¸Šè¿°ä»£ç ä¸­å°†è§†å›¾å®¹å™¨åˆ†ä¸º10ä»½ï¼Œfont-sizeç”¨ååˆ†ä¹‹ä¸€çš„å®½åº¦æ¥è¡¨ç¤ºï¼Œæœ€ååœ¨headeræ ‡ç­¾ä¸­æ‰§è¡Œè¿™æ®µä»£ç ï¼Œå°±å¯ä»¥åŠ¨æ€å®šä¹‰font-sizeçš„å¤§å°ï¼Œä»è€Œ1remåœ¨ä¸åŒçš„è§†è§‰å®¹å™¨ä¸­è¡¨ç¤ºä¸åŒçš„å¤§å°ï¼Œç”¨remå›ºå®šå•ä½å¯ä»¥å®ç°ä¸åŒå®¹å™¨å†…å¸ƒå±€çš„è‡ªé€‚åº”ã€‚ rem2pxå’Œpx2rem å¦‚æœåœ¨å“åº”å¼å¸ƒå±€ä¸­ä½¿ç”¨remå•ä½ï¼Œé‚£ä¹ˆå­˜åœ¨ä¸€ä¸ªå•ä½æ¢ç®—çš„é—®é¢˜ï¼Œrem2pxè¡¨ç¤ºä»remæ¢ç®—æˆpxï¼Œè¿™ä¸ªå°±ä¸è¯´äº†ï¼Œåªè¦remä¹˜ä»¥ç›¸åº”çš„font-sizeä¸­çš„å¤§å°ï¼Œå°±èƒ½æ¢ç®—æˆpxã€‚æ›´å¤šçš„åº”ç”¨æ˜¯px2remï¼Œè¡¨ç¤ºçš„æ˜¯ä»pxè½¬åŒ–ä¸ºremã€‚ æ¯”å¦‚ç»™å®šçš„è§†è§‰ç¨¿ä¸º750pxï¼ˆç‰©ç†åƒç´ ï¼‰ï¼Œå¦‚æœæˆ‘ä»¬è¦å°†æ‰€æœ‰çš„å¸ƒå±€å•ä½éƒ½ç”¨remæ¥è¡¨ç¤ºï¼Œä¸€ç§æ¯”è¾ƒç¬¨çš„åŠæ³•å°±æ˜¯å¯¹æ‰€æœ‰çš„heightå’Œwidthç­‰å…ƒç´ ï¼Œä¹˜ä»¥ç›¸åº”çš„æ¯”ä¾‹ï¼Œç°å°†è§†è§‰ç¨¿æ¢ç®—æˆremå•ä½ï¼Œç„¶åä¸€ä¸ªä¸ªçš„ç”¨remæ¥è¡¨ç¤ºã€‚å¦ä¸€ç§æ¯”è¾ƒæ–¹ä¾¿çš„è§£å†³æ–¹æ³•å°±æ˜¯ï¼Œåœ¨cssä¸­æˆ‘ä»¬è¿˜æ˜¯ç”¨pxæ¥è¡¨ç¤ºå…ƒç´ çš„å¤§å°ï¼Œæœ€åç¼–å†™å®Œcssä»£ç ä¹‹åï¼Œå°†cssæ–‡ä»¶ä¸­çš„æ‰€æœ‰pxå•ä½ï¼Œè½¬åŒ–æˆremå•ä½ã€‚ px2remçš„åŸç†ä¹Ÿå¾ˆç®€å•ï¼Œé‡ç‚¹åœ¨äºé¢„å¤„ç†ä»¥pxä¸ºå•ä½çš„cssæ–‡ä»¶ï¼Œå¤„ç†åå°†æ‰€æœ‰çš„pxå˜æˆremå•ä½ã€‚å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥å®ç°ï¼š 1ï¼‰ webpack loaderçš„å½¢å¼ï¼š1npm install px2rem-loader åœ¨webpackçš„é…ç½®æ–‡ä»¶ä¸­ï¼š1234567891011121314151617181920module.exports = &#123; // ... module: &#123; rules: [&#123; test: /\\.css$/, use: [&#123; loader: &apos;style-loader&apos; &#125;, &#123; loader: &apos;css-loader&apos; &#125;, &#123; loader: &apos;px2rem-loader&apos;, // options here options: &#123; remUni: 75, remPrecision: 8 &#125; &#125;] &#125;] &#125;&#125; 2ï¼‰webpackä¸­ä½¿ç”¨postcss plugin1npm install postcss-loader åœ¨webpackçš„pluginä¸­:123456789101112131415var px2rem = require(&apos;postcss-px2rem&apos;);module.exports = &#123; module: &#123; loaders: [ &#123; test: /\\.css$/, loader: &quot;style-loader!css-loader!postcss-loader&quot; &#125; ] &#125;, postcss: function() &#123; return [px2rem(&#123;remUnit: 75&#125;)]; &#125;&#125; rem å¸ƒå±€åº”ç”¨ä¸¾ä¾‹ ç½‘æ˜“æ–°é—»çš„ç§»åŠ¨ç«¯é¡µé¢ä½¿ç”¨äº†remå¸ƒå±€ï¼Œå…·ä½“ä¾‹å­å¦‚ä¸‹ï¼š rem å¸ƒå±€çš„ç¼ºç‚¹ é€šè¿‡remå•ä½ï¼Œå¯ä»¥å®ç°å“åº”å¼çš„å¸ƒå±€ï¼Œç‰¹åˆ«æ˜¯å¼•å…¥ç›¸åº”çš„postcssç›¸å…³æ’ä»¶ï¼Œå…å»äº†è®¾è®¡ç¨¿ä¸­çš„pxåˆ°remçš„è®¡ç®—ã€‚remå•ä½åœ¨å›½å¤–çš„ä¸€äº›ç½‘ç«™ä¹Ÿæœ‰ä½¿ç”¨ï¼Œè¿™é‡Œæ‰€è¯´çš„remæ¥å®ç°å¸ƒå±€çš„ç¼ºç‚¹ï¼Œæˆ–è€…è¯´æ˜¯å°ç¼ºé™·æ˜¯ï¼š åœ¨å“åº”å¼å¸ƒå±€ä¸­ï¼Œå¿…é¡»é€šè¿‡jsæ¥åŠ¨æ€æ§åˆ¶æ ¹å…ƒç´ font-sizeçš„å¤§å°ã€‚ ä¹Ÿå°±æ˜¯è¯´cssæ ·å¼å’Œjsä»£ç æœ‰ä¸€å®šçš„è€¦åˆæ€§ã€‚ä¸”å¿…é¡»å°†æ”¹å˜font-sizeçš„ä»£ç æ”¾åœ¨cssæ ·å¼ä¹‹å‰ã€‚ é€šè¿‡vw/vhæ¥å®ç°è‡ªé€‚åº” ä»€ä¹ˆæ˜¯vw/vh ? css3ä¸­å¼•å…¥äº†ä¸€ä¸ªæ–°çš„å•ä½vw/vhï¼Œä¸è§†å›¾çª—å£æœ‰å…³ï¼Œvwè¡¨ç¤ºç›¸å¯¹äºè§†å›¾çª—å£çš„å®½åº¦ï¼Œvhè¡¨ç¤ºç›¸å¯¹äºè§†å›¾çª—å£é«˜åº¦ï¼Œé™¤äº†vwå’Œvhå¤–ï¼Œè¿˜æœ‰vminå’Œvmaxä¸¤ä¸ªç›¸å…³çš„å•ä½ã€‚å„ä¸ªå•ä½å…·ä½“çš„å«ä¹‰å¦‚ä¸‹ï¼š å•ä½ å«ä¹‰ vw ç›¸å¯¹äºè§†çª—çš„å®½åº¦ï¼Œè§†çª—å®½åº¦æ˜¯100vw vh ç›¸å¯¹äºè§†çª—çš„é«˜åº¦ï¼Œè§†çª—é«˜åº¦æ˜¯100vh vmin vwå’Œvhä¸­çš„è¾ƒå°å€¼ vmax vwå’Œvhä¸­çš„è¾ƒå¤§å€¼ è¿™é‡Œæˆ‘ä»¬å‘ç°è§†çª—å®½é«˜éƒ½æ˜¯100vwï¼100vhï¼Œé‚£ä¹ˆvwæˆ–è€…vhï¼Œä¸‹ç®€ç§°vwï¼Œå¾ˆç±»ä¼¼ç™¾åˆ†æ¯”å•ä½ã€‚vwå’Œ%çš„åŒºåˆ«ä¸ºï¼š å•ä½ å«ä¹‰ % å¤§éƒ¨åˆ†ç›¸å¯¹äºç¥–å…ˆå…ƒç´ ï¼Œä¹Ÿæœ‰ç›¸å¯¹äºè‡ªèº«çš„æƒ…å†µæ¯”å¦‚ï¼ˆborder-radiusã€translateç­‰) vw/vh ç›¸å¯¹äºè§†çª—çš„å°ºå¯¸ ä»å¯¹æ¯”ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œvwå•ä½ä¸ç™¾åˆ†æ¯”ç±»ä¼¼ï¼Œå•ç¡®æœ‰åŒºåˆ«ï¼Œå‰é¢æˆ‘ä»¬ä»‹ç»äº†ç™¾åˆ†æ¯”å•ä½çš„æ¢ç®—å›°éš¾ï¼Œè¿™é‡Œçš„vwæ›´åƒâ€ç†æƒ³çš„ç™¾åˆ†æ¯”å•ä½â€ã€‚ä»»æ„å±‚çº§å…ƒç´ ï¼Œåœ¨ä½¿ç”¨vwå•ä½çš„æƒ…å†µä¸‹ï¼Œ1vwéƒ½ç­‰äºè§†å›¾å®½åº¦çš„ç™¾åˆ†ä¹‹ä¸€ã€‚ vwå•ä½æ¢ç®— åŒæ ·çš„ï¼Œå¦‚æœè¦å°†pxæ¢ç®—æˆvwå•ä½ï¼Œå¾ˆç®€å•ï¼Œåªè¦ç¡®å®šè§†å›¾çš„çª—å£å¤§å°ï¼ˆå¸ƒå±€è§†å£ï¼‰ï¼Œå¦‚æœæˆ‘ä»¬å°†å¸ƒå±€è§†å£è®¾ç½®æˆåˆ†è¾¨ç‡å¤§å°ï¼Œæ¯”å¦‚å¯¹äºiphone6/7 375*667çš„åˆ†è¾¨ç‡ï¼Œé‚£ä¹ˆpxå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼æ¢ç®—æˆvwï¼š11px = ï¼ˆ1/375ï¼‰*100 vw æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡postcssçš„ç›¸åº”æ’ä»¶ï¼Œé¢„å¤„ç†cssåšä¸€ä¸ªè‡ªåŠ¨çš„è½¬æ¢ï¼Œpostcss-px-to-viewportå¯ä»¥è‡ªåŠ¨å°†pxè½¬åŒ–æˆvwã€‚postcss-px-to-viewportçš„é»˜è®¤å‚æ•°ä¸ºï¼š123456789var defaults = &#123; viewportWidth: 320, viewportHeight: 568, unitPrecision: 5, viewportUnit: &apos;vw&apos;, selectorBlackList: [], minPixelValue: 1, mediaQuery: false&#125;; é€šè¿‡æŒ‡å®šè§†çª—çš„å®½åº¦å’Œé«˜åº¦ï¼Œä»¥åŠæ¢ç®—ç²¾åº¦ï¼Œå°±èƒ½å°†pxè½¬åŒ–æˆvwã€‚ vw/vhå•ä½çš„å…¼å®¹æ€§å¯ä»¥åœ¨https://caniuse.com/ æŸ¥çœ‹å„ä¸ªç‰ˆæœ¬çš„æµè§ˆå™¨å¯¹vwå•ä½çš„æ”¯æŒæ€§ã€‚ä»ä¸Šå›¾æˆ‘ä»¬å‘ç°ï¼Œç»å¤§å¤šæ•°çš„æµè§ˆå™¨æ”¯æŒvwå•ä½ï¼Œä½†æ˜¯ie9-11ä¸æ”¯æŒvminå’Œvmaxï¼Œè€ƒè™‘åˆ°vminå’Œvmaxå•ä½ä¸å¸¸ç”¨ï¼Œvwå•ä½åœ¨ç»å¤§éƒ¨åˆ†é«˜ç‰ˆæœ¬æµè§ˆå™¨å†…çš„æ”¯æŒæ€§å¾ˆå¥½ï¼Œä½†æ˜¯operaæµè§ˆå™¨æ•´ä½“ä¸æ”¯æŒvwå•ä½ï¼Œå¦‚æœéœ€è¦å…¼å®¹operaæµè§ˆå™¨çš„å¸ƒå±€ï¼Œä¸æ¨èä½¿ç”¨vwã€‚ å°ç»“æœ¬æ–‡ä»‹ç»åœ¨å¸ƒå±€ä¸­å¸¸ç”¨çš„å•ä½ï¼Œæ¯”å¦‚pxã€%ã€remå’Œvwç­‰ç­‰ï¼Œä»¥åŠä¸åŒçš„å•ä½åœ¨å“åº”å¼å¸ƒå±€ä¸­çš„ä¼˜ç¼ºç‚¹ã€‚ ç”»ä¸€æ¡0.5pxçš„çº¿ é‡‡ç”¨meta viewportçš„æ–¹å¼ é‡‡ç”¨ border-imageçš„æ–¹å¼ é‡‡ç”¨transform: scale()çš„æ–¹å¼ linkæ ‡ç­¾å’Œimportæ ‡ç­¾çš„åŒºåˆ« linkå±äºhtmlæ ‡ç­¾ï¼Œè€Œ@importæ˜¯cssæä¾›çš„ é¡µé¢è¢«åŠ è½½æ—¶ï¼Œlinkä¼šåŒæ—¶è¢«åŠ è½½ï¼Œè€Œ@importå¼•ç”¨çš„cssä¼šç­‰åˆ°é¡µé¢åŠ è½½ç»“æŸååŠ è½½ã€‚ linkæ˜¯htmlæ ‡ç­¾ï¼Œå› æ­¤æ²¡æœ‰å…¼å®¹æ€§ï¼Œè€Œ@importåªæœ‰IE5ä»¥ä¸Šæ‰èƒ½è¯†åˆ«ã€‚ linkæ–¹å¼æ ·å¼çš„æƒé‡é«˜äº@importçš„ã€‚ transitionå’Œanimationçš„åŒºåˆ«Animationå’Œtransitionå¤§éƒ¨åˆ†å±æ€§æ˜¯ç›¸åŒçš„ï¼Œä»–ä»¬éƒ½æ˜¯éšæ—¶é—´æ”¹å˜å…ƒç´ çš„å±æ€§å€¼ï¼Œä»–ä»¬çš„ä¸»è¦åŒºåˆ«æ˜¯transitionéœ€è¦è§¦å‘ä¸€ä¸ªäº‹ä»¶æ‰èƒ½æ”¹å˜å±æ€§ï¼Œè€Œanimationä¸éœ€è¦è§¦å‘ä»»ä½•äº‹ä»¶çš„æƒ…å†µä¸‹æ‰ä¼šéšæ—¶é—´æ”¹å˜å±æ€§å€¼ï¼Œå¹¶ä¸”transitionä¸º2å¸§ï¼Œä»from â€¦. toï¼Œè€Œanimationå¯ä»¥ä¸€å¸§ä¸€å¸§çš„ã€‚ Flexå¸ƒå±€æ–‡ç« é“¾æ¥ï¼šhttp://www.ruanyifeng.com/blog/2015/07/flex-grammar.html?utm_source=tuicoolï¼ˆè¯­æ³•ç¯‡ï¼‰http://www.ruanyifeng.com/blog/2015/07/flex-examples.htmlï¼ˆå®ä¾‹ç¯‡ï¼‰ Flexæ˜¯Flexible Boxçš„ç¼©å†™ï¼Œæ„ä¸ºâ€å¼¹æ€§å¸ƒå±€â€ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚å¸ƒå±€çš„ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆï¼ŒåŸºäºç›’çŠ¶æ¨¡å‹ï¼Œä¾èµ– displayå±æ€§ + positionå±æ€§ + floatå±æ€§ã€‚å®ƒå¯¹äºé‚£äº›ç‰¹æ®Šå¸ƒå±€éå¸¸ä¸æ–¹ä¾¿ï¼Œæ¯”å¦‚ï¼Œå‚ç›´å±…ä¸­å°±ä¸å®¹æ˜“å®ç°ã€‚ ç®€å•çš„åˆ†ä¸ºå®¹å™¨å±æ€§å’Œå…ƒç´ å±æ€§å®¹å™¨çš„å±æ€§ï¼š flex-directionï¼šå†³å®šä¸»è½´çš„æ–¹å‘ï¼ˆå³å­itemçš„æ’åˆ—æ–¹æ³•ï¼‰.box {flex-direction: row | row-reverse | column | column-reverse;}flex-wrapï¼šå†³å®šæ¢è¡Œè§„åˆ™.box{flex-wrap: nowrap | wrap | wrap-reverse;}flex-flowï¼š.box {flex-flow: || ;}justify-contentï¼šå¯¹å…¶æ–¹å¼ï¼Œæ°´å¹³ä¸»è½´å¯¹é½æ–¹å¼align-itemsï¼šå¯¹é½æ–¹å¼ï¼Œç«–ç›´è½´çº¿æ–¹å‘é¡¹ç›®çš„å±æ€§ï¼ˆå…ƒç´ çš„å±æ€§ï¼‰ï¼š orderå±æ€§ï¼šå®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºï¼Œé¡ºåºè¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0flex-growå±æ€§ï¼šå®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œå³ä½¿å­˜åœ¨ç©ºé—´ï¼Œä¹Ÿä¸ä¼šæ”¾å¤§flex-shrinkå±æ€§ï¼šå®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œå½“ç©ºé—´ä¸è¶³çš„æƒ…å†µä¸‹ä¼šç­‰æ¯”ä¾‹çš„ç¼©å°ï¼Œå¦‚æœå®šä¹‰ä¸ªitemçš„flow-shrinkä¸º0ï¼Œåˆ™ä¸ºä¸ç¼©å°flex-basiså±æ€§ï¼šå®šä¹‰äº†åœ¨åˆ†é…å¤šä½™çš„ç©ºé—´ï¼Œé¡¹ç›®å æ®çš„ç©ºé—´ã€‚flexï¼šæ˜¯flex-growå’Œflex-shrinkã€flex-basisçš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º0 1 autoã€‚align-selfï¼šå…è®¸å•ä¸ªé¡¹ç›®ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯ä»¥è¦†ç›–align-itemsï¼Œé»˜è®¤å±æ€§ä¸ºautoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„align-itemsæ¯”å¦‚è¯´ï¼Œç”¨flexå®ç°åœ£æ¯å¸ƒå±€ BFCï¼ˆå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œç”¨äºæ¸…é™¤æµ®åŠ¨ï¼Œé˜²æ­¢marginé‡å ç­‰ï¼‰ç›´è¯‘æˆï¼šå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸï¼Œå¹¶ä¸”æœ‰ä¸€å®šçš„å¸ƒå±€è§„åˆ™ã€‚ BFCåŒºåŸŸä¸ä¼šä¸float boxé‡å BFCæ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªç‹¬ç«‹å®¹å™¨ï¼Œå­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿä¼šå‚ä¸è®¡ç®—å“ªäº›å…ƒç´ ä¼šç”ŸæˆBFCï¼š æ ¹å…ƒç´  floatä¸ä¸ºnoneçš„å…ƒç´  positionä¸ºfixedå’Œabsoluteçš„å…ƒç´  displayä¸ºinline-blockã€table-cellã€table-captionï¼Œflexï¼Œinline-flexçš„å…ƒç´  overflowä¸ä¸ºvisibleçš„å…ƒç´  BFCå®šä¹‰ 1ã€ boxboxæ˜¯csså¸ƒå±€çš„åŸºæœ¬å•ä½ï¼Œå…ƒç´ çš„ç±»å‹å’Œdisplayå±æ€§å†³å®šäº†boxçš„ç±»å‹ã€‚ä¸åŒçš„ç±»å‹çš„ç›’å­ä¼šå‚ä¸ä¸åŒçš„formatting contextã€‚block-level box :displayå±æ€§ä¸ºblockã€list-item(ä½œä¸ºåˆ—è¡¨æ˜¾ç¤ºçš„å…ƒç´ )ã€tableçš„å…ƒç´ ä¼šç”Ÿæˆblock-level boxã€‚2ã€formatting contextå®ƒæ˜¯é¡µé¢ä¸­çš„ä¸€å—æ¸²æŸ“åŒºåŸŸï¼Œå¹¶ä¸”æœ‰ä¸€å¥—æ¸²æŸ“è§„åˆ™ï¼Œå®ƒå†³å®šäº†å…¶å­å…ƒç´ å°†å¦‚ä½•å®šä½ï¼Œä»¥åŠå’Œå…¶ä»–å…ƒç´ çš„å…³ç³»å’Œç›¸äº’ä½œç”¨ BFCï¼ˆblock formatting contextï¼‰ä¸ºå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œä»–æ˜¯ä¸€ä¸ªç‹¬ç«‹æ¸²æŸ“åŒºåŸŸï¼Œå¹¶ä¸”åªæœ‰block-level boxå‚ä¸ï¼Œè§„å®šäº†block-level boxå†…éƒ¨çš„å¸ƒå±€æ–¹å¼ã€‚ å¸ƒå±€è§„åˆ™ 1ã€å†…éƒ¨çš„boxä¼šåœ¨å‚ç›´æ–¹å‘ä¸Šä¸€ä¸ªæ¥ä¸€ä¸ªçš„æ”¾ç½® 12&lt;div class=\"div1\"&gt;&lt;/div&gt;&lt;div class=\"div2\"&gt;&lt;/div&gt; 2ã€åŒä¸€ä¸ªbfcå†…ï¼Œä¸¤ä¸ªç›¸é‚»boxå…ƒç´ çš„marginä¼šäº§ç”Ÿé‡å ï¼Œé‡å è·ç¦»ä¸ºæ•°å€¼å¤§çš„marginå€¼ç»™div1è®¾ç½®margin: 20px 0,ç»™div2è®¾ç½®margin: 30px 0,æ­¤æ—¶div1å’Œdiv2ä¹‹é—´çš„é—´è·ä¸º30pxã€‚ è§£å†³æ–¹å¼ è®©ä¸¤ä¸ªå…ƒç´ ä¸å±äºåŒä¸€ä¸ªBFC3ã€BFCåŒºåŸŸä¸ä¼šä¸æµ®åŠ¨å…ƒç´ é‡å 12&lt;div class=\"left\"&gt;&lt;/div&gt;&lt;div class=\"main\"&gt;&lt;/div&gt; æ­¤æ—¶mainå…ƒç´ æ²¡æœ‰äº§ç”Ÿbfc,leftå…ƒç´ æµ®åŠ¨ï¼Œæ•ˆæœå¦‚ä¸‹ï¼šç»™mainå…ƒç´ è®¾ç½®overflow:hiddenå˜ä¸ºbfc,æ•ˆæœå¦‚ä¸‹ï¼š 4ã€è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®— 5ã€æ¯ä¸ªå…ƒç´ çš„margin boxçš„å·¦è¾¹ï¼Œ ä¸ åŒ…å«å— border boxçš„å·¦è¾¹ç›¸æ¥è§¦(å¯¹äºä»å·¦å¾€å³çš„æ ¼å¼åŒ–ï¼Œå¦åˆ™ç›¸å)ã€‚å³ä½¿å­˜åœ¨æµ®åŠ¨ä¹Ÿæ˜¯å¦‚æ­¤ 6ã€BFCå°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´  3ã€äº§ç”ŸBFCçš„æ–¹å¼ 1ã€overflowå±æ€§ä¸æ˜¯visible 2ã€floatå±æ€§ä¸ä¸ºnone 3ã€displayå±æ€§ä¸ºinline-blockã€table-cellã€flexã€inline-flexã€table-caption 4ã€positionä¸ºabsoluteã€fixed 5ã€bodyæ ¹å…ƒç´  å…³äºjsåŠ¨ç”»å’Œcss3åŠ¨ç”»çš„å·®å¼‚æ€§æ¸²æŸ“çº¿ç¨‹åˆ†ä¸ºmain threadå’Œcompositor threadï¼Œå¦‚æœcssåŠ¨ç”»åªæ”¹å˜transformå’Œopacityï¼Œè¿™æ—¶æ•´ä¸ªCSSåŠ¨ç”»å¾—ä»¥åœ¨compositor trheadå®Œæˆï¼ˆè€ŒjsåŠ¨ç”»åˆ™ä¼šåœ¨main threadæ‰§è¡Œï¼Œç„¶åå‡ºå‘compositor threadè¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œï¼‰ï¼Œç‰¹åˆ«æ³¨æ„çš„æ˜¯å¦‚æœæ”¹å˜transformå’Œopacityæ˜¯ä¸ä¼šlayoutæˆ–è€…paintçš„ã€‚åŒºåˆ«ï¼š åŠŸèƒ½æ¶µç›–é¢ï¼Œjsæ¯”csså¤§ å®ç°/é‡æ„éš¾åº¦ä¸ä¸€ï¼ŒCSS3æ¯”jsæ›´åŠ ç®€å•ï¼Œæ€§èƒ½è·³ä¼˜æ–¹å‘å›ºå®š å¯¹å¸§é€Ÿè¡¨ç°ä¸å¥½çš„ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼Œcss3å¯ä»¥åšåˆ°è‡ªç„¶é™çº§ cssåŠ¨ç”»æœ‰å¤©ç„¶äº‹ä»¶æ”¯æŒ css3æœ‰å…¼å®¹æ€§é—®é¢˜ å—å…ƒç´ å’Œè¡Œå…ƒç´ HTMLå¯ä»¥å°†å…ƒç´ åˆ†ç±»æ–¹å¼åˆ†ä¸ºè¡Œå†…å…ƒç´ ã€å—çŠ¶å…ƒç´ å’Œè¡Œå†…å—çŠ¶å…ƒç´ ä¸‰ç§ã€‚é¦–å…ˆéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè¿™ä¸‰è€…æ˜¯å¯ä»¥äº’ç›¸è½¬æ¢çš„ï¼Œä½¿ç”¨displayå±æ€§èƒ½å¤Ÿå°†ä¸‰è€…ä»»æ„è½¬æ¢ï¼š (1)display:inline;è½¬æ¢ä¸ºè¡Œå†…å…ƒç´  (2)display:block;è½¬æ¢ä¸ºå—çŠ¶å…ƒç´  (3)display:inline-block;è½¬æ¢ä¸ºè¡Œå†…å—çŠ¶å…ƒç´ å—å…ƒç´ ï¼šç‹¬å ä¸€è¡Œï¼Œå¹¶ä¸”æœ‰è‡ªåŠ¨å¡«æ»¡çˆ¶å…ƒç´ ï¼Œå¯ä»¥è®¾ç½®marginå’Œpadingä»¥åŠé«˜åº¦å’Œå®½åº¦è¡Œå…ƒç´ ï¼šä¸ä¼šç‹¬å ä¸€è¡Œï¼Œwidthå’Œheightä¼šå¤±æ•ˆï¼Œå¹¶ä¸”åœ¨å‚ç›´æ–¹å‘çš„paddingå’Œmarginä¼šå¤±æ•ˆã€‚1.å—çŠ¶å…ƒç´  å—çŠ¶å…ƒç´ ä»£è¡¨æ€§çš„å°±æ˜¯divï¼Œå…¶ä»–å¦‚pã€navã€asideã€headerã€footerã€sectionã€articleã€ul-liã€addressç­‰ç­‰ï¼Œéƒ½å¯ä»¥ç”¨divæ¥å®ç°ã€‚ä¸è¿‡ä¸ºäº†å¯ä»¥æ–¹ä¾¿ç¨‹åºå‘˜è§£è¯»ä»£ç ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ç‰¹å®šçš„è¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œä½¿å¾—ä»£ç å¯è¯»æ€§å¼ºï¼Œä¸”ä¾¿äºæŸ¥é”™ã€‚ å—çŠ¶å…ƒç´ ç‰¹å¾ï¼š(1)èƒ½å¤Ÿè¯†åˆ«å®½é«˜ (2)marginå’Œpaddingçš„ä¸Šä¸‹å·¦å³å‡å¯¹å…¶æœ‰æ•ˆ (3)å¯ä»¥è‡ªåŠ¨æ¢è¡Œ (4)å¤šä¸ªå—çŠ¶å…ƒç´ æ ‡ç­¾å†™åœ¨ä¸€èµ·ï¼Œé»˜è®¤æ’åˆ—æ–¹å¼ä¸ºä»ä¸Šè‡³ä¸‹2.å—çŠ¶å…ƒç´  å—çŠ¶å…ƒç´ ä»£è¡¨æ€§çš„å°±æ˜¯divï¼Œå…¶ä»–å¦‚pã€navã€asideã€headerã€footerã€sectionã€articleã€ul-liã€addressç­‰ç­‰ï¼Œéƒ½å¯ä»¥ç”¨divæ¥å®ç°ã€‚ä¸è¿‡ä¸ºäº†å¯ä»¥æ–¹ä¾¿ç¨‹åºå‘˜è§£è¯»ä»£ç ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ç‰¹å®šçš„è¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œä½¿å¾—ä»£ç å¯è¯»æ€§å¼ºï¼Œä¸”ä¾¿äºæŸ¥é”™ã€‚ å—çŠ¶å…ƒç´ ç‰¹å¾ï¼š(1)èƒ½å¤Ÿè¯†åˆ«å®½é«˜ (2)marginå’Œpaddingçš„ä¸Šä¸‹å·¦å³å‡å¯¹å…¶æœ‰æ•ˆ (3)å¯ä»¥è‡ªåŠ¨æ¢è¡Œ (4)å¤šä¸ªå—çŠ¶å…ƒç´ æ ‡ç­¾å†™åœ¨ä¸€èµ·ï¼Œé»˜è®¤æ’åˆ—æ–¹å¼ä¸ºä»ä¸Šè‡³ä¸‹3.è¡Œå†…å—çŠ¶å…ƒç´  è¡Œå†…å—çŠ¶å…ƒç´ ç»¼åˆäº†è¡Œå†…å…ƒç´ å’Œå—çŠ¶å…ƒç´ çš„ç‰¹æ€§ï¼Œä½†æ˜¯å„æœ‰å–èˆã€‚å› æ­¤è¡Œå†…å—çŠ¶å…ƒç´ åœ¨æ—¥å¸¸çš„ä½¿ç”¨ä¸­ï¼Œç”±äºå…¶ç‰¹æ€§ï¼Œä½¿ç”¨çš„æ¬¡æ•°ä¹Ÿæ¯”è¾ƒå¤šã€‚ è¡Œå†…å—çŠ¶å…ƒç´ ç‰¹å¾ï¼š(1)ä¸è‡ªåŠ¨æ¢è¡Œ (2)èƒ½å¤Ÿè¯†åˆ«å®½é«˜ (3)é»˜è®¤æ’åˆ—æ–¹å¼ä¸ºä»å·¦åˆ°å³ å¤šè¡Œå…ƒç´ çš„æ–‡æœ¬çœç•¥å·1234display: -webkit-box-webkit-box-orient:vertical-webkit-line-clamp:3overflow:hidden visibility=hidden, opacity=0ï¼Œdisplay:noneopacity=0ï¼Œè¯¥å…ƒç´ éšè—èµ·æ¥äº†ï¼Œä½†ä¸ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œå¹¶ä¸”ï¼Œå¦‚æœè¯¥å…ƒç´ å·²ç»ç»‘å®šä¸€äº›äº‹ä»¶ï¼Œå¦‚clickäº‹ä»¶ï¼Œé‚£ä¹ˆç‚¹å‡»è¯¥åŒºåŸŸï¼Œä¹Ÿèƒ½è§¦å‘ç‚¹å‡»äº‹ä»¶çš„visibility=hiddenï¼Œè¯¥å…ƒç´ éšè—èµ·æ¥äº†ï¼Œä½†ä¸ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œä½†æ˜¯ä¸ä¼šè§¦å‘è¯¥å…ƒç´ å·²ç»ç»‘å®šçš„äº‹ä»¶display=noneï¼ŒæŠŠå…ƒç´ éšè—èµ·æ¥ï¼Œå¹¶ä¸”ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œå¯ä»¥ç†è§£æˆåœ¨é¡µé¢ä¸­æŠŠè¯¥å…ƒç´ åˆ é™¤æ‰ä¸€æ ·ã€‚ åŒè¾¹è·é‡å é—®é¢˜ï¼ˆå¤–è¾¹è·æŠ˜å ï¼‰å¤šä¸ªç›¸é‚»ï¼ˆå…„å¼Ÿæˆ–è€…çˆ¶å­å…³ç³»ï¼‰æ™®é€šæµçš„å—å…ƒç´ å‚ç›´æ–¹å‘mariginä¼šé‡å  æŠ˜å çš„ç»“æœä¸ºï¼š ä¸¤ä¸ªç›¸é‚»çš„å¤–è¾¹è·éƒ½æ˜¯æ­£æ•°æ—¶ï¼ŒæŠ˜å ç»“æœæ˜¯å®ƒä»¬ä¸¤è€…ä¹‹é—´è¾ƒå¤§çš„å€¼ã€‚ä¸¤ä¸ªç›¸é‚»çš„å¤–è¾¹è·éƒ½æ˜¯è´Ÿæ•°æ—¶ï¼ŒæŠ˜å ç»“æœæ˜¯ä¸¤è€…ç»å¯¹å€¼çš„è¾ƒå¤§å€¼ã€‚ä¸¤ä¸ªå¤–è¾¹è·ä¸€æ­£ä¸€è´Ÿæ—¶ï¼ŒæŠ˜å ç»“æœæ˜¯ä¸¤è€…çš„ç›¸åŠ çš„å’Œã€‚ position static é»˜è®¤ã€‚ä½ç½®è®¾ç½®ä¸º static çš„å…ƒç´ ï¼Œå®ƒå§‹ç»ˆä¼šå¤„äºé¡µé¢æµç»™äºˆçš„ä½ç½®ï¼ˆstatic å…ƒç´ ä¼šå¿½ç•¥ä»»ä½• topã€bottomã€left æˆ– right å£°æ˜ï¼‰ã€‚ relative ä½ç½®è¢«è®¾ç½®ä¸º relative çš„å…ƒç´ ï¼Œå¯å°†å…¶ç§»è‡³ç›¸å¯¹äºå…¶æ­£å¸¸ä½ç½®çš„åœ°æ–¹ï¼Œå› æ­¤ â€œleft:20â€ ä¼šå°†å…ƒç´ ç§»è‡³å…ƒç´ æ­£å¸¸ä½ç½®å·¦è¾¹ 20 ä¸ªåƒç´ çš„ä½ç½®ã€‚ absolute ä½ç½®è®¾ç½®ä¸º absolute çš„å…ƒç´ ï¼Œå¯å®šä½äºç›¸å¯¹äºåŒ…å«å®ƒçš„å…ƒç´ çš„æŒ‡å®šåæ ‡ã€‚æ­¤å…ƒç´ çš„ä½ç½®å¯é€šè¿‡ â€œleftâ€ã€â€topâ€ã€â€rightâ€ ä»¥åŠ â€œbottomâ€ å±æ€§æ¥è§„å®šã€‚ fixed ä½ç½®è¢«è®¾ç½®ä¸º fixed çš„å…ƒç´ ï¼Œå¯å®šä½äºç›¸å¯¹äºæµè§ˆå™¨çª—å£çš„æŒ‡å®šåæ ‡ã€‚æ­¤å…ƒç´ çš„ä½ç½®å¯é€šè¿‡ â€œleftâ€ã€â€topâ€ã€â€rightâ€ ä»¥åŠâ€bottomâ€ å±æ€§æ¥è§„å®šã€‚ä¸è®ºçª—å£æ»šåŠ¨ä¸å¦ï¼Œå…ƒç´ éƒ½ä¼šç•™åœ¨é‚£ä¸ªä½ç½®ã€‚å·¥ä½œäº IE7ï¼ˆstrict æ¨¡å¼ï¼‰ã€‚ sticky åŸºäºç”¨æˆ·çš„æ»šåŠ¨ä½ç½®æ¥å®šä½ã€‚ç²˜æ€§å®šä½çš„å…ƒç´ æ˜¯ä¾èµ–äºç”¨æˆ·çš„æ»šåŠ¨ï¼Œåœ¨position:relative ä¸ position:fixedå®šä½ä¹‹é—´åˆ‡æ¢ã€‚å®ƒçš„è¡Œä¸ºå°±åƒposition:relative;è€Œå½“é¡µé¢æ»šåŠ¨è¶…å‡ºç›®æ ‡åŒºåŸŸæ—¶ï¼Œå®ƒçš„è¡¨ç°å°±åƒ position:fixed;ï¼Œå®ƒä¼šå›ºå®šåœ¨ç›®æ ‡ä½ç½®ã€‚å…ƒç´ å®šä½è¡¨ç°ä¸ºåœ¨è·¨è¶Šç‰¹å®šé˜ˆå€¼å‰ä¸ºç›¸å¯¹å®šä½ï¼Œä¹‹åä¸ºå›ºå®šå®šä½ã€‚ animationè¯­æ³•1@keyframes animationname &#123;keyframes-selector &#123;css-styles;&#125;&#125; ä¸‹é¢çš„è¡¨æ ¼åˆ—å‡ºäº† @keyframes è§„åˆ™å’Œæ‰€æœ‰åŠ¨ç”»å±æ€§ï¼š å±æ€§ æè¿° CSS @keyframes è§„å®šåŠ¨ç”»ã€‚ 3 animation æ‰€æœ‰åŠ¨ç”»å±æ€§çš„ç®€å†™å±æ€§ï¼Œé™¤äº† animation-play-state å±æ€§ã€‚ 3 animation-name è§„å®š @keyframes åŠ¨ç”»çš„åç§°ã€‚ 3 animation-duration è§„å®šåŠ¨ç”»å®Œæˆä¸€ä¸ªå‘¨æœŸæ‰€èŠ±è´¹çš„ç§’æˆ–æ¯«ç§’ã€‚é»˜è®¤æ˜¯ 0ã€‚ 3 animation-timing-function è§„å®šåŠ¨ç”»çš„é€Ÿåº¦æ›²çº¿ã€‚é»˜è®¤æ˜¯ â€œeaseâ€ã€‚ 3 animation-delay è§„å®šåŠ¨ç”»ä½•æ—¶å¼€å§‹ã€‚é»˜è®¤æ˜¯ 0ã€‚ 3 animation-iteration-count è§„å®šåŠ¨ç”»è¢«æ’­æ”¾çš„æ¬¡æ•°ã€‚é»˜è®¤æ˜¯ 1ã€‚ 3 animation-direction è§„å®šåŠ¨ç”»æ˜¯å¦åœ¨ä¸‹ä¸€å‘¨æœŸé€†å‘åœ°æ’­æ”¾ã€‚é»˜è®¤æ˜¯ â€œnormalâ€ã€‚ 3 animation-play-state è§„å®šåŠ¨ç”»æ˜¯å¦æ­£åœ¨è¿è¡Œæˆ–æš‚åœã€‚é»˜è®¤æ˜¯ â€œrunningâ€ã€‚ 3 animation-fill-mode è§„å®šå¯¹è±¡åŠ¨ç”»æ—¶é—´ä¹‹å¤–çš„çŠ¶æ€ã€‚ 3 ä¼ªå…ƒç´ ä¼ªç±» css3ä¸ºäº†åŒºåˆ†ä¼ªç±»å’Œä¼ªå…ƒç´ ï¼Œä¼ªå…ƒç´ é‡‡ç”¨åŒå†’å·å†™æ³•ã€‚ ä¼ªç±» â€“ :hover, :link, :active, :visited, :first-child, :last-child, nth-child(n), :not(), :focusä¼ªå…ƒç´  â€“ ::before, ::after, ::first-letter, ::first-line, ::selection å®šä¹‰: ä¼ªç±»ï¼šç”¨äºå‘æŸäº›é€‰æ‹©å™¨æ·»åŠ ç‰¹æ®Šçš„æ•ˆæœä¼ªå…ƒç´ ï¼šç”¨äºå°†ç‰¹æ®Šçš„æ•ˆæœæ·»åŠ åˆ°æŸäº›é€‰æ‹©å™¨ åŒºåˆ« ä¾‹å­æ¥ç†è§£1234&lt;p&gt; &lt;em&gt;This&lt;/em&gt; &lt;em&gt;is a text&lt;/em&gt;&lt;/p&gt; å¦‚æœæˆ‘ä»¬æƒ³è¦ç¬¬ä¸€ä¸ªemæ ‡ç­¾å­—ä½“é¢œè‰²å˜çº¢æ€ä¹ˆåšå‘¢ä½¿ç”¨æˆ‘ä»¬ç†Ÿæ‚‰çš„ä¼ªç±»å¾ˆç®€å•123em:first-child &#123; color: red;&#125; ä½†æ˜¯å¦‚æœä¸å­˜åœ¨ä¼ªç±»æˆ‘ä»¬æ€ä¹ˆåšå‘¢è¿™æ˜¯æˆ‘ä»¬å°±éœ€è¦ä¸ºç¬¬ä¸€ä¸ªemæ ‡ç­¾æ·»åŠ ç±»12345678&lt;p&gt; &lt;em class=&quot;first-child&quot;&gt;This&lt;/em&gt; &lt;em&gt;is a text&lt;/em&gt;&lt;/p&gt;em.first-child &#123; color: red;&#125; å¯ä»¥å®ç°åŒæ ·çš„æ•ˆæœ1234&lt;p&gt; &lt;em&gt;This&lt;/em&gt; &lt;em&gt;is a text&lt;/em&gt;&lt;/p&gt; è¿˜æ˜¯è¿™ä¸ªä¾‹å­ç°åœ¨æˆ‘æƒ³è®©è¿™ä¸ªæ®µè½çš„ç¬¬ä¸€ä¸ªå­—æ¯å˜çº¢ è¿™å›æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¼ªå…ƒç´ 123p::first-letter &#123; color: red;&#125; åŒæ ·å‡è®¾ä¼ªå…ƒç´ ä¸å­˜åœ¨çš„æƒ…å†µè¿™æ—¶æˆ‘ä»¬åªèƒ½åµŒå¥—spanæ ‡ç­¾æ¥å®ç°12345678&lt;p&gt; &lt;em&gt;&lt;span&gt;T&lt;/span&gt;his&lt;/em&gt; &lt;em&gt;is a text&lt;/em&gt;&lt;/p&gt;p span &#123; color: red;&#125; çœ‹åˆ°è¿™é‡Œï¼Œç›¸ä¿¡å¤§å®¶å·²ç»æ¸…æ¥šäº†ä¸ºä»€ä¹ˆä¸€ä¸ªå«åšä¼ªç±»ï¼Œä¸€ä¸ªå«åšä¼ªå…ƒç´ ä¼ªç±»çš„æ•ˆæœå¯ä»¥é€šè¿‡æ·»åŠ å®é™…çš„ç±»æ¥å®ç°ä¼ªå…ƒç´ çš„æ•ˆæœå¯ä»¥é€šè¿‡æ·»åŠ å®é™…çš„å…ƒç´ æ¥å®ç° å®ƒä»¬çš„æœ¬è´¨åŒºåˆ«å°±æ˜¯æ˜¯å¦æŠ½è±¡åˆ›é€ äº†æ–°å…ƒç´ ä¼ªå…ƒç´ æ˜¯å¯ä»¥è®¾ç½®contentå±æ€§çš„ï¼Œç±»ä¼¼äºæ ‡ç­¾ï¼Œä½†æ˜¯ä¼ªç±»åªèƒ½è®¾ç½®æ ·å¼ä¸èƒ½è®¾ç½®å†…å®¹ã€‚æ³¨æ„ä¼ªç±»å°±åƒçœŸæ­£çš„ç±»ä¸€æ ·ï¼Œå¯ä»¥å åŠ ä½¿ç”¨æ²¡æœ‰æ•°é‡ä¸Šé™ï¼Œåªè¦ä¸æ˜¯äº’æ–¥çš„æ¯”å¦‚è¿™æ ·123em:first-child:hover &#123; color: red;&#125; ä½†æ³¨æ„ï¼Œè¿™é‡Œæ˜¯â€œä¸â€çš„å…³ç³»ä¹Ÿå°±æ˜¯è¯´æ—¢è¦æ»¡è¶³â€œfirst-childâ€ç¬¬ä¸€ä¸ªå­å…ƒç´ åˆè¦æ»¡è¶³â€œhoverâ€å…‰æ ‡æ‚¬æµ®ä¼ªå…ƒç´ å°±è¦ä¸¥æ ¼çš„å¤šä¼ªå…ƒç´ åœ¨ä¸€ä¸ªé€‰æ‹©å™¨ä¸­åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œå¹¶ä¸”åªèƒ½å‡ºç°åœ¨æœ«å°¾ï¼ˆè¿™é‡Œæœ‰åŒå­¦è¯¯ä¼šäº†ï¼Œæ‰€ä»¥æˆ‘ä½œå‡ºäº†ä¿®æ”¹ï¼‰åƒä¸‹é¢çš„æ ·å¼æ˜¯æ— æ³•ç”Ÿæ•ˆçš„123456p::first-letter:hover &#123; /*é”™è¯¯çš„å†™æ³•ï¼šä¼ªå…ƒç´ ä¸æ˜¯æœ«å°¾*/ color: red;&#125;p::first-letter::selection &#123; /*é”™è¯¯çš„å†™æ³•ï¼šä¼ªå…ƒç´ å‡ºç°äº†å¤šä¸ª*/ color: red;&#125; å…³äºå®ƒä»¬çš„ä¼˜å…ˆçº§åœ¨è®¡ç®—æƒé‡çš„æ—¶å€™ä¼ªç±»ä¸ç±»ä¼˜å…ˆçº§ç›¸åŒä¼ªå…ƒç´ ä¸æ ‡ç­¾ä¼˜å…ˆçº§ç›¸åŒ æ€»ç»“ ä¼ªç±»ä¸ä¼ªå…ƒç´ éƒ½æ˜¯ç”¨äºå‘é€‰æ‹©å™¨åŠ ç‰¹æ®Šæ•ˆæœ ä¼ªç±»ä¸ä¼ªå…ƒç´ çš„æœ¬è´¨åŒºåˆ«å°±æ˜¯æ˜¯å¦æŠ½è±¡åˆ›é€ äº†æ–°å…ƒç´  ä¼ªç±»åªè¦ä¸æ˜¯äº’æ–¥å¯ä»¥å åŠ ä½¿ç”¨ ä¼ªå…ƒç´ åœ¨ä¸€ä¸ªé€‰æ‹©å™¨ä¸­åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œå¹¶ä¸”åªèƒ½å‡ºç°åœ¨æœ«å°¾ ä¼ªç±»ä¸ä¼ªå…ƒç´ ä¼˜å…ˆçº§åˆ†åˆ«ä¸ç±»ã€æ ‡ç­¾ä¼˜å…ˆçº§ç›¸åŒ","categories":[{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://xdd7130.github.io/tags/CSS/"}]}],"categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://xdd7130.github.io/categories/ç¬”è®°/"},{"name":"D3","slug":"D3","permalink":"http://xdd7130.github.io/categories/D3/"},{"name":"hexo","slug":"hexo","permalink":"http://xdd7130.github.io/categories/hexo/"},{"name":"Vue3","slug":"Vue3","permalink":"http://xdd7130.github.io/categories/Vue3/"},{"name":"Cesium","slug":"Cesium","permalink":"http://xdd7130.github.io/categories/Cesium/"},{"name":"nginx","slug":"nginx","permalink":"http://xdd7130.github.io/categories/nginx/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/categories/webgis/"},{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/categories/React/"},{"name":"Webå‰ç«¯","slug":"Webå‰ç«¯","permalink":"http://xdd7130.github.io/categories/Webå‰ç«¯/"},{"name":"Vue","slug":"Vue","permalink":"http://xdd7130.github.io/categories/Vue/"},{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"http://xdd7130.github.io/categories/å…¶ä»–/"},{"name":"SVG","slug":"SVG","permalink":"http://xdd7130.github.io/categories/SVG/"},{"name":"Node","slug":"Node","permalink":"http://xdd7130.github.io/categories/Node/"},{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/categories/ArcGIS/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"http://xdd7130.github.io/categories/å°ç¨‹åº/"},{"name":"python","slug":"python","permalink":"http://xdd7130.github.io/categories/python/"},{"name":"git","slug":"git","permalink":"http://xdd7130.github.io/categories/git/"}],"tags":[{"name":"node","slug":"node","permalink":"http://xdd7130.github.io/tags/node/"},{"name":"D3","slug":"D3","permalink":"http://xdd7130.github.io/tags/D3/"},{"name":"hexo","slug":"hexo","permalink":"http://xdd7130.github.io/tags/hexo/"},{"name":"Vue,Vue3,element-plus","slug":"Vue-Vue3-element-plus","permalink":"http://xdd7130.github.io/tags/Vue-Vue3-element-plus/"},{"name":"Cesium","slug":"Cesium","permalink":"http://xdd7130.github.io/tags/Cesium/"},{"name":"Cesium,Vue,Vite","slug":"Cesium-Vue-Vite","permalink":"http://xdd7130.github.io/tags/Cesium-Vue-Vite/"},{"name":"Vue Router4.X,Vue,Vue3","slug":"Vue-Router4-X-Vue-Vue3","permalink":"http://xdd7130.github.io/tags/Vue-Router4-X-Vue-Vue3/"},{"name":"nginx,linux","slug":"nginx-linux","permalink":"http://xdd7130.github.io/tags/nginx-linux/"},{"name":"webgis","slug":"webgis","permalink":"http://xdd7130.github.io/tags/webgis/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://xdd7130.github.io/tags/ç¬”è®°/"},{"name":"mock,linux","slug":"mock-linux","permalink":"http://xdd7130.github.io/tags/mock-linux/"},{"name":"React","slug":"React","permalink":"http://xdd7130.github.io/tags/React/"},{"name":"ES6","slug":"ES6","permalink":"http://xdd7130.github.io/tags/ES6/"},{"name":"Promise","slug":"Promise","permalink":"http://xdd7130.github.io/tags/Promise/"},{"name":"Vue","slug":"Vue","permalink":"http://xdd7130.github.io/tags/Vue/"},{"name":"PROBLEM","slug":"PROBLEM","permalink":"http://xdd7130.github.io/tags/PROBLEM/"},{"name":"Node.js","slug":"Node-js","permalink":"http://xdd7130.github.io/tags/Node-js/"},{"name":"IISæœåŠ¡å™¨","slug":"IISæœåŠ¡å™¨","permalink":"http://xdd7130.github.io/tags/IISæœåŠ¡å™¨/"},{"name":"SVG","slug":"SVG","permalink":"http://xdd7130.github.io/tags/SVG/"},{"name":"å¤§å±","slug":"å¤§å±","permalink":"http://xdd7130.github.io/tags/å¤§å±/"},{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://xdd7130.github.io/tags/å®‰å…¨/"},{"name":"vue","slug":"vue","permalink":"http://xdd7130.github.io/tags/vue/"},{"name":"ArcGIS","slug":"ArcGIS","permalink":"http://xdd7130.github.io/tags/ArcGIS/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"http://xdd7130.github.io/tags/å°ç¨‹åº/"},{"name":"js","slug":"js","permalink":"http://xdd7130.github.io/tags/js/"},{"name":"WebSocket","slug":"WebSocket","permalink":"http://xdd7130.github.io/tags/WebSocket/"},{"name":"pythonåŸºç¡€","slug":"pythonåŸºç¡€","permalink":"http://xdd7130.github.io/tags/pythonåŸºç¡€/"},{"name":"ArcGIS API for JS","slug":"ArcGIS-API-for-JS","permalink":"http://xdd7130.github.io/tags/ArcGIS-API-for-JS/"},{"name":"git","slug":"git","permalink":"http://xdd7130.github.io/tags/git/"},{"name":"å‰ç«¯å·¥ä½œæµ","slug":"å‰ç«¯å·¥ä½œæµ","permalink":"http://xdd7130.github.io/tags/å‰ç«¯å·¥ä½œæµ/"},{"name":"tcp","slug":"tcp","permalink":"http://xdd7130.github.io/tags/tcp/"},{"name":"CSS","slug":"CSS","permalink":"http://xdd7130.github.io/tags/CSS/"},{"name":"å±…ä¸­","slug":"å±…ä¸­","permalink":"http://xdd7130.github.io/tags/å±…ä¸­/"},{"name":"ç›’æ¨¡å‹","slug":"ç›’æ¨¡å‹","permalink":"http://xdd7130.github.io/tags/ç›’æ¨¡å‹/"},{"name":"JS","slug":"JS","permalink":"http://xdd7130.github.io/tags/JS/"},{"name":"é—­åŒ…","slug":"é—­åŒ…","permalink":"http://xdd7130.github.io/tags/é—­åŒ…/"},{"name":"æ•°ç»„","slug":"æ•°ç»„","permalink":"http://xdd7130.github.io/tags/æ•°ç»„/"},{"name":"cookie","slug":"cookie","permalink":"http://xdd7130.github.io/tags/cookie/"},{"name":"è·¨åŸŸ","slug":"è·¨åŸŸ","permalink":"http://xdd7130.github.io/tags/è·¨åŸŸ/"},{"name":"http","slug":"http","permalink":"http://xdd7130.github.io/tags/http/"},{"name":"ç¼“å­˜","slug":"ç¼“å­˜","permalink":"http://xdd7130.github.io/tags/ç¼“å­˜/"},{"name":"åŸå‹ï¼Œç»§æ‰¿","slug":"åŸå‹ï¼Œç»§æ‰¿","permalink":"http://xdd7130.github.io/tags/åŸå‹ï¼Œç»§æ‰¿/"}]}